(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var rd={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function _A(){if(Gy)return el;Gy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return el.Fragment=t,el.jsx=i,el.jsxs=i,el}var Fy;function vA(){return Fy||(Fy=1,rd.exports=_A()),rd.exports}var Xt=vA(),sd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function EA(){if(Qy)return At;Qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function N(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(I,Y,et){this.props=I,this.context=Y,this.refs=nt,this.updater=et||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},Z.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function ft(I,Y,et){this.props=I,this.context=Y,this.refs=nt,this.updater=et||G}var lt=ft.prototype=new Tt;lt.constructor=ft,$(lt,Z.prototype),lt.isPureReactComponent=!0;var Nt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function M(I,Y,et,J,ut,Rt){return et=Rt.ref,{$$typeof:r,type:I,key:Y,ref:et!==void 0?et:null,props:Rt}}function S(I,Y){return M(I.type,Y,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function O(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(et){return Y[et]})}var V=/\/+/g;function P(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):Y.toString(36)}function w(){}function Me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function re(I,Y,et,J,ut){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var yt=!1;if(I===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(I.$$typeof){case r:case t:yt=!0;break;case A:return yt=I._init,re(yt(I._payload),Y,et,J,ut)}}if(yt)return ut=ut(I),yt=J===""?"."+P(I,0):J,Nt(ut)?(et="",yt!=null&&(et=yt.replace(V,"$&/")+"/"),re(ut,Y,et,"",function(xn){return xn})):ut!=null&&(R(ut)&&(ut=S(ut,et+(ut.key==null||I&&I.key===ut.key?"":(""+ut.key).replace(V,"$&/")+"/")+yt)),Y.push(ut)),1;yt=0;var Re=J===""?".":J+":";if(Nt(I))for(var Zt=0;Zt<I.length;Zt++)J=I[Zt],Rt=Re+P(J,Zt),yt+=re(J,Y,et,Rt,ut);else if(Zt=N(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(J=I.next()).done;)J=J.value,Rt=Re+P(J,Zt++),yt+=re(J,Y,et,Rt,ut);else if(Rt==="object"){if(typeof I.then=="function")return re(Me(I),Y,et,J,ut);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return yt}function j(I,Y,et){if(I==null)return I;var J=[],ut=0;return re(I,J,"","",function(Rt){return Y.call(et,Rt,ut++)}),J}function tt(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(et){(I._status===0||I._status===-1)&&(I._status=1,I._result=et)},function(et){(I._status===0||I._status===-1)&&(I._status=2,I._result=et)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Lt(){}return At.Children={map:j,forEach:function(I,Y,et){j(I,function(){Y.apply(this,arguments)},et)},count:function(I){var Y=0;return j(I,function(){Y++}),Y},toArray:function(I){return j(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},At.Component=Z,At.Fragment=i,At.Profiler=l,At.PureComponent=ft,At.StrictMode=a,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(I){return _t.H.useMemoCache(I)}},At.cache=function(I){return function(){return I.apply(null,arguments)}},At.cloneElement=function(I,Y,et){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var J=$({},I.props),ut=I.key,Rt=void 0;if(Y!=null)for(yt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(ut=""+Y.key),Y)!Mt.call(Y,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Y.ref===void 0||(J[yt]=Y[yt]);var yt=arguments.length-2;if(yt===1)J.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return M(I.type,ut,void 0,void 0,Rt,J)},At.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},At.createElement=function(I,Y,et){var J,ut={},Rt=null;if(Y!=null)for(J in Y.key!==void 0&&(Rt=""+Y.key),Y)Mt.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=Y[J]);var yt=arguments.length-2;if(yt===1)ut.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ut.children=Re}if(I&&I.defaultProps)for(J in yt=I.defaultProps,yt)ut[J]===void 0&&(ut[J]=yt[J]);return M(I,Rt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:g,render:I}},At.isValidElement=R,At.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:tt}},At.memo=function(I,Y){return{$$typeof:v,type:I,compare:Y===void 0?null:Y}},At.startTransition=function(I){var Y=_t.T,et={};_t.T=et;try{var J=I(),ut=_t.S;ut!==null&&ut(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,at)}catch(Rt){at(Rt)}finally{_t.T=Y}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(I){return _t.H.use(I)},At.useActionState=function(I,Y,et){return _t.H.useActionState(I,Y,et)},At.useCallback=function(I,Y){return _t.H.useCallback(I,Y)},At.useContext=function(I){return _t.H.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I,Y){return _t.H.useDeferredValue(I,Y)},At.useEffect=function(I,Y,et){var J=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(I,Y)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(I,Y,et){return _t.H.useImperativeHandle(I,Y,et)},At.useInsertionEffect=function(I,Y){return _t.H.useInsertionEffect(I,Y)},At.useLayoutEffect=function(I,Y){return _t.H.useLayoutEffect(I,Y)},At.useMemo=function(I,Y){return _t.H.useMemo(I,Y)},At.useOptimistic=function(I,Y){return _t.H.useOptimistic(I,Y)},At.useReducer=function(I,Y,et){return _t.H.useReducer(I,Y,et)},At.useRef=function(I){return _t.H.useRef(I)},At.useState=function(I){return _t.H.useState(I)},At.useSyncExternalStore=function(I,Y,et){return _t.H.useSyncExternalStore(I,Y,et)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var Ky;function Fd(){return Ky||(Ky=1,sd.exports=EA()),sd.exports}var fl=Fd(),ad={exports:{}},nl={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function TA(){return Yy||(Yy=1,function(r){function t(j,tt){var at=j.length;j.push(tt);t:for(;0<at;){var Lt=at-1>>>1,I=j[Lt];if(0<l(I,tt))j[Lt]=tt,j[at]=I,at=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],at=j.pop();if(at!==tt){j[0]=at;t:for(var Lt=0,I=j.length,Y=I>>>1;Lt<Y;){var et=2*(Lt+1)-1,J=j[et],ut=et+1,Rt=j[ut];if(0>l(J,at))ut<I&&0>l(Rt,J)?(j[Lt]=Rt,j[ut]=at,Lt=ut):(j[Lt]=J,j[et]=at,Lt=et);else if(ut<I&&0>l(Rt,at))j[Lt]=Rt,j[ut]=at,Lt=ut;else break t}}return tt}function l(j,tt){var at=j.sortIndex-tt.sortIndex;return at!==0?at:j.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,C=null,N=3,G=!1,$=!1,nt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Nt(j){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=j)a(v),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(v)}}function _t(j){if(nt=!1,Nt(j),!$)if(i(p)!==null)$=!0,Mt||(Mt=!0,P());else{var tt=i(v);tt!==null&&re(_t,tt.startTime-j)}}var Mt=!1,M=-1,S=5,R=-1;function O(){return Z?!0:!(r.unstable_now()-R<S)}function V(){if(Z=!1,Mt){var j=r.unstable_now();R=j;var tt=!0;try{t:{$=!1,nt&&(nt=!1,ft(M),M=-1),G=!0;var at=N;try{e:{for(Nt(j),C=i(p);C!==null&&!(C.expirationTime>j&&O());){var Lt=C.callback;if(typeof Lt=="function"){C.callback=null,N=C.priorityLevel;var I=Lt(C.expirationTime<=j);if(j=r.unstable_now(),typeof I=="function"){C.callback=I,Nt(j),tt=!0;break e}C===i(p)&&a(p),Nt(j)}else a(p);C=i(p)}if(C!==null)tt=!0;else{var Y=i(v);Y!==null&&re(_t,Y.startTime-j),tt=!1}}break t}finally{C=null,N=at,G=!1}tt=void 0}}finally{tt?P():Mt=!1}}}var P;if(typeof lt=="function")P=function(){lt(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=V,P=function(){Me.postMessage(null)}}else P=function(){Tt(V,0)};function re(j,tt){M=Tt(function(){j(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(j){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var at=N;N=tt;try{return j()}finally{N=at}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var at=N;N=j;try{return tt()}finally{N=at}},r.unstable_scheduleCallback=function(j,tt,at){var Lt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Lt+at:Lt):at=Lt,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=at+I,j={id:A++,callback:tt,priorityLevel:j,startTime:at,expirationTime:I,sortIndex:-1},at>Lt?(j.sortIndex=at,t(v,j),i(p)===null&&j===i(v)&&(nt?(ft(M),M=-1):nt=!0,re(_t,at-Lt))):(j.sortIndex=I,t(p,j),$||G||($=!0,Mt||(Mt=!0,P()))),j},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(j){var tt=N;return function(){var at=N;N=tt;try{return j.apply(this,arguments)}finally{N=at}}}}(ld)),ld}var Xy;function AA(){return Xy||(Xy=1,od.exports=TA()),od.exports}var ud={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function SA(){if($y)return He;$y=1;var r=Fd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},He.flushSync=function(p){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},He.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},He.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:N,fetchPriority:G}):A==="script"&&a.d.X(p,{crossOrigin:C,integrity:N,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},He.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);a.d.L(p,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},He.requestFormReset=function(p){a.d.r(p)},He.unstable_batchedUpdates=function(p,v){return p(v)},He.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var Zy;function bA(){if(Zy)return ud.exports;Zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=SA(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function RA(){if(Jy)return nl;Jy=1;var r=AA(),t=Fd(),i=bA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===s){_=!0,s=h,o=f;break}if(E===o){_=!0,o=h,s=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===s){_=!0,s=f,o=h;break}if(E===o){_=!0,o=f,s=h;break}E=E.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:Me(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Me(e(n))}catch{}}return null}var re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Lt=[],I=-1;function Y(e){return{current:e}}function et(e){0>I||(e.current=Lt[I],Lt[I]=null,I--)}function J(e,n){I++,Lt[I]=e.current,e.current=n}var ut=Y(null),Rt=Y(null),yt=Y(null),Re=Y(null);function Zt(e,n){switch(J(yt,n),J(Rt,e),J(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?_y(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=_y(n),e=vy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),J(ut,e)}function xn(){et(ut),et(Rt),et(yt)}function ji(e){e.memoizedState!==null&&J(Re,e);var n=ut.current,s=vy(n,e.type);n!==s&&(J(Rt,e),J(ut,s))}function oi(e){Rt.current===e&&(et(ut),et(Rt)),Re.current===e&&(et(Re),$o._currentValue=at)}var Pr=Object.prototype.hasOwnProperty,xr=r.unstable_scheduleCallback,kr=r.unstable_cancelCallback,Qa=r.unstable_shouldYield,Nl=r.unstable_requestPaint,fn=r.unstable_now,ih=r.unstable_getCurrentPriorityLevel,Ka=r.unstable_ImmediatePriority,Os=r.unstable_UserBlockingPriority,Lr=r.unstable_NormalPriority,rh=r.unstable_LowPriority,Ns=r.unstable_IdlePriority,Ya=r.log,Ml=r.unstable_setDisableYieldValue,se=null,jt=null;function nn(e){if(typeof Ya=="function"&&Ml(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:zr,Vl=Math.log,sh=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(Vl(e)/sh|0)|0}var Br=256,qr=4194304;function wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ms(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=wn(o):(_&=E,_!==0?h=wn(_):s||(s=E&~e,s!==0&&(h=wn(s))))):(E=o&~f,E!==0?h=wn(E):_!==0?h=wn(_):s||(s=o&~e,s!==0&&(h=wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function jr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Xa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $a(){var e=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),e}function Za(){var e=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),e}function li(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ui(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ja(e,n,s,o,h,f){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(s=_&~s;0<s;){var H=31-qe(s),Q=1<<H;E[H]=0,b[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}s&=~Q}o!==0&&kn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function kn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Wa(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-qe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Hi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Ly(e.type))}function Ul(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,fe="__reactProps$"+Wt,dn="__reactContainer$"+Wt,to="__reactEvents$"+Wt,ah="__reactListeners$"+Wt,Fi="__reactHandles$"+Wt,Pl="__reactResources$"+Wt,Hr="__reactMarker$"+Wt;function Qi(e){delete e[ye],delete e[fe],delete e[to],delete e[ah],delete e[Fi]}function ci(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[dn]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Sy(e);e!==null;){if(s=e[ye])return s;e=Sy(e)}return n}e=s,s=e.parentNode}return null}function Ln(e){if(e=e[ye]||e[dn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function zn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ye(e){var n=e[Pl];return n||(n=e[Pl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Hr]=!0}var eo=new Set,Us={};function In(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(Us[e]=n,e=0;e<n.length;e++)eo.add(n[e])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Gr={};function Ll(e){return Pr.call(Gr,e)?!0:Pr.call(kl,e)?!1:xl.test(e)?Gr[e]=!0:(kl[e]=!0,!1)}function Ki(e,n,s){if(Ll(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var Fr,zl;function fi(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",zl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+zl}var Ps=!1;function xs(e,n){if(!e||Ps)return"";Ps=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Ps=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?fi(s):""}function no(e){switch(e.tag){case 26:case 27:case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return xs(e.type,!1);case 11:return xs(e.type.render,!1);case 1:return xs(e.type,!0);case 31:return fi("Activity");default:return""}}function ks(e){try{var n="";do n+=no(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function io(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oh(e){var n=io(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ls(e){e._valueTracker||(e._valueTracker=oh(e))}function ro(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=io(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lh=/[\n"\\]/g;function de(e){return e.replace(lh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,s,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Yi(e,_,Xe(n)):s!=null?Yi(e,_,Xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Kr(e,n,s,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Xe(s):"",n=n!=null?""+Xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Yi(e,n,s){n==="number"&&Qr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function di(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ft(e,n,s){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Xe(s):""}function Yr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(re(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Xr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function so(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Bl(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bl(e,f,n[f])}function ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mi=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gi=null,pi=null;function oo(e){var n=Ln(e);if(n&&(e=n.stateNode)){var s=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(a(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ro(o)}break t;case"textarea":Ft(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&di(e,!!s.multiple,n,!1)}}}var qn=!1;function ql(e,n,s){if(qn)return e(n,s);qn=!0;try{var o=e(n);return o}finally{if(qn=!1,(gi!==null||pi!==null)&&(Uu(),gi&&(n=gi,e=pi,pi=gi=null,oo(n),e)))for(n=0;n<e.length;n++)oo(e[n])}}function $r(e,n){var s=e.stateNode;if(s===null)return null;var o=s[fe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Cn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{pn=!1}var jn=null,Xi=null,yi=null;function lo(){if(yi)return yi;var e,n=Xi,s=n.length,o,h="value"in jn?jn.value:jn.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===h[f-o];o++);return yi=h.slice(e,1<o?1-o:void 0)}function Hn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gn(){return!0}function uo(){return!1}function we(e){function n(s,o,h,f,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:uo,this.isPropagationStopped=uo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=we(Bt),Jr=A({},Bt,{view:0,detail:0}),jl=we(Jr),qs,js,Fn,Wr=A({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(qs=e.screenX-Fn.screenX,js=e.screenY-Fn.screenY):js=qs=0,Fn=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:js}}),yn=we(Wr),Hl=A({},Wr,{dataTransfer:0}),hh=we(Hl),ts=A({},Jr,{relatedTarget:0}),Hs=we(ts),co=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=we(co),Gl=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fs=we(Gl),fh=A({},Bt,{data:0}),ho=we(fh),es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ql[e])?!!n[e]:!1}function ns(){return fo}var Kl=A({},Jr,{key:function(e){if(e.key){var n=es[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Hn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?Hn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qs=we(Kl),Yl=A({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=we(Yl),_i=A({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Xl=we(_i),$l=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zl=we($l),Jl=A({},Wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=we(Jl),$e=A({},Bt,{newState:0,oldState:0}),Wl=we($e),tu=[9,13,27,32],Qn=Cn&&"CompositionEvent"in window,u=null;Cn&&"documentMode"in document&&(u=document.documentMode);var m=Cn&&"TextEvent"in window&&!u,y=Cn&&(!Qn||u&&8<u&&11>=u),T=" ",x=!1;function q(e,n){switch(e){case"keyup":return tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function _e(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return e=n.data,e===T&&x?null:e;default:return null}}function Ut(e,n){if(Vt)return e==="compositionend"||!Qn&&q(e,n)?(e=lo(),yi=Xi=jn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function vi(e,n,s,o){gi?pi?pi.push(o):pi=[o]:gi=o,n=Bu(n,"onChange"),0<n.length&&(s=new Bs("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ue=null,Kn=null;function go(e){dy(e,0)}function eu(e){var n=zn(e);if(ro(n))return e}function Um(e,n){if(e==="change")return n}var Pm=!1;if(Cn){var dh;if(Cn){var mh="oninput"in document;if(!mh){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),mh=typeof xm.oninput=="function"}dh=mh}else dh=!1;Pm=dh&&(!document.documentMode||9<document.documentMode)}function km(){Ue&&(Ue.detachEvent("onpropertychange",Lm),Kn=Ue=null)}function Lm(e){if(e.propertyName==="value"&&eu(Kn)){var n=[];vi(n,Kn,e,gn(e)),ql(go,n)}}function YE(e,n,s){e==="focusin"?(km(),Ue=n,Kn=s,Ue.attachEvent("onpropertychange",Lm)):e==="focusout"&&km()}function XE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(Kn)}function $E(e,n){if(e==="click")return eu(n)}function ZE(e,n){if(e==="input"||e==="change")return eu(n)}function JE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:JE;function po(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Pr.call(n,h)||!sn(e[h],n[h]))return!1}return!0}function zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bm(e,n){var s=zm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=zm(s)}}function qm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Qr(e.document)}return n}function gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WE=Cn&&"documentMode"in document&&11>=document.documentMode,Ys=null,ph=null,yo=null,yh=!1;function Hm(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||Ys==null||Ys!==Qr(o)||(o=Ys,"selectionStart"in o&&gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yo&&po(yo,o)||(yo=o,o=Bu(ph,"onSelect"),0<o.length&&(n=new Bs("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ys)))}function is(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Xs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},_h={},Gm={};Cn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function rs(e){if(_h[e])return _h[e];if(!Xs[e])return e;var n=Xs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gm)return _h[e]=n[s];return e}var Fm=rs("animationend"),Qm=rs("animationiteration"),Km=rs("animationstart"),tT=rs("transitionrun"),eT=rs("transitionstart"),nT=rs("transitioncancel"),Ym=rs("transitionend"),Xm=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function Dn(e,n){Xm.set(e,n),In(n,[e])}var $m=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var s=$m.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ks(n)},$m.set(e,n),n)}return{value:e,source:n,stack:ks(n)}}var vn=[],$s=0,Eh=0;function nu(){for(var e=$s,n=Eh=$s=0;n<e;){var s=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var h=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Zm(s,h,f)}}function iu(e,n,s,o){vn[$s++]=e,vn[$s++]=n,vn[$s++]=s,vn[$s++]=o,Eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Th(e,n,s,o){return iu(e,n,s,o),ru(e)}function Zs(e,n){return iu(e,null,null,n),ru(e)}function Zm(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-qe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function ru(e){if(50<jo)throw jo=0,Cf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Js={};function iT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,s,o){return new iT(e,n,s,o)}function Ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ei(e,n){var s=e.alternate;return s===null?(s=an(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Jm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function su(e,n,s,o,h,f){var _=0;if(o=e,typeof e=="function")Ah(e)&&(_=1);else if(typeof e=="string")_=sA(e,s,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=an(31,s,n,h),e.elementType=R,e.lanes=f,e;case $:return ss(s.children,h,f,n);case nt:_=8,h|=24;break;case Z:return e=an(12,s,n,h|2),e.elementType=Z,e.lanes=f,e;case _t:return e=an(13,s,n,h),e.elementType=_t,e.lanes=f,e;case Mt:return e=an(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case lt:_=10;break t;case ft:_=9;break t;case Nt:_=11;break t;case M:_=14;break t;case S:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=an(_,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ss(e,n,s,o){return e=an(7,e,o,n),e.lanes=s,e}function Sh(e,n,s){return e=an(6,e,null,n),e.lanes=s,e}function bh(e,n,s){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ws=[],ta=0,au=null,ou=0,En=[],Tn=0,as=null,Ti=1,Ai="";function os(e,n){Ws[ta++]=ou,Ws[ta++]=au,au=e,ou=n}function Wm(e,n,s){En[Tn++]=Ti,En[Tn++]=Ai,En[Tn++]=as,as=e;var o=Ti;e=Ai;var h=32-qe(o)-1;o&=~(1<<h),s+=1;var f=32-qe(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ti=1<<32-qe(n)+h|s<<h|o,Ai=f+e}else Ti=1<<f|s<<h|o,Ai=e}function Rh(e){e.return!==null&&(os(e,1),Wm(e,1,0))}function wh(e){for(;e===au;)au=Ws[--ta],Ws[ta]=null,ou=Ws[--ta],Ws[ta]=null;for(;e===as;)as=En[--Tn],En[Tn]=null,Ai=En[--Tn],En[Tn]=null,Ti=En[--Tn],En[Tn]=null}var Ze=null,ae=null,zt=!1,ls=null,Yn=!1,Ih=Error(a(519));function us(e){var n=Error(a(418,""));throw Eo(_n(n,e)),Ih}function tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[fe]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<Go.length;s++)Ct(Go[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Kr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ls(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Yr(n,o.value,o.defaultValue,o.children),Ls(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||yy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=qu),n=!0):n=!1,n||us(e)}function eg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function _o(e){if(e!==Ze)return!1;if(!zt)return eg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Gf(e.type,e.memoizedProps)),s=!s),s&&ae&&us(e),eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ae=Nn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,hr(e.type)?(e=Yf,Yf=null,ae=e):ae=n):ae=Ze?Nn(e.stateNode.nextSibling):null;return!0}function vo(){ae=Ze=null,zt=!1}function ng(){var e=ls;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),ls=null),e}function Eo(e){ls===null?ls=[e]:ls.push(e)}var Ch=Y(null),cs=null,Si=null;function $i(e,n,s){J(Ch,n._currentValue),n._currentValue=s}function bi(e){e._currentValue=Ch.current,et(Ch)}function Dh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Oh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Dh(f.return,s,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),Dh(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function To(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=h.type;sn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}h=h.return}e!==null&&Oh(n,e,s,o),n.flags|=262144}function lu(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hs(e){cs=e,Si=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return ig(cs,e)}function uu(e,n){return cs===null&&hs(e),ig(e,n)}function ig(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Si===null){if(e===null)throw Error(a(308));Si=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Si=Si.next=n;return s}var rT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},sT=r.unstable_scheduleCallback,aT=r.unstable_NormalPriority,Ee={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new rT,data:new Map,refCount:0}}function Ao(e){e.refCount--,e.refCount===0&&sT(aT,function(){e.controller.abort()})}var So=null,Mh=0,ea=0,na=null;function oT(e,n){if(So===null){var s=So=[];Mh=0,ea=Pf(),na={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Mh++,n.then(rg,rg),n}function rg(){if(--Mh===0&&So!==null){na!==null&&(na.status="fulfilled");var e=So;So=null,ea=0,na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var sg=j.S;j.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&oT(e,n),sg!==null&&sg(e,n)};var fs=Y(null);function Vh(){var e=fs.current;return e!==null?e:Jt.pooledCache}function cu(e,n){n===null?J(fs,fs.current):J(fs,n.pool)}function ag(){var e=Vh();return e===null?null:{parent:Ee._currentValue,pool:e}}var bo=Error(a(460)),og=Error(a(474)),hu=Error(a(542)),Uh={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fu(){}function ug(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(fu,fu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e;default:if(typeof n.status=="string")n.then(fu,fu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hg(e),e}throw Ro=n,bo}}var Ro=null;function cg(){if(Ro===null)throw Error(a(459));var e=Ro;return Ro=null,e}function hg(e){if(e===bo||e===hu)throw Error(a(483))}var Zi=!1;function Ph(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ru(e),Zm(e,null,s),n}return iu(e,o,n,s),ru(e)}function wo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Wa(e,s)}}function kh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Lh=!1;function Io(){if(Lh){var e=na;if(e!==null)throw e}}function Co(e,n,s,o){Lh=!1;var h=e.updateQueue;Zi=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,_===null?f=L:_.next=L,_=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;_=0,H=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Pt&z)===z:(o&z)===z){z!==0&&z===ea&&(Lh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ht=E;z=n;var Yt=s;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Q=gt.call(Yt,Q,z);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,z=typeof gt=="function"?gt.call(Yt,Q,z):gt,z==null)break t;Q=A({},Q,z);break t;case 2:Zi=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=Q):H=H.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),or|=_,e.lanes=_,e.memoizedState=Q}}function fg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function dg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)fg(s[e],n)}var ia=Y(null),du=Y(0);function mg(e,n){e=Ni,J(du,e),J(ia,n),Ni=e|n.baseLanes}function zh(){J(du,Ni),J(ia,ia.current)}function Bh(){Ni=du.current,et(ia),et(du)}var tr=0,St=null,Qt=null,me=null,mu=!1,ra=!1,ds=!1,gu=0,Do=0,sa=null,uT=0;function ue(){throw Error(a(321))}function qh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!sn(e[s],n[s]))return!1;return!0}function jh(e,n,s,o,h,f){return tr=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?Zg:Jg,ds=!1,f=s(o,h),ds=!1,ra&&(f=pg(n,s,o,h)),gg(e),f}function gg(e){j.H=Tu;var n=Qt!==null&&Qt.next!==null;if(tr=0,me=Qt=St=null,mu=!1,Do=0,sa=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&lu(e)&&(Ce=!0))}function pg(e,n,s,o){St=e;var h=0;do{if(ra&&(sa=null),Do=0,ra=!1,25<=h)throw Error(a(301));if(h+=1,me=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=pT,f=n(s,o)}while(ra);return f}function cT(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Oo(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(St.flags|=1024),n}function Hh(){var e=gu!==0;return gu=0,e}function Gh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Fh(e){if(mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}mu=!1}tr=0,me=Qt=St=null,ra=!1,Do=gu=0,sa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=e:me=me.next=e,me}function ge(){if(Qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Qt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?St.memoizedState=me=e:me=me.next=e}return me}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var n=Do;return Do+=1,sa===null&&(sa=[]),e=ug(sa,e,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Zg:Jg),e}function pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===lt)return je(e)}throw Error(a(438,String(e)))}function Kh(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Qh(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function Ri(e,n){return typeof n=="function"?n(e):n}function yu(e){var n=ge();return Yh(n,Qt,e)}function Yh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,b=null,L=n,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Pt&Q)===Q:(tr&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ea&&(H=!0);else if((tr&z)===z){L=L.next,z===ea&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,_=f):b=b.next=Q,St.lanes|=z,or|=z;Q=L.action,ds&&s(f,Q),f=L.hasEagerState?L.eagerState:s(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,_=f):b=b.next=z,St.lanes|=Q,or|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?_=f:b.next=E,!sn(f,e.memoizedState)&&(Ce=!0,H&&(s=na,s!==null)))throw s;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Xh(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);sn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function yg(e,n,s){var o=St,h=ge(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!sn((Qt||h).memoizedState,s);_&&(h.memoizedState=s,Ce=!0),h=h.queue;var E=Eg.bind(null,o,h,e);if(No(2048,8,E,[e]),h.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,aa(9,_u(),vg.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(tr&124)!==0||_g(o,n,s)}return s}function _g(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Qh(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function vg(e,n,s,o){n.value=s,n.getSnapshot=o,Tg(n)&&Ag(e)}function Eg(e,n,s){return s(function(){Tg(n)&&Ag(e)})}function Tg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!sn(e,s)}catch{return!0}}function Ag(e){var n=Zs(e,2);n!==null&&hn(n,e,2)}function $h(e){var n=Je();if(typeof e=="function"){var s=e;if(e=s(),ds){nn(!0);try{s()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},n}function Sg(e,n,s,o){return e.baseState=s,Yh(e,Qt,typeof o=="function"?o:Ri)}function hT(e,n,s,o,h){if(Eu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};j.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,bg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function bg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,_={};j.T=_;try{var E=s(h,o),b=j.S;b!==null&&b(_,E),Rg(e,n,E)}catch(L){Zh(e,n,L)}finally{j.T=f}}else try{f=s(h,o),Rg(e,n,f)}catch(L){Zh(e,n,L)}}function Rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){wg(e,n,o)},function(o){return Zh(e,n,o)}):wg(e,n,s)}function wg(e,n,s){n.status="fulfilled",n.value=s,Ig(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,bg(e,s)))}function Zh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ig(n),n=n.next;while(n!==o)}e.action=null}function Ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cg(e,n){return n}function Dg(e,n){if(zt){var s=Jt.formState;if(s!==null){t:{var o=St;if(zt){if(ae){e:{for(var h=ae,f=Yn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Nn(h.nextSibling),o=h.data==="F!";break t}}us(o)}o=!1}o&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},s.queue=o,s=Yg.bind(null,St,o),o.dispatch=s,o=$h(!1),f=nf.bind(null,St,!1,o.queue),o=Je(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=hT.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Og(e){var n=ge();return Ng(n,Qt,e)}function Ng(e,n,s){if(n=Yh(e,n,Cg)[0],e=yu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Oo(n)}catch(_){throw _===bo?hu:_}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,aa(9,_u(),fT.bind(null,h,s),null)),[o,f,e]}function fT(e,n){e.action=n}function Mg(e){var n=ge(),s=Qt;if(s!==null)return Ng(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function aa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Qh(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function _u(){return{destroy:void 0,resource:void 0}}function Vg(){return ge().memoizedState}function vu(e,n,s,o){var h=Je();o=o===void 0?null:o,St.flags|=e,h.memoizedState=aa(1|n,_u(),s,o)}function No(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&qh(o,Qt.memoizedState.deps)?h.memoizedState=aa(n,f,s,o):(St.flags|=e,h.memoizedState=aa(1|n,f,s,o))}function Ug(e,n){vu(8390656,8,e,n)}function Pg(e,n){No(2048,8,e,n)}function xg(e,n){return No(4,2,e,n)}function kg(e,n){return No(4,4,e,n)}function Lg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zg(e,n,s){s=s!=null?s.concat([e]):null,No(4,4,Lg.bind(null,n,e),s)}function Jh(){}function Bg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&qh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function qg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&qh(n,o[1]))return o[0];if(o=e(),ds){nn(!0);try{e()}finally{nn(!1)}}return s.memoizedState=[o,n],o}function Wh(e,n,s){return s===void 0||(tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Gp(),St.lanes|=e,or|=e,s)}function jg(e,n,s,o){return sn(s,n)?s:ia.current!==null?(e=Wh(e,s,o),sn(e,n)||(Ce=!0),e):(tr&42)===0?(Ce=!0,e.memoizedState=s):(e=Gp(),St.lanes|=e,or|=e,n)}function Hg(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=j.T,E={};j.T=E,nf(e,!1,n,s);try{var b=h(),L=j.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=lT(b,o);Mo(e,n,H,cn(e))}else Mo(e,n,o,cn(e))}catch(Q){Mo(e,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{tt.p=f,j.T=_}}function dT(){}function tf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Gg(e).queue;Hg(e,h,n,at,s===null?dT:function(){return Fg(e),s(o)})}function Gg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:at},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fg(e){var n=Gg(e).next.queue;Mo(e,n,{},cn())}function ef(){return je($o)}function Qg(){return ge().memoizedState}function Kg(){return ge().memoizedState}function mT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=cn();e=Ji(s);var o=Wi(n,e,s);o!==null&&(hn(o,n,s),wo(o,n,s)),n={cache:Nh()},e.payload=n;return}n=n.return}}function gT(e,n,s){var o=cn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Eu(e)?Xg(n,s):(s=Th(e,n,s,o),s!==null&&(hn(s,e,o),$g(s,n,o)))}function Yg(e,n,s){var o=cn();Mo(e,n,s,o)}function Mo(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))Xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,s);if(h.hasEagerState=!0,h.eagerState=E,sn(E,_))return iu(e,n,h,0),Jt===null&&nu(),!1}catch{}finally{}if(s=Th(e,n,h,o),s!==null)return hn(s,e,o),$g(s,n,o),!0}return!1}function nf(e,n,s,o){if(o={lane:2,revertLane:Pf(),action:o,hasEagerState:!1,eagerState:null,next:null},Eu(e)){if(n)throw Error(a(479))}else n=Th(e,s,o,2),n!==null&&hn(n,e,2)}function Eu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Xg(e,n){ra=mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function $g(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Wa(e,s)}}var Tu={readContext:je,use:pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Zg={readContext:je,use:pu,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Ug,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,vu(4194308,4,Lg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return vu(4194308,4,e,n)},useInsertionEffect:function(e,n){vu(4,2,e,n)},useMemo:function(e,n){var s=Je();n=n===void 0?null:n;var o=e();if(ds){nn(!0);try{e()}finally{nn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=Je();if(s!==void 0){var h=s(n);if(ds){nn(!0);try{s(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=gT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=$h(e);var n=e.queue,s=Yg.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Jh,useDeferredValue:function(e,n){var s=Je();return Wh(s,e,n)},useTransition:function(){var e=$h(!1);return e=Hg.bind(null,St,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=Je();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Pt&124)!==0||_g(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ug(Eg.bind(null,o,f,e),[e]),o.flags|=2048,aa(9,_u(),vg.bind(null,o,f,s,n),null),s},useId:function(){var e=Je(),n=Jt.identifierPrefix;if(zt){var s=Ai,o=Ti;s=(o&~(1<<32-qe(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=gu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=uT++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:ef,useFormState:Dg,useActionState:Dg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=nf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:Kh,useCacheRefresh:function(){return Je().memoizedState=mT.bind(null,St)}},Jg={readContext:je,use:pu,useCallback:Bg,useContext:je,useEffect:Pg,useImperativeHandle:zg,useInsertionEffect:xg,useLayoutEffect:kg,useMemo:qg,useReducer:yu,useRef:Vg,useState:function(){return yu(Ri)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=ge();return jg(s,Qt.memoizedState,e,n)},useTransition:function(){var e=yu(Ri)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:ef,useFormState:Og,useActionState:Og,useOptimistic:function(e,n){var s=ge();return Sg(s,Qt,e,n)},useMemoCache:Kh,useCacheRefresh:Kg},pT={readContext:je,use:pu,useCallback:Bg,useContext:je,useEffect:Pg,useImperativeHandle:zg,useInsertionEffect:xg,useLayoutEffect:kg,useMemo:qg,useReducer:Xh,useRef:Vg,useState:function(){return Xh(Ri)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=ge();return Qt===null?Wh(s,e,n):jg(s,Qt.memoizedState,e,n)},useTransition:function(){var e=Xh(Ri)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:ef,useFormState:Mg,useActionState:Mg,useOptimistic:function(e,n){var s=ge();return Qt!==null?Sg(s,Qt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:Kg},oa=null,Vo=0;function Au(e){var n=Vo;return Vo+=1,oa===null&&(oa=[]),ug(oa,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Su(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wg(e){var n=e._init;return n(e._payload)}function tp(e){function n(U,D){if(e){var k=U.deletions;k===null?(U.deletions=[D],U.flags|=16):k.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ei(U,D),U.index=0,U.sibling=null,U}function f(U,D,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<D?(U.flags|=67108866,D):k):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,k,F){return D===null||D.tag!==6?(D=Sh(k,U.mode,F),D.return=U,D):(D=h(D,k),D.return=U,D)}function b(U,D,k,F){var rt=k.type;return rt===$?H(U,D,k.props.children,F,k.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Wg(rt)===D.type)?(D=h(D,k.props),Uo(D,k),D.return=U,D):(D=su(k.type,k.key,k.props,null,U.mode,F),Uo(D,k),D.return=U,D)}function L(U,D,k,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=bh(k,U.mode,F),D.return=U,D):(D=h(D,k.children||[]),D.return=U,D)}function H(U,D,k,F,rt){return D===null||D.tag!==7?(D=ss(k,U.mode,F,rt),D.return=U,D):(D=h(D,k),D.return=U,D)}function Q(U,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Sh(""+D,U.mode,k),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return k=su(D.type,D.key,D.props,null,U.mode,k),Uo(k,D),k.return=U,k;case G:return D=bh(D,U.mode,k),D.return=U,D;case S:var F=D._init;return D=F(D._payload),Q(U,D,k)}if(re(D)||P(D))return D=ss(D,U.mode,k,null),D.return=U,D;if(typeof D.then=="function")return Q(U,Au(D),k);if(D.$$typeof===lt)return Q(U,uu(U,D),k);Su(U,D)}return null}function z(U,D,k,F){var rt=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return rt!==null?null:E(U,D,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return k.key===rt?b(U,D,k,F):null;case G:return k.key===rt?L(U,D,k,F):null;case S:return rt=k._init,k=rt(k._payload),z(U,D,k,F)}if(re(k)||P(k))return rt!==null?null:H(U,D,k,F,null);if(typeof k.then=="function")return z(U,D,Au(k),F);if(k.$$typeof===lt)return z(U,D,uu(U,k),F);Su(U,k)}return null}function B(U,D,k,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(k)||null,E(D,U,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return U=U.get(F.key===null?k:F.key)||null,b(D,U,F,rt);case G:return U=U.get(F.key===null?k:F.key)||null,L(D,U,F,rt);case S:var wt=F._init;return F=wt(F._payload),B(U,D,k,F,rt)}if(re(F)||P(F))return U=U.get(k)||null,H(D,U,F,rt,null);if(typeof F.then=="function")return B(U,D,k,Au(F),rt);if(F.$$typeof===lt)return B(U,D,k,uu(D,F),rt);Su(D,F)}return null}function gt(U,D,k,F){for(var rt=null,wt=null,st=D,dt=D=0,Oe=null;st!==null&&dt<k.length;dt++){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var kt=z(U,st,k[dt],F);if(kt===null){st===null&&(st=Oe);break}e&&st&&kt.alternate===null&&n(U,st),D=f(kt,D,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt,st=Oe}if(dt===k.length)return s(U,st),zt&&os(U,dt),rt;if(st===null){for(;dt<k.length;dt++)st=Q(U,k[dt],F),st!==null&&(D=f(st,D,dt),wt===null?rt=st:wt.sibling=st,wt=st);return zt&&os(U,dt),rt}for(st=o(st);dt<k.length;dt++)Oe=B(st,U,dt,k[dt],F),Oe!==null&&(e&&Oe.alternate!==null&&st.delete(Oe.key===null?dt:Oe.key),D=f(Oe,D,dt),wt===null?rt=Oe:wt.sibling=Oe,wt=Oe);return e&&st.forEach(function(pr){return n(U,pr)}),zt&&os(U,dt),rt}function ht(U,D,k,F){if(k==null)throw Error(a(151));for(var rt=null,wt=null,st=D,dt=D=0,Oe=null,kt=k.next();st!==null&&!kt.done;dt++,kt=k.next()){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var pr=z(U,st,kt.value,F);if(pr===null){st===null&&(st=Oe);break}e&&st&&pr.alternate===null&&n(U,st),D=f(pr,D,dt),wt===null?rt=pr:wt.sibling=pr,wt=pr,st=Oe}if(kt.done)return s(U,st),zt&&os(U,dt),rt;if(st===null){for(;!kt.done;dt++,kt=k.next())kt=Q(U,kt.value,F),kt!==null&&(D=f(kt,D,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt);return zt&&os(U,dt),rt}for(st=o(st);!kt.done;dt++,kt=k.next())kt=B(st,U,dt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&st.delete(kt.key===null?dt:kt.key),D=f(kt,D,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt);return e&&st.forEach(function(yA){return n(U,yA)}),zt&&os(U,dt),rt}function Yt(U,D,k,F){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case N:t:{for(var rt=k.key;D!==null;){if(D.key===rt){if(rt=k.type,rt===$){if(D.tag===7){s(U,D.sibling),F=h(D,k.props.children),F.return=U,U=F;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Wg(rt)===D.type){s(U,D.sibling),F=h(D,k.props),Uo(F,k),F.return=U,U=F;break t}s(U,D);break}else n(U,D);D=D.sibling}k.type===$?(F=ss(k.props.children,U.mode,F,k.key),F.return=U,U=F):(F=su(k.type,k.key,k.props,null,U.mode,F),Uo(F,k),F.return=U,U=F)}return _(U);case G:t:{for(rt=k.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(U,D.sibling),F=h(D,k.children||[]),F.return=U,U=F;break t}else{s(U,D);break}else n(U,D);D=D.sibling}F=bh(k,U.mode,F),F.return=U,U=F}return _(U);case S:return rt=k._init,k=rt(k._payload),Yt(U,D,k,F)}if(re(k))return gt(U,D,k,F);if(P(k)){if(rt=P(k),typeof rt!="function")throw Error(a(150));return k=rt.call(k),ht(U,D,k,F)}if(typeof k.then=="function")return Yt(U,D,Au(k),F);if(k.$$typeof===lt)return Yt(U,D,uu(U,k),F);Su(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(U,D.sibling),F=h(D,k),F.return=U,U=F):(s(U,D),F=Sh(k,U.mode,F),F.return=U,U=F),_(U)):s(U,D)}return function(U,D,k,F){try{Vo=0;var rt=Yt(U,D,k,F);return oa=null,rt}catch(st){if(st===bo||st===hu)throw st;var wt=an(29,st,null,U.mode);return wt.lanes=F,wt.return=U,wt}finally{}}}var la=tp(!0),ep=tp(!1),An=Y(null),Xn=null;function er(e){var n=e.alternate;J(Te,Te.current&1),J(An,e),Xn===null&&(n===null||ia.current!==null||n.memoizedState!==null)&&(Xn=e)}function np(e){if(e.tag===22){if(J(Te,Te.current),J(An,e),Xn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Xn=e)}}else nr()}function nr(){J(Te,Te.current),J(An,An.current)}function wi(e){et(An),Xn===e&&(Xn=null),et(Te)}var Te=Y(0);function bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Kf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=cn(),h=Ji(o);h.payload=n,s!=null&&(h.callback=s),n=Wi(e,h,o),n!==null&&(hn(n,e,o),wo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=cn(),h=Ji(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Wi(e,h,o),n!==null&&(hn(n,e,o),wo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=cn(),o=Ji(s);o.tag=2,n!=null&&(o.callback=n),n=Wi(e,o,s),n!==null&&(hn(n,e,s),wo(n,e,s))}};function ip(e,n,s,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!po(s,o)||!po(h,f):!0}function rp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&sf.enqueueReplaceState(n,n.state,null)}function ms(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sp(e){Ru(e)}function ap(e){console.error(e)}function op(e){Ru(e)}function wu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(e,n,s){return s=Ji(s),s.tag=3,s.payload={element:null},s.callback=function(){wu(e,n)},s}function up(e){return e=Ji(e),e.tag=3,e}function cp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){lp(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){lp(n,s,o),typeof h!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function yT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&To(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 13:return Xn===null?Of():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Mf(e,o,h)),!1;case 22:return s.flags|=65536,o===Uh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Mf(e,o,h)),!1}throw Error(a(435,s.tag))}return Mf(e,o,h),Of(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ih&&(e=Error(a(422),{cause:o}),Eo(_n(e,s)))):(o!==Ih&&(n=Error(a(423),{cause:o}),Eo(_n(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=_n(o,s),h=af(e.stateNode,o,h),kh(e,h),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:o});if(f=_n(f,s),qo===null?qo=[f]:qo.push(f),oe!==4&&(oe=2),n===null)return!0;o=_n(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=af(s.stateNode,o,e),kh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(lr===null||!lr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=up(h),cp(h,e,s,o),kh(s,h),!1}s=s.return}while(s!==null);return!1}var hp=Error(a(461)),Ce=!1;function Pe(e,n,s,o){n.child=e===null?ep(n,null,s,o):la(n,e.child,s,o)}function fp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return hs(n),o=jh(e,n,s,_,f,h),E=Hh(),e!==null&&!Ce?(Gh(e,n,h),Ii(e,n,h)):(zt&&E&&Rh(n),n.flags|=1,Pe(e,n,o,h),n.child)}function dp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,mp(e,n,f,o,h)):(e=su(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mf(e,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:po,s(_,o)&&e.ref===n.ref)return Ii(e,n,h)}return n.flags|=1,e=Ei(f,o),e.ref=n.ref,e.return=n,n.child=e}function mp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(po(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,mf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Ii(e,n,h)}return of(e,n,s,o,h)}function gp(e,n,s){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return pp(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&cu(n,f!==null?f.cachePool:null),f!==null?mg(n,f):zh(),np(n);else return n.lanes=n.childLanes=536870912,pp(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(cu(n,f.cachePool),mg(n,f),nr(),n.memoizedState=null):(e!==null&&cu(n,null),zh(),nr());return Pe(e,n,h,s),n.child}function pp(e,n,s,o){var h=Vh();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&cu(n,null),zh(),np(n),e!==null&&To(e,n,o,!0),null}function Iu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function of(e,n,s,o,h){return hs(n),s=jh(e,n,s,o,void 0,h),o=Hh(),e!==null&&!Ce?(Gh(e,n,h),Ii(e,n,h)):(zt&&o&&Rh(n),n.flags|=1,Pe(e,n,s,h),n.child)}function yp(e,n,s,o,h,f){return hs(n),n.updateQueue=null,s=pg(n,o,s,h),gg(e),o=Hh(),e!==null&&!Ce?(Gh(e,n,f),Ii(e,n,f)):(zt&&o&&Rh(n),n.flags|=1,Pe(e,n,s,f),n.child)}function _p(e,n,s,o,h){if(hs(n),n.stateNode===null){var f=Js,_=s.contextType;typeof _=="object"&&_!==null&&(f=je(_)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ph(n),_=s.contextType,f.context=typeof _=="object"&&_!==null?je(_):Js,f.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(rf(n,s,_,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&sf.enqueueReplaceState(f,f.state,null),Co(n,o,f,h),Io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ms(s,E);f.props=b;var L=f.context,H=s.contextType;_=Js,typeof H=="object"&&H!==null&&(_=je(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&rp(n,f,o,_),Zi=!1;var z=n.memoizedState;f.state=z,Co(n,o,f,h),Io(),L=n.memoizedState,E||z!==L||Zi?(typeof Q=="function"&&(rf(n,s,Q,o),L=n.memoizedState),(b=Zi||ip(n,s,b,o,z,L,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,xh(e,n),_=n.memoizedProps,H=ms(s,_),f.props=H,Q=n.pendingProps,z=f.context,L=s.contextType,b=Js,typeof L=="object"&&L!==null&&(b=je(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==b)&&rp(n,f,o,b),Zi=!1,z=n.memoizedState,f.state=z,Co(n,o,f,h),Io();var B=n.memoizedState;_!==Q||z!==B||Zi||e!==null&&e.dependencies!==null&&lu(e.dependencies)?(typeof E=="function"&&(rf(n,s,E,o),B=n.memoizedState),(H=Zi||ip(n,s,H,o,z,B,b)||e!==null&&e.dependencies!==null&&lu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Iu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=la(n,e.child,null,h),n.child=la(n,null,s,h)):Pe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ii(e,n,h),e}function vp(e,n,s,o){return vo(),n.flags|=256,Pe(e,n,s,o),n.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:ag()}}function cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Sn),e}function Ep(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?er(n):nr(),zt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Nn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:as!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||us(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Kf(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=o.children,o=o.fallback,h?(nr(),h=n.mode,E=Cu({mode:"hidden",children:E},h),o=ss(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=uf(s),h.childLanes=cf(e,_,s),n.memoizedState=lf,o):(er(n),hf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=ff(e,n,s)):n.memoizedState!==null?(nr(),n.child=e.child,n.flags|=128,n=null):(nr(),h=o.fallback,E=n.mode,o=Cu({mode:"visible",children:o.children},E),h=ss(h,E,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,la(n,e.child,null,s),o=n.child,o.memoizedState=uf(s),o.childLanes=cf(e,_,s),n.memoizedState=lf,n=h);else if(er(n),Kf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(a(419)),o.stack="",o.digest=_,Eo({value:o,source:null,stack:null}),n=ff(e,n,s)}else if(Ce||To(e,n,s,!1),_=(s&e.childLanes)!==0,Ce||_){if(_=Jt,_!==null&&(o=s&-s,o=(o&42)!==0?1:Hi(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Zs(e,o),hn(_,e,o),hp;E.data==="$?"||Of(),n=ff(e,n,s)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ae=Nn(E.nextSibling),Ze=n,zt=!0,ls=null,Yn=!1,e!==null&&(En[Tn++]=Ti,En[Tn++]=Ai,En[Tn++]=as,Ti=e.id,Ai=e.overflow,as=n),n=hf(n,o.children),n.flags|=4096);return n}return h?(nr(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ei(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ei(L,h):(h=ss(h,E,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=uf(s):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=ag(),E={baseLanes:E.baseLanes|s,cachePool:b}),h.memoizedState=E,h.childLanes=cf(e,_,s),n.memoizedState=lf,o):(er(n),s=e.child,e=s.sibling,s=Ei(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function hf(e,n){return n=Cu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Cu(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ff(e,n,s){return la(n,e.child,null,s),e=hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Dh(e.return,n,s)}function df(e,n,s,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=h)}function Ap(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,n,o.children,s),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,s,n);else if(e.tag===19)Tp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Te,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&bu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),df(n,!1,h,s,f);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}df(n,!0,s,null,f);break;case"together":df(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),or|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(To(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ei(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ei(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&lu(e)))}function _T(e,n,s){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),$i(n,Ee,e.memoizedState.cache),vo();break;case 27:case 5:ji(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(er(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ep(e,n,s):(er(n),e=Ii(e,n,s),e!==null?e.sibling:null);er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(To(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Ap(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,gp(e,n,s);case 24:$i(n,Ee,e.memoizedState.cache)}return Ii(e,n,s)}function Sp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!mf(e,s)&&(n.flags&128)===0)return Ce=!1,_T(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&Wm(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ah(o)?(e=ms(o,e),n.tag=1,n=_p(null,n,o,e,s)):(n.tag=0,n=of(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===Nt){n.tag=11,n=fp(null,n,o,e,s);break t}else if(h===M){n.tag=14,n=dp(null,n,o,e,s);break t}}throw n=Me(o)||o,Error(a(306,n,""))}}return n;case 0:return of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ms(o,n.pendingProps),_p(e,n,o,h,s);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,xh(e,n),Co(n,o,null,s);var _=n.memoizedState;if(o=_.cache,$i(n,Ee,o),o!==f.cache&&Oh(n,[Ee],s,!0),Io(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vp(e,n,o,s);break t}else if(o!==h){h=_n(Error(a(424)),n),Eo(h),n=vp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Nn(e.firstChild),Ze=n,zt=!0,ls=null,Yn=!0,s=ep(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vo(),o===h){n=Ii(e,n,s);break t}Pe(e,n,o,s)}n=n.child}return n;case 26:return Iu(e,n),e===null?(s=Iy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=ju(yt.current).createElement(s),o[ye]=n,o[fe]=e,ke(o,s,e),le(o),n.stateNode=o):n.memoizedState=Iy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ji(n),e===null&&zt&&(o=n.stateNode=by(n.type,n.pendingProps,yt.current),Ze=n,Yn=!0,h=ae,hr(n.type)?(Yf=h,ae=Nn(o.firstChild)):ae=h),Pe(e,n,n.pendingProps.children,s),Iu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ae)&&(o=QT(o,n.type,n.pendingProps,Yn),o!==null?(n.stateNode=o,Ze=n,ae=Nn(o.firstChild),Yn=!1,h=!0):h=!1),h||us(n)),ji(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Gf(h,f)?o=null:_!==null&&Gf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=jh(e,n,cT,null,null,s),$o._currentValue=h),Iu(e,n),Pe(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=ae)&&(s=KT(s,n.pendingProps,Yn),s!==null?(n.stateNode=s,Ze=n,ae=null,e=!0):e=!1),e||us(n)),null;case 13:return Ep(e,n,s);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=la(n,null,o,s):Pe(e,n,o,s),n.child;case 11:return fp(e,n,n.type,n.pendingProps,s);case 7:return Pe(e,n,n.pendingProps,s),n.child;case 8:return Pe(e,n,n.pendingProps.children,s),n.child;case 12:return Pe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,$i(n,n.type,o.value),Pe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,hs(n),h=je(h),o=o(h),n.flags|=1,Pe(e,n,o,s),n.child;case 14:return dp(e,n,n.type,n.pendingProps,s);case 15:return mp(e,n,n.type,n.pendingProps,s);case 19:return Ap(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Cu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ei(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return gp(e,n,s);case 24:return hs(n),o=je(Ee),e===null?(h=Vh(),h===null&&(h=Jt,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Ph(n),$i(n,Ee,h)):((e.lanes&s)!==0&&(xh(e,n),Co(n,null,null,s),Io()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$i(n,Ee,o)):(o=f.cache,$i(n,Ee,o),o!==h.cache&&Oh(n,[Ee],s,!0))),Pe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ci(e){e.flags|=4}function bp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!My(n)){if(n=An.current,n!==null&&((Pt&4194048)===Pt?Xn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==Xn))throw Ro=Uh,og;e.flags|=8192}}function Du(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Za():536870912,e.lanes|=n,fa|=n)}function Po(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function vT(e,n,s){var o=n.pendingProps;switch(wh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),bi(Ee),xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_o(n)?Ci(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ng())),ne(n),null;case 26:return s=n.memoizedState,e===null?(Ci(n),s!==null?(ne(n),bp(n,s)):(ne(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ci(n),ne(n),bp(n,s)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ci(n),ne(n),n.flags&=-16777217),null;case 27:oi(n),s=yt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ci(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=ut.current,_o(n)?tg(n):(e=by(h,o,s),n.stateNode=e,Ci(n))}return ne(n),null;case 5:if(oi(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ci(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(e=ut.current,_o(n))tg(n);else{switch(h=ju(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[ye]=n,e[fe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ci(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ci(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,_o(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||yy(e.nodeValue,s)),e||us(n)}else e=ju(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_o(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=ng(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Du(n,n.updateQueue),ne(n),null;case 4:return xn(),e===null&&zf(n.stateNode.containerInfo),ne(n),null;case 10:return bi(n.type),ne(n),null;case 19:if(et(Te),h=n.memoizedState,h===null)return ne(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Po(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=bu(e),f!==null){for(n.flags|=128,Po(h,!1),e=f.updateQueue,n.updateQueue=e,Du(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Jm(s,e),s=s.sibling;return J(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&fn()>Mu&&(n.flags|=128,o=!0,Po(h,!1),n.lanes=4194304)}else{if(!o)if(e=bu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Du(n,e),Po(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return ne(n),null}else 2*fn()-h.renderingStartTime>Mu&&s!==536870912&&(n.flags|=128,o=!0,Po(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fn(),n.sibling=null,e=Te.current,J(Te,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return wi(n),Bh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Du(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&et(fs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),bi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ET(e,n){switch(wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return bi(Ee),xn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(wi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Te),null;case 4:return xn(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),Bh(),e!==null&&et(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return bi(Ee),null;case 25:return null;default:return null}}function Rp(e,n){switch(wh(n),n.tag){case 3:bi(Ee),xn();break;case 26:case 27:case 5:oi(n);break;case 4:xn();break;case 13:wi(n);break;case 19:et(Te);break;case 10:bi(n.type);break;case 22:case 23:wi(n),Bh(),e!==null&&et(fs);break;case 24:bi(Ee)}}function xo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,_=s.inst;o=f(),_.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function ir(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var b=s,L=E;try{L()}catch(H){$t(h,b,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function wp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{dg(n,s)}catch(o){$t(e,e.return,o)}}}function Ip(e,n,s){s.props=ms(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function ko(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function $n(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Cp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function gf(e,n,s){try{var o=e.stateNode;qT(o,e.type,s,n),o[fe]=n}catch(h){$t(e,e.return,h)}}function Dp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hr(e.type)||e.tag===4}function pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qu));else if(o!==4&&(o===27&&hr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(yf(e,n,s),e=e.sibling;e!==null;)yf(e,n,s),e=e.sibling}function Ou(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&hr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ou(e,n,s),e=e.sibling;e!==null;)Ou(e,n,s),e=e.sibling}function Op(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,o,s),n[ye]=e,n[fe]=s}catch(f){$t(e,e.return,f)}}var Di=!1,ce=!1,_f=!1,Np=typeof WeakSet=="function"?WeakSet:Set,De=null;function TT(e,n){if(e=e.containerInfo,jf=Yu,e=jm(e),gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var _=0,E=-1,b=-1,L=0,H=0,Q=e,z=null;e:for(;;){for(var B;Q!==s||h!==0&&Q.nodeType!==3||(E=_+h),Q!==f||o!==0&&Q.nodeType!==3||(b=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===s&&++L===h&&(E=_),z===f&&++H===o&&(b=_),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}s=E===-1||b===-1?null:{start:E,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:e,selectionRange:s},Yu=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var gt=ms(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(gt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){$t(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Qf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function Mp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:rr(e,s),o&4&&xo(5,s);break;case 1:if(rr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(s,s.return,_)}else{var h=ms(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(s,s.return,_)}}o&64&&wp(s),o&512&&ko(s,s.return);break;case 3:if(rr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{dg(e,n)}catch(_){$t(s,s.return,_)}}break;case 27:n===null&&o&4&&Op(s);case 26:case 5:rr(e,s),n===null&&o&4&&Cp(s),o&512&&ko(s,s.return);break;case 12:rr(e,s);break;case 13:rr(e,s),o&4&&Pp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=OT.bind(null,s),YT(e,s))));break;case 22:if(o=s.memoizedState!==null||Di,!o){n=n!==null&&n.memoizedState!==null||ce,h=Di;var f=ce;Di=o,(ce=n)&&!f?sr(e,s,(s.subtreeFlags&8772)!==0):rr(e,s),Di=h,ce=f}break;case 30:break;default:rr(e,s)}}function Vp(e){var n=e.alternate;n!==null&&(e.alternate=null,Vp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,We=!1;function Oi(e,n,s){for(s=s.child;s!==null;)Up(e,n,s),s=s.sibling}function Up(e,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,s)}catch{}switch(s.tag){case 26:ce||$n(s,n),Oi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||$n(s,n);var o=te,h=We;hr(s.type)&&(te=s.stateNode,We=!1),Oi(e,n,s),Qo(s.stateNode),te=o,We=h;break;case 5:ce||$n(s,n);case 6:if(o=te,h=We,te=null,Oi(e,n,s),te=o,We=h,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{te.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:te!==null&&(We?(e=te,Ay(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),tl(e)):Ay(te,s.stateNode));break;case 4:o=te,h=We,te=s.stateNode.containerInfo,We=!0,Oi(e,n,s),te=o,We=h;break;case 0:case 11:case 14:case 15:ce||ir(2,s,n),ce||ir(4,s,n),Oi(e,n,s);break;case 1:ce||($n(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ip(s,n,o)),Oi(e,n,s);break;case 21:Oi(e,n,s);break;case 22:ce=(o=ce)||s.memoizedState!==null,Oi(e,n,s),ce=o;break;default:Oi(e,n,s)}}function Pp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tl(e)}catch(s){$t(n,n.return,s)}}function AT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Np),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Np),n;default:throw Error(a(435,e.tag))}}function vf(e,n){var s=AT(e);n.forEach(function(o){var h=NT.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(hr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));Up(f,_,h),te=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)xp(n,e),n=n.sibling}var On=null;function xp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(ir(3,e,e.return),xo(3,e),ir(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(ce||s===null||$n(s,s.return)),o&64&&Di&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=On;if(on(n,e),ln(e),o&512&&(ce||s===null||$n(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Hr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,o,s),f[ye]=e,le(f),o=f;break t;case"link":var _=Oy("link","href",h).get(o+(s.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),ke(f,o,s),h.head.appendChild(f);break;case"meta":if(_=Oy("meta","content",h).get(o+(s.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(E,1);break e}}f=h.createElement(o),ke(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,le(f),o=f}e.stateNode=o}else Ny(h,e.type,e.stateNode);else e.stateNode=Dy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Ny(h,e.type,e.stateNode):Dy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(ce||s===null||$n(s,s.return)),s!==null&&o&4&&gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(ce||s===null||$n(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,gf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(_f=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Fu=null,h=On,On=Hu(n.containerInfo),on(n,e),On=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(B){$t(e,e.return,B)}_f&&(_f=!1,kp(e));break;case 4:o=On,On=Hu(e.stateNode.containerInfo),on(n,e),ln(e),On=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Rf=fn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,vf(e,o)));break;case 22:h=e.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,L=Di,H=ce;if(Di=L||h,ce=H||b,on(n,e),ce=H,Di=L,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||b||Di||ce||gs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,vf(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,vf(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Dp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=pf(e);Ou(e,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(mn(_,""),s.flags&=-33);var E=pf(e);Ou(e,E,_);break;case 3:case 4:var b=s.stateNode.containerInfo,L=pf(e);yf(e,L,b);break;default:throw Error(a(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;kp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mp(e,n.alternate,n),n=n.sibling}function gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),gs(n);break;case 1:$n(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ip(n,n.return,s),gs(n);break;case 27:Qo(n.stateNode);case 26:case 5:$n(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}e=e.sibling}}function sr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:sr(h,f,s),xo(4,f);break;case 1:if(sr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)fg(b[h],E)}catch(L){$t(o,o.return,L)}}s&&_&64&&wp(f),ko(f,f.return);break;case 27:Op(f);case 26:case 5:sr(h,f,s),s&&o===null&&_&4&&Cp(f),ko(f,f.return);break;case 12:sr(h,f,s);break;case 13:sr(h,f,s),s&&_&4&&Pp(h,f);break;case 22:f.memoizedState===null&&sr(h,f,s),ko(f,f.return);break;case 30:break;default:sr(h,f,s)}n=n.sibling}}function Ef(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ao(s))}function Tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e))}function Zn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lp(e,n,s,o),n=n.sibling}function Lp(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,s,o),h&2048&&xo(9,n);break;case 1:Zn(e,n,s,o);break;case 3:Zn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e)));break;case 12:if(h&2048){Zn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else Zn(e,n,s,o);break;case 13:Zn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,s,o):Lo(e,n):f._visibility&2?Zn(e,n,s,o):(f._visibility|=2,ua(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Ef(_,n);break;case 24:Zn(e,n,s,o),h&2048&&Tf(n.alternate,n);break;default:Zn(e,n,s,o)}}function ua(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=s,b=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:ua(f,_,E,b,h),xo(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?ua(f,_,E,b,h):Lo(f,_):(H._visibility|=2,ua(f,_,E,b,h)),h&&L&2048&&Ef(_.alternate,_);break;case 24:ua(f,_,E,b,h),h&&L&2048&&Tf(_.alternate,_);break;default:ua(f,_,E,b,h)}n=n.sibling}}function Lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Lo(s,o),h&2048&&Ef(o.alternate,o);break;case 24:Lo(s,o),h&2048&&Tf(o.alternate,o);break;default:Lo(s,o)}n=n.sibling}}var zo=8192;function ca(e){if(e.subtreeFlags&zo)for(e=e.child;e!==null;)zp(e),e=e.sibling}function zp(e){switch(e.tag){case 26:ca(e),e.flags&zo&&e.memoizedState!==null&&oA(On,e.memoizedState,e.memoizedProps);break;case 5:ca(e);break;case 3:case 4:var n=On;On=Hu(e.stateNode.containerInfo),ca(e),On=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zo,zo=16777216,ca(e),zo=n):ca(e));break;default:ca(e)}}function Bp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];De=o,jp(o,e)}Bp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qp(e),e=e.sibling}function qp(e){switch(e.tag){case 0:case 11:case 15:Bo(e),e.flags&2048&&ir(9,e,e.return);break;case 3:Bo(e);break;case 12:Bo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Nu(e)):Bo(e);break;default:Bo(e)}}function Nu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];De=o,jp(o,e)}Bp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ir(8,n,n.return),Nu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Nu(n));break;default:Nu(n)}e=e.sibling}}function jp(e,n){for(;De!==null;){var s=De;switch(s.tag){case 0:case 11:case 15:ir(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ao(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,De=o;else t:for(s=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(Vp(o),o===s){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var ST={getCacheForType:function(e){var n=je(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},bT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,It=null,Pt=0,Gt=0,un=null,ar=!1,ha=!1,Af=!1,Ni=0,oe=0,or=0,ps=0,Sf=0,Sn=0,fa=0,qo=null,tn=null,bf=!1,Rf=0,Mu=1/0,Vu=null,lr=null,xe=0,ur=null,da=null,ma=0,wf=0,If=null,Hp=null,jo=0,Cf=null;function cn(){if((Ht&2)!==0&&Pt!==0)return Pt&-Pt;if(j.T!==null){var e=ea;return e!==0?e:Pf()}return Gi()}function Gp(){Sn===0&&(Sn=(Pt&536870912)===0||zt?$a():536870912);var e=An.current;return e!==null&&(e.flags|=32),Sn}function hn(e,n,s){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ga(e,0),cr(e,Pt,Sn,!1)),ui(e,s),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(ps|=s),oe===4&&cr(e,Pt,Sn,!1)),Jn(e))}function Fp(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||jr(e,n),h=o?IT(e,n):Nf(e,n,!0),f=o;do{if(h===0){ha&&!o&&cr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!RT(s)){h=Nf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=qo;var b=E.current.memoizedState.isDehydrated;if(b&&(ga(E,_).flags|=256),_=Nf(E,_,!1),_!==2){if(Af&&!b){E.errorRecoveryDisabledLanes|=f,ps|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ga(e,0),cr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:cr(o,n,Sn,!ar);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Rf+300-fn(),10<h)){if(cr(o,n,Sn,!ar),Ms(o,0,!0)!==0)break t;o.timeoutHandle=Ey(Qp.bind(null,o,s,tn,Vu,bf,n,Sn,ps,fa,ar,f,2,-0,0),h);break t}Qp(o,s,tn,Vu,bf,n,Sn,ps,fa,ar,f,0,-0,0)}}break}while(!0);Jn(e)}function Qp(e,n,s,o,h,f,_,E,b,L,H,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Xo={stylesheets:null,count:0,unsuspend:aA},zp(n),Q=lA(),Q!==null)){e.cancelPendingCommit=Q(Wp.bind(null,e,n,f,s,o,h,_,E,b,H,1,z,B)),cr(e,f,_,!L);return}Wp(e,n,f,s,o,h,_,E,b)}function RT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(e,n,s,o){n&=~Sf,n&=~ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),_=1<<f;o[f]=-1,h&=~_}s!==0&&kn(e,s,n)}function Uu(){return(Ht&6)===0?(Ho(0),!1):!0}function Df(){if(It!==null){if(Gt===0)var e=It.return;else e=It,Si=cs=null,Fh(e),oa=null,Vo=0,e=It;for(;e!==null;)Rp(e.alternate,e),e=e.return;It=null}}function ga(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,HT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Df(),Jt=e,It=s=Ei(e.current,null),Pt=n,Gt=0,un=null,ar=!1,ha=jr(e,n),Af=!1,fa=Sn=Sf=ps=or=oe=0,tn=qo=null,bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),f=1<<h;n|=e[h],o&=~f}return Ni=n,nu(),s}function Kp(e,n){St=null,j.H=Tu,n===bo||n===hu?(n=cg(),Gt=3):n===og?(n=cg(),Gt=4):Gt=n===hp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,It===null&&(oe=1,wu(e,_n(n,e.current)))}function Yp(){var e=j.H;return j.H=Tu,e===null?Tu:e}function Xp(){var e=j.A;return j.A=ST,e}function Of(){oe=4,ar||(Pt&4194048)!==Pt&&An.current!==null||(ha=!0),(or&134217727)===0&&(ps&134217727)===0||Jt===null||cr(Jt,Pt,Sn,!1)}function Nf(e,n,s){var o=Ht;Ht|=2;var h=Yp(),f=Xp();(Jt!==e||Pt!==n)&&(Vu=null,ga(e,n)),n=!1;var _=oe;t:do try{if(Gt!==0&&It!==null){var E=It,b=un;switch(Gt){case 8:Df(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var L=Gt;if(Gt=0,un=null,pa(e,E,b,L),s&&ha){_=0;break t}break;default:L=Gt,Gt=0,un=null,pa(e,E,b,L)}}wT(),_=oe;break}catch(H){Kp(e,H)}while(!0);return n&&e.shellSuspendCounter++,Si=cs=null,Ht=o,j.H=h,j.A=f,It===null&&(Jt=null,Pt=0,nu()),_}function wT(){for(;It!==null;)$p(It)}function IT(e,n){var s=Ht;Ht|=2;var o=Yp(),h=Xp();Jt!==e||Pt!==n?(Vu=null,Mu=fn()+500,ga(e,n)):ha=jr(e,n);t:do try{if(Gt!==0&&It!==null){n=It;var f=un;e:switch(Gt){case 1:Gt=0,un=null,pa(e,n,f,1);break;case 2:case 9:if(lg(f)){Gt=0,un=null,Zp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),Jn(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:lg(f)?(Gt=0,un=null,Zp(n)):(Gt=0,un=null,pa(e,n,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var E=It;if(!_||My(_)){Gt=0,un=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,Pu(L)):It=null}break e}}Gt=0,un=null,pa(e,n,f,5);break;case 6:Gt=0,un=null,pa(e,n,f,6);break;case 8:Df(),oe=6;break t;default:throw Error(a(462))}}CT();break}catch(H){Kp(e,H)}while(!0);return Si=cs=null,j.H=o,j.A=h,Ht=s,It!==null?0:(Jt=null,Pt=0,nu(),oe)}function CT(){for(;It!==null&&!Qa();)$p(It)}function $p(e){var n=Sp(e.alternate,e,Ni);e.memoizedProps=e.pendingProps,n===null?Pu(e):It=n}function Zp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=yp(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=yp(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Fh(n);default:Rp(s,n),n=It=Jm(n,Ni),n=Sp(s,n,Ni)}e.memoizedProps=e.pendingProps,n===null?Pu(e):It=n}function pa(e,n,s,o){Si=cs=null,Fh(n),oa=null,Vo=0;var h=n.return;try{if(yT(e,h,n,s,Pt)){oe=1,wu(e,_n(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;oe=1,wu(e,_n(s,e.current)),It=null;return}n.flags&32768?(zt||o===1?e=!0:ha||(Pt&536870912)!==0?e=!1:(ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jp(n,e)):Pu(n)}function Pu(e){var n=e;do{if((n.flags&32768)!==0){Jp(n,ar);return}e=n.return;var s=vT(n.alternate,n,Ni);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);oe===0&&(oe=5)}function Jp(e,n){do{var s=ET(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);oe=6,It=null}function Wp(e,n,s,o,h,f,_,E,b){e.cancelPendingCommit=null;do xu();while(xe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,Ja(e,s,f,_,E,b),e===Jt&&(It=Jt=null,Pt=0),da=n,ur=e,ma=s,wf=f,If=h,Hp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,MT(Lr,function(){return ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=tt.p,tt.p=2,_=Ht,Ht|=4;try{TT(e,n,s)}finally{Ht=_,tt.p=h,j.T=o}}xe=1,ty(),ey(),ny()}}function ty(){if(xe===1){xe=0;var e=ur,n=da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{xp(n,e);var f=Hf,_=jm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&qm(E.ownerDocument.documentElement,E)){if(b!==null&&gh(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),Yt=b.end===void 0?ht:Math.min(b.end,gt);!B.extend&&ht>Yt&&(_=Yt,Yt=ht,ht=_);var U=Bm(E,ht),D=Bm(E,Yt);if(U&&D&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=Q.createRange();k.setStart(U.node,U.offset),B.removeAllRanges(),ht>Yt?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Yu=!!jf,Hf=jf=null}finally{Ht=h,tt.p=o,j.T=s}}e.current=n,xe=2}}function ey(){if(xe===2){xe=0;var e=ur,n=da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{Mp(e,n.alternate,n)}finally{Ht=h,tt.p=o,j.T=s}}xe=3}}function ny(){if(xe===4||xe===3){xe=0,Nl();var e=ur,n=da,s=ma,o=Hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,da=ur=null,iy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(lr=null),Vs(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=tt.p,tt.p=2,j.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=h}}(ma&3)!==0&&xu(),Jn(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Cf?jo++:(jo=0,Cf=e):jo=0,Ho(0)}}function iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ao(n)))}function xu(e){return ty(),ey(),ny(),ry()}function ry(){if(xe!==5)return!1;var e=ur,n=wf;wf=0;var s=Vs(ma),o=j.T,h=tt.p;try{tt.p=32>s?32:s,j.T=null,s=If,If=null;var f=ur,_=ma;if(xe=0,da=ur=null,ma=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,qp(f.current),Lp(f,f.current,_,s),Ht=E,Ho(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,j.T=o,iy(e,n)}}function sy(e,n,s){n=_n(s,n),n=af(e.stateNode,n,2),e=Wi(e,n,2),e!==null&&(ui(e,2),Jn(e))}function $t(e,n,s){if(e.tag===3)sy(e,e,s);else for(;n!==null;){if(n.tag===3){sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(lr===null||!lr.has(o))){e=_n(s,e),s=up(2),o=Wi(n,s,2),o!==null&&(cp(s,o,n,e),ui(o,2),Jn(o));break}}n=n.return}}function Mf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new bT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Af=!0,h.add(s),e=DT.bind(null,e,n,s),n.then(e,e))}function DT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Pt&s)===s&&(oe===4||oe===3&&(Pt&62914560)===Pt&&300>fn()-Rf?(Ht&2)===0&&ga(e,0):Sf|=s,fa===Pt&&(fa=0)),Jn(e)}function ay(e,n){n===0&&(n=Za()),e=Zs(e,n),e!==null&&(ui(e,n),Jn(e))}function OT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ay(e,s)}function NT(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ay(e,s)}function MT(e,n){return xr(e,n)}var ku=null,ya=null,Vf=!1,Lu=!1,Uf=!1,ys=0;function Jn(e){e!==ya&&e.next===null&&(ya===null?ku=ya=e:ya=ya.next=e),Lu=!0,Vf||(Vf=!0,UT())}function Ho(e,n){if(!Uf&&Lu){Uf=!0;do for(var s=!1,o=ku;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,cy(o,f))}else f=Pt,f=Ms(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jr(o,f)||(s=!0,cy(o,f));o=o.next}while(s);Uf=!1}}function VT(){oy()}function oy(){Lu=Vf=!1;var e=0;ys!==0&&(jT()&&(e=ys),ys=0);for(var n=fn(),s=null,o=ku;o!==null;){var h=o.next,f=ly(o,n);f===0?(o.next=null,s===null?ku=h:s.next=h,h===null&&(ya=s)):(s=o,(e!==0||(f&3)!==0)&&(Lu=!0)),o=h}Ho(e)}function ly(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-qe(f),E=1<<_,b=h[_];b===-1?((E&s)===0||(E&o)!==0)&&(h[_]=Xa(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Pt,s=Ms(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&kr(o),Vs(s)){case 2:case 8:s=Os;break;case 32:s=Lr;break;case 268435456:s=Ns;break;default:s=Lr}return o=uy.bind(null,e),s=xr(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&kr(o),e.callbackPriority=2,e.callbackNode=null,2}function uy(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(xu()&&e.callbackNode!==s)return null;var o=Pt;return o=Ms(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Fp(e,o,n),ly(e,fn()),e.callbackNode!=null&&e.callbackNode===s?uy.bind(null,e):null)}function cy(e,n){if(xu())return null;Fp(e,n,!0)}function UT(){GT(function(){(Ht&6)!==0?xr(Ka,VT):oy()})}function Pf(){return ys===0&&(ys=$a()),ys}function hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function PT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=hy((h[fe]||null).action),_=o.submitter;_&&(n=(n=_[fe]||null)?hy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Bs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ys!==0){var b=_?fy(h,_):new FormData(h);tf(s,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?fy(h,_):new FormData(h),tf(s,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var xf=0;xf<vh.length;xf++){var kf=vh[xf],xT=kf.toLowerCase(),kT=kf[0].toUpperCase()+kf.slice(1);Dn(xT,"on"+kT)}Dn(Fm,"onAnimationEnd"),Dn(Qm,"onAnimationIteration"),Dn(Km,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(tT,"onTransitionRun"),Dn(eT,"onTransitionStart"),Dn(nT,"onTransitionCancel"),Dn(Ym,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function dy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){Ru(H)}h.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){Ru(H)}h.currentTarget=null,f=b}}}}function Ct(e,n){var s=n[to];s===void 0&&(s=n[to]=new Set);var o=e+"__bubble";s.has(o)||(my(n,e,2,!1),s.add(o))}function Lf(e,n,s){var o=0;n&&(o|=4),my(s,e,o,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[zu]){e[zu]=!0,eo.forEach(function(s){s!=="selectionchange"&&(LT.has(s)||Lf(s,!1,e),Lf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zu]||(n[zu]=!0,Lf("selectionchange",!1,n))}}function my(e,n,s,o){switch(Ly(n)){case 2:var h=hA;break;case 8:h=fA;break;default:h=Wf}s=h.bind(null,n,s,e),h=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Bf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=ci(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}ql(function(){var L=f,H=gn(s),Q=[];t:{var z=Xm.get(e);if(z!==void 0){var B=Bs,gt=e;switch(e){case"keypress":if(Hn(s)===0)break t;case"keydown":case"keyup":B=Qs;break;case"focusin":gt="focus",B=Hs;break;case"focusout":gt="blur",B=Hs;break;case"beforeblur":case"afterblur":B=Hs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Xl;break;case Fm:case Qm:case Km:B=Gs;break;case Ym:B=Zl;break;case"scroll":case"scrollend":B=jl;break;case"wheel":B=Ks;break;case"copy":case"cut":case"paste":B=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=mo;break;case"toggle":case"beforetoggle":B=Wl}var ht=(n&4)!==0,Yt=!ht&&(e==="scroll"||e==="scrollend"),U=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=L,k;D!==null;){var F=D;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||U===null||(F=$r(D,U),F!=null&&ht.push(Fo(D,F,k))),Yt)break;D=D.return}0<ht.length&&(z=new B(z,gt,null,s,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==mi&&(gt=s.relatedTarget||s.fromElement)&&(ci(gt)||gt[dn]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(gt=s.relatedTarget||s.toElement,B=L,gt=gt?ci(gt):null,gt!==null&&(Yt=c(gt),ht=gt.tag,gt!==Yt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(ht=yn,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=mo,F="onPointerLeave",U="onPointerEnter",D="pointer"),Yt=B==null?z:zn(B),k=gt==null?z:zn(gt),z=new ht(F,D+"leave",B,s,H),z.target=Yt,z.relatedTarget=k,F=null,ci(H)===L&&(ht=new ht(U,D+"enter",gt,s,H),ht.target=k,ht.relatedTarget=Yt,F=ht),Yt=F,B&&gt)e:{for(ht=B,U=gt,D=0,k=ht;k;k=_a(k))D++;for(k=0,F=U;F;F=_a(F))k++;for(;0<D-k;)ht=_a(ht),D--;for(;0<k-D;)U=_a(U),k--;for(;D--;){if(ht===U||U!==null&&ht===U.alternate)break e;ht=_a(ht),U=_a(U)}ht=null}else ht=null;B!==null&&gy(Q,z,B,ht,!1),gt!==null&&Yt!==null&&gy(Q,Yt,gt,ht,!0)}}t:{if(z=L?zn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=Um;else if(ve(z))if(Pm)rt=ZE;else{rt=XE;var wt=YE}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&ao(L.elementType)&&(rt=Um):rt=$E;if(rt&&(rt=rt(e,L))){vi(Q,rt,s,H);break t}wt&&wt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Yi(z,"number",z.value)}switch(wt=L?zn(L):window,e){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Ys=wt,ph=L,yo=null);break;case"focusout":yo=ph=Ys=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Hm(Q,s,H);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":Hm(Q,s,H)}var st;if(Qn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Vt?q(e,s)&&(dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(dt="onCompositionStart");dt&&(y&&s.locale!=="ko"&&(Vt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Vt&&(st=lo()):(jn=H,Xi="value"in jn?jn.value:jn.textContent,Vt=!0)),wt=Bu(L,dt),0<wt.length&&(dt=new ho(dt,e,null,s,H),Q.push({event:dt,listeners:wt}),st?dt.data=st:(st=W(s),st!==null&&(dt.data=st)))),(st=m?_e(e,s):Ut(e,s))&&(dt=Bu(L,"onBeforeInput"),0<dt.length&&(wt=new ho("onBeforeInput","beforeinput",null,s,H),Q.push({event:wt,listeners:dt}),wt.data=st)),PT(Q,e,L,s,H)}dy(Q,n)})}function Fo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Bu(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$r(e,s),h!=null&&o.unshift(Fo(e,h,f)),h=$r(e,n),h!=null&&o.push(Fo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gy(e,n,s,o,h){for(var f=n._reactName,_=[];s!==null&&s!==o;){var E=s,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=$r(s,f),L!=null&&_.unshift(Fo(s,L,b))):h||(L=$r(s,f),L!=null&&_.push(Fo(s,L,b)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var zT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(zT,`
`).replace(BT,"")}function yy(e,n){return n=py(n),py(e)===n}function qu(){}function Kt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":Bn(e,"class",o);break;case"tabIndex":Bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(e,s,o);break;case"style":so(e,o,f);break;case"data":if(n!=="object"){Bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=zs(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=zs(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qu);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Ki(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ki(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uh.get(s)||s,Ki(e,s,o))}}function qf(e,n,s,o,h,f){switch(s){case"style":so(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[fe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Ki(e,s,o)}}}function ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(e,n,f,_,s,null)}}h&&Kt(e,n,"srcSet",s.srcSet,s,null),o&&Kt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=_=h=null,b=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":_=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Kt(e,n,o,H,s,null)}}Kr(e,f,E,b,L,_,h,!1),Ls(e);return;case"select":Ct("invalid",e),o=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Kt(e,n,h,E,s,null)}n=f,s=_,e.multiple=!!o,n!=null?di(e,!!o,n,!1):s!=null&&di(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(E=s[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(e,n,_,E,s,null)}Yr(e,o,h,f),Ls(e);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(o=s[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,n,b,o,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Go.length;o++)Ct(Go[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(e,n,L,o,s,null)}return;default:if(ao(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&qf(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Kt(e,n,E,o,s,null))}function qT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,b=null,L=null,H=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Kt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Kt(e,n,z,B,o,Q)}}rn(e,_,E,b,L,H,f,h);return;case"select":B=_=E=z=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Kt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=s[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Kt(e,n,h,f,o,b)}n=E,s=_,o=B,z!=null?di(e,!!s,z,!1):!!o!=!!s&&(n!=null?di(e,!!s,n,!0):di(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=s[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Kt(e,n,_,h,o,f)}Ft(e,z,B);return;case"option":for(var gt in s)if(z=s[gt],s.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Kt(e,n,gt,null,o,z)}for(b in o)if(z=o[b],B=s[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Kt(e,n,ht,null,o,z);for(L in o)if(z=o[L],B=s[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Kt(e,n,L,z,o,B)}return;default:if(ao(n)){for(var Yt in s)z=s[Yt],s.hasOwnProperty(Yt)&&z!==void 0&&!o.hasOwnProperty(Yt)&&qf(e,n,Yt,void 0,o,z);for(H in o)z=o[H],B=s[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||qf(e,n,H,z,o,B);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Kt(e,n,U,null,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Kt(e,n,Q,z,o,B)}var jf=null,Hf=null;function ju(e){return e.nodeType===9?e:e.ownerDocument}function _y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function jT(){var e=window.event;return e&&e.type==="popstate"?e===Ff?!1:(Ff=e,!0):(Ff=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(FT)}:Ey;function FT(e){setTimeout(function(){throw e})}function hr(e){return e==="head"}function Ay(e,n){var s=n,o=0,h=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var _=e.ownerDocument;if(s&1&&Qo(_.documentElement),s&2&&Qo(_.body),s&4)for(s=_.head,Qo(s),_=s.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[Hr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=E}}if(h===0){e.removeChild(f),tl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);tl(n)}function Qf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),Qi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function QT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Hr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function KT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Nn(e.nextSibling),e===null))return null;return e}function Kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function YT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Yf=null;function Sy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function by(e,n,s){switch(n=ju(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Qo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qi(e)}var bn=new Map,Ry=new Set;function Hu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=tt.d;tt.d={f:XT,r:$T,D:ZT,C:JT,L:WT,m:tA,X:nA,S:eA,M:iA};function XT(){var e=Mi.f(),n=Uu();return e||n}function $T(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Fg(n):Mi.r(e)}var va=typeof document>"u"?null:document;function wy(e,n,s){var o=va;if(o&&typeof n=="string"&&n){var h=de(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ry.has(h)||(Ry.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ke(n,"link",e),le(n),o.head.appendChild(n)))}}function ZT(e){Mi.D(e),wy("dns-prefetch",e,null)}function JT(e,n){Mi.C(e,n),wy("preconnect",e,n)}function WT(e,n,s){Mi.L(e,n,s);var o=va;if(o&&e&&n){var h='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+de(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+de(s.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(n){case"style":f=Ea(e);break;case"script":f=Ta(e)}bn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ko(f))||n==="script"&&o.querySelector(Yo(f))||(n=o.createElement("link"),ke(n,"link",e),le(n),o.head.appendChild(n)))}}function tA(e,n){Mi.m(e,n);var s=va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ta(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),bn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yo(f)))return}o=s.createElement("link"),ke(o,"link",e),le(o),s.head.appendChild(o)}}}function eA(e,n,s){Mi.S(e,n,s);var o=va;if(o&&e){var h=Ye(o).hoistableStyles,f=Ea(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Ko(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=bn.get(f))&&Xf(e,s);var b=_=o.createElement("link");le(b),ke(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Gu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function nA(e,n){Mi.X(e,n);var s=va;if(s&&e){var o=Ye(s).hoistableScripts,h=Ta(e),f=o.get(h);f||(f=s.querySelector(Yo(h)),f||(e=A({src:e,async:!0},n),(n=bn.get(h))&&$f(e,n),f=s.createElement("script"),le(f),ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function iA(e,n){Mi.M(e,n);var s=va;if(s&&e){var o=Ye(s).hoistableScripts,h=Ta(e),f=o.get(h);f||(f=s.querySelector(Yo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=bn.get(h))&&$f(e,n),f=s.createElement("script"),le(f),ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Iy(e,n,s,o){var h=(h=yt.current)?Hu(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ea(s.href),s=Ye(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ea(s.href);var f=Ye(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Ko(e)))&&!f._p&&(_.instance=f,_.state.loading=5),bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},bn.set(e,s),f||rA(h,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ta(s),s=Ye(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ea(e){return'href="'+de(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function Cy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ke(n,"link",s),le(n),e.head.appendChild(n))}function Ta(e){return'[src="'+de(e)+'"]'}function Yo(e){return"script[async]"+e}function Dy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(s.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),ke(o,"style",h),Gu(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ea(s.href);var f=e.querySelector(Ko(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=Cy(s),(h=bn.get(h))&&Xf(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),ke(f,"link",o),n.state.loading|=4,Gu(f,s.precedence,e),n.instance=f;case"script":return f=Ta(s.src),(h=e.querySelector(Yo(f)))?(n.instance=h,le(h),h):(o=s,(h=bn.get(f))&&(o=A({},s),$f(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Gu(o,s.precedence,e));return n.instance}function Gu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function Oy(e,n,s){if(Fu===null){var o=new Map,h=Fu=new Map;h.set(s,o)}else h=Fu,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Hr]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Ny(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function sA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function My(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xo=null;function aA(){}function oA(e,n,s){if(Xo===null)throw Error(a(475));var o=Xo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ea(s.href),f=e.querySelector(Ko(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Qu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,s=Cy(s),(h=bn.get(h))&&Xf(s,h),f=f.createElement("link"),le(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),ke(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Qu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function lA(){if(Xo===null)throw Error(a(475));var e=Xo;return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ku=null;function Zf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ku=new Map,n.forEach(uA,e),Ku=null,Qu.call(e))}function uA(e,n){if(!(n.state.loading&4)){var s=Ku.get(e);if(s)var o=s.get(null);else{s=new Map,Ku.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||o,f===o&&s.set(null,h),s.set(_,h),this.count++,o=Qu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var $o={$$typeof:lt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function cA(e,n,s,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Vy(e,n,s,o,h,f,_,E,b,L,H,Q){return e=new cA(e,n,s,_,E,b,L,Q),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Nh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Ph(f),e}function Uy(e){return e?(e=Js,e):Js}function Py(e,n,s,o,h,f){h=Uy(h),o.context===null?o.context=h:o.pendingContext=h,o=Ji(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Wi(e,o,n),s!==null&&(hn(s,e,n),wo(s,e,n))}function xy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Jf(e,n){xy(e,n),(e=e.alternate)&&xy(e,n)}function ky(e){if(e.tag===13){var n=Zs(e,67108864);n!==null&&hn(n,e,67108864),Jf(e,67108864)}}var Yu=!0;function hA(e,n,s,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=2,Wf(e,n,s,o)}finally{tt.p=f,j.T=h}}function fA(e,n,s,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=8,Wf(e,n,s,o)}finally{tt.p=f,j.T=h}}function Wf(e,n,s,o){if(Yu){var h=td(o);if(h===null)Bf(e,n,o,Xu,s),zy(e,o);else if(mA(h,e,n,s,o))o.stopPropagation();else if(zy(e,o),n&4&&-1<dA.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=wn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-qe(_);E.entanglements[1]|=b,_&=~b}Jn(f),(Ht&6)===0&&(Mu=fn()+500,Ho(0))}}break;case 13:E=Zs(f,2),E!==null&&hn(E,f,2),Uu(),Jf(f,2)}if(f=td(o),f===null&&Bf(e,n,o,Xu,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Bf(e,n,o,null,s)}}function td(e){return e=gn(e),ed(e)}var Xu=null;function ed(e){if(Xu=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xu=e,null}function Ly(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Ka:return 2;case Os:return 8;case Lr:case rh:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var nd=!1,fr=null,dr=null,mr=null,Zo=new Map,Jo=new Map,gr=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(e,n){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Zo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(n.pointerId)}}function Wo(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&ky(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mA(e,n,s,o,h){switch(n){case"focusin":return fr=Wo(fr,e,n,s,o,h),!0;case"dragenter":return dr=Wo(dr,e,n,s,o,h),!0;case"mouseover":return mr=Wo(mr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Zo.set(f,Wo(Zo.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Jo.set(f,Wo(Jo.get(f)||null,e,n,s,o,h)),!0}return!1}function By(e){var n=ci(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ul(e.priority,function(){if(s.tag===13){var o=cn();o=Hi(o);var h=Zs(s,o);h!==null&&hn(h,s,o),Jf(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=td(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);mi=o,s.target.dispatchEvent(o),mi=null}else return n=Ln(s),n!==null&&ky(n),e.blockedOn=s,!1;n.shift()}return!0}function qy(e,n,s){$u(e)&&s.delete(n)}function gA(){nd=!1,fr!==null&&$u(fr)&&(fr=null),dr!==null&&$u(dr)&&(dr=null),mr!==null&&$u(mr)&&(mr=null),Zo.forEach(qy),Jo.forEach(qy)}function Zu(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gA)))}var Ju=null;function jy(e){Ju!==e&&(Ju=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ju===e&&(Ju=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ed(o||s)===null)continue;break}var f=Ln(s);f!==null&&(e.splice(n,3),n-=3,tf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function tl(e){function n(b){return Zu(b,e)}fr!==null&&Zu(fr,e),dr!==null&&Zu(dr,e),mr!==null&&Zu(mr,e),Zo.forEach(n),Jo.forEach(n);for(var s=0;s<gr.length;s++){var o=gr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gr.length&&(s=gr[0],s.blockedOn===null);)By(s),s.blockedOn===null&&gr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],_=h[fe]||null;if(typeof f=="function")_||jy(s);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[fe]||null)E=_.formAction;else if(ed(h)!==null)continue}else E=_.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),jy(s)}}}function id(e){this._internalRoot=e}Wu.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=cn();Py(s,o,e,n,null,null)},Wu.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Py(e.current,2,null,e,null,null),Uu(),n[dn]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gr.length&&n!==0&&n<gr[s].priority;s++);gr.splice(s,0,e),s===0&&By(e)}};var Hy=t.version;if(Hy!=="19.1.0")throw Error(a(527,Hy,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var pA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{se=tc.inject(pA),jt=tc}catch{}}return nl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=sp,f=ap,_=op,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Vy(e,1,!1,null,null,s,o,h,f,_,E,null),e[dn]=n.current,zf(e),new id(n)},nl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=sp,_=ap,E=op,b=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),n=Vy(e,1,!0,n,s??null,o,h,f,_,E,b,L),n.context=Uy(null),s=n.current,o=cn(),o=Hi(o),h=Ji(o),h.callback=null,Wi(s,h,o),s=o,n.current.lanes=s,ui(n,s),Jn(n),e[dn]=n.current,zf(e),new Wu(n)},nl.version="19.1.0",nl}var Wy;function wA(){if(Wy)return ad.exports;Wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=RA(),ad.exports}var IA=wA();const CA=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},DA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let N=(g&15)<<2|v>>6,G=v&63;p||(G=64,d||(N=64)),a.push(i[A],i[C],i[N],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Rv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):DA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const C=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||C==null)throw new OA;const N=c<<2|g>>4;if(a.push(N),v!==64){const G=g<<4&240|v>>2;if(a.push(G),C!==64){const $=v<<6&192|C;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(r){const t=Rv(r);return wv.encodeByteArray(t,!0)},_c=function(r){return NA(r).replace(/\./g,"")},Iv=function(r){try{return wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>MA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof t_>"u")return;const r=t_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Iv(r[1]);return t&&JSON.parse(t)},zc=()=>{try{return CA()||VA()||UA()||PA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>{var t,i;return(i=(t=zc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},xA=r=>{const t=Cv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Dv=()=>{var r;return(r=zc())===null||r===void 0?void 0:r.config},Ov=r=>{var t;return(t=zc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){return r.endsWith(".cloudworkstations.dev")}async function Nv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_c(JSON.stringify(i)),_c(JSON.stringify(d)),""].join(".")}const al={};function zA(){const r={prod:[],emulator:[]};for(const t of Object.keys(al))al[t]?r.emulator.push(t):r.prod.push(t);return r}function BA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let e_=!1;function Bc(r,t){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||al[r]===t||al[r]||e_)return;al[r]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=zA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{e_=!0,d()},N}function A(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function C(){const N=BA(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),Tt=i("preprendIcon"),ft=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;g(lt),A(Z,nt);const Nt=v();p(ft,Tt),lt.append(ft,$,Z,Nt),document.body.appendChild(lt)}c?($.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function jA(){var r;const t=(r=zc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QA(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function XA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="FirebaseError";class qi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=$A,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ZA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new qi(l,g,a)}}function ZA(r,t){return r.replace(JA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const JA=/\{\$([^}]+)}/g;function WA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ts(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(n_(c)&&n_(d)){if(!Ts(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function n_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function tS(r,t){const i=new eS(r,t);return i.subscribe.bind(i)}class eS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(r){return r&&r._delegate?r._delegate:r}class As{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new kA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sS(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rS(r){return r===_s?void 0:r}function sS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new iS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const oS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},lS=Dt.INFO,uS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},cS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=uS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qd{constructor(t){this.name=t,this._logLevel=lS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const hS=(r,t)=>t.some(i=>r instanceof i);let i_,r_;function fS(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Td=new WeakMap,Vv=new WeakMap,hd=new WeakMap,Kd=new WeakMap;function mS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Sr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Mv.set(i,r)}).catch(()=>{}),Kd.set(t,r),t}function gS(r){if(Td.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Td.set(r,t)}let Ad={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Td.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function pS(r){Ad=r(Ad)}function yS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(fd(this),t,...i);return Vv.set(a,t.sort?t.sort():[t]),Sr(a)}:dS().includes(r)?function(...t){return r.apply(fd(this),t),Sr(Mv.get(this))}:function(...t){return Sr(r.apply(fd(this),t))}}function _S(r){return typeof r=="function"?yS(r):(r instanceof IDBTransaction&&gS(r),hS(r,fS())?new Proxy(r,Ad):r)}function Sr(r){if(r instanceof IDBRequest)return mS(r);if(hd.has(r))return hd.get(r);const t=_S(r);return t!==r&&(hd.set(r,t),Kd.set(t,r)),t}const fd=r=>Kd.get(r);function vS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Sr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Sr(d.result),p.oldVersion,p.newVersion,Sr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],dd=new Map;function s_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(dd.get(t))return dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=TS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ES.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return dd.set(t,c),c}pS(r=>({...r,get:(t,i,a)=>s_(t,i)||r.get(t,i,a),has:(t,i)=>!!s_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function SS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sd="@firebase/app",a_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Qd("@firebase/app"),bS="@firebase/app-compat",RS="@firebase/analytics-compat",wS="@firebase/analytics",IS="@firebase/app-check-compat",CS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",NS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",US="@firebase/functions",PS="@firebase/functions-compat",xS="@firebase/installations",kS="@firebase/installations-compat",LS="@firebase/messaging",zS="@firebase/messaging-compat",BS="@firebase/performance",qS="@firebase/performance-compat",jS="@firebase/remote-config",HS="@firebase/remote-config-compat",GS="@firebase/storage",FS="@firebase/storage-compat",QS="@firebase/firestore",KS="@firebase/vertexai",YS="@firebase/firestore-compat",XS="firebase",$S="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",ZS={[Sd]:"fire-core",[bS]:"fire-core-compat",[wS]:"fire-analytics",[RS]:"fire-analytics-compat",[CS]:"fire-app-check",[IS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[NS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[US]:"fire-fn",[PS]:"fire-fn-compat",[xS]:"fire-iid",[kS]:"fire-iid-compat",[LS]:"fire-fcm",[zS]:"fire-fcm-compat",[BS]:"fire-perf",[qS]:"fire-perf-compat",[jS]:"fire-rc",[HS]:"fire-rc-compat",[GS]:"fire-gcs",[FS]:"fire-gcs-compat",[QS]:"fire-fst",[YS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,JS=new Map,Rd=new Map;function o_(r,t){try{r.container.addComponent(t)}catch(i){xi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Na(r){const t=r.name;if(Rd.has(t))return xi.debug(`There were multiple attempts to register component ${t}.`),!1;Rd.set(t,r);for(const i of vc.values())o_(i,r);for(const i of JS.values())o_(i,r);return!0}function Yd(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Al("app","Firebase",WS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=$S;function Uv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:bd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=Dv()),!i)throw br.create("no-options");const c=vc.get(l);if(c){if(Ts(i,c.options)&&Ts(a,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new aS(l);for(const p of Rd.values())d.addComponent(p);const g=new t1(i,a,d);return vc.set(l,g),g}function Pv(r=bd){const t=vc.get(r);if(!t&&r===bd&&Dv())return Uv();if(!t)throw br.create("no-app",{appName:r});return t}function Rr(r,t,i){var a;let l=(a=ZS[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Na(new As(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebase-heartbeat-database",n1=1,dl="firebase-heartbeat-store";let md=null;function xv(){return md||(md=vS(e1,n1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw br.create("idb-open",{originalErrorMessage:r.message})})),md}async function i1(r){try{const i=(await xv()).transaction(dl),a=await i.objectStore(dl).get(kv(r));return await i.done,a}catch(t){if(t instanceof qi)xi.warn(t.message);else{const i=br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}async function l_(r,t){try{const a=(await xv()).transaction(dl,"readwrite");await a.objectStore(dl).put(t,kv(r)),await a.done}catch(i){if(i instanceof qi)xi.warn(i.message);else{const a=br.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(a.message)}}}function kv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1024,s1=30;class a1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new l1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=u_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>s1){const d=u1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){xi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=u_(),{heartbeatsToSend:a,unsentEntries:l}=o1(this._heartbeatsCache.heartbeats),c=_c(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return xi.warn(i),""}}}function u_(){return new Date().toISOString().substring(0,10)}function o1(r,t=r1){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),c_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),c_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class l1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?XA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await i1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return l_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return l_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function c_(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function u1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){Na(new As("platform-logger",t=>new AS(t),"PRIVATE")),Na(new As("heartbeat",t=>new a1(t),"PRIVATE")),Rr(Sd,a_,r),Rr(Sd,a_,"esm2017"),Rr("fire-js","")}c1("");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,Lv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,V,P){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],V=M.g[2];var P=M.g[3],w=S+(P^R&(V^P))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[2]+606105819&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[3]+3250441966&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[6]+2821735955&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[7]+4249261313&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[10]+4294925233&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[11]+2304563134&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[14]+2792965006&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[15]+1236535329&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(V^P&(R^V))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[11]+643717713&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[0]+3921069994&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[15]+3634488961&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[4]+3889429448&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[3]+4107603335&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[8]+1163531501&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[7]+1735328473&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[12]+2368359562&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(R^V^P)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[11]+1839030562&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[14]+4259657740&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[7]+4139469664&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[10]+3200236656&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[3]+3572445317&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[6]+76029189&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[15]+530742520&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[2]+3299628645&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(V^(R|~P))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[14]+2878612391&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[5]+4237533241&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[10]+4293915773&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[1]+2240044497&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[6]+2734768916&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[13]+1309151649&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[2]+718787259&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}a.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,O=this.B,V=this.h,P=0;P<S;){if(V==0)for(;P<=R;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(O[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,O),V=0;break}}else for(;P<S;)if(O[V++]=M[P++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)M[R++]=this.g[S]>>>O&255;return M};function c(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],O=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;O&&P==S||(R[V]=P,O=!1)}this.g=R}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return Z(v(-M));for(var S=[],R=1,O=0;M>=R;O++)S[O]=M/R|0,R*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=C,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+P),S);8>P?(P=v(Math.pow(S,P)),O=O.j(P).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var C=p(0),N=p(1),G=p(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(M);for(var S=v(Math.pow(M,6)),R=this,O="";;){var V=Nt(R,S).g;R=Tt(R,V.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,$(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function nt(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),nt(M)?-1:$(M)?0:1};function Z(M){for(var S=M.g.length,R=[],O=0;O<S;O++)R[O]=~M.g[O];return new d(R,~M.h).add(N)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0,V=0;V<=S;V++){var P=O+(this.i(V)&65535)+(M.i(V)&65535),w=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=w>>>16,P&=65535,w&=65535,R[V]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Tt(M,S){return M.add(Z(S))}r.j=function(M){if($(this)||$(M))return C;if(nt(this))return nt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(nt(M))return Z(this.j(Z(M)));if(0>this.l(G)&&0>M.l(G))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var P=this.i(O)>>>16,w=this.i(O)&65535,Me=M.i(V)>>>16,re=M.i(V)&65535;R[2*O+2*V]+=w*re,ft(R,2*O+2*V),R[2*O+2*V+1]+=P*re,ft(R,2*O+2*V+1),R[2*O+2*V+1]+=w*Me,ft(R,2*O+2*V+1),R[2*O+2*V+2]+=P*Me,ft(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function ft(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function lt(M,S){this.g=M,this.h=S}function Nt(M,S){if($(S))throw Error("division by zero");if($(M))return new lt(C,C);if(nt(M))return S=Nt(Z(M),S),new lt(Z(S.g),Z(S.h));if(nt(S))return S=Nt(M,Z(S)),new lt(Z(S.g),S.h);if(30<M.g.length){if(nt(M)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=S;0>=O.l(M);)R=_t(R),O=_t(O);var V=Mt(R,1),P=Mt(O,1);for(O=Mt(O,2),R=Mt(R,2);!$(O);){var w=P.add(O);0>=w.l(M)&&(V=V.add(R),P=w),O=Mt(O,1),R=Mt(R,1)}return S=Tt(M,V.j(S)),new lt(V,S)}for(V=C;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=v(R),w=P.j(S);nt(w)||0<w.l(M);)R-=O,P=v(R),w=P.j(S);$(P)&&(P=N),V=V.add(P),M=Tt(M,w)}return new lt(V,M)}r.A=function(M){return Nt(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&M.i(O);return new d(R,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|M.i(O);return new d(R,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^M.i(O);return new d(R,this.h^M.h)};function _t(M){for(var S=M.g.length+1,R=[],O=0;O<S;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(R,M.h)}function Mt(M,S){var R=S>>5;S%=32;for(var O=M.g.length-R,V=[],P=0;P<O;P++)V[P]=0<S?M.i(P+R)>>>S|M.i(P+R+1)<<32-S:M.i(P+R);return new d(V,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Lv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,wr=d}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zv,il,Bv,lc,wd,qv,jv,Hv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in y))break t;y=y[x]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,x={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),u.apply(m,x)}}return function(){return u.apply(m,arguments)}}function N(u,m,y){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,N.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,x,q){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const x=u.length||0,q=T.length||0;u.length=x+q;for(let W=0;W<q;W++)u[x+W]=T[W]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var _t=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Mt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(y in T)u[y]=T[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Tt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,Lt=new Me,I=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){P(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Nt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,J);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,y,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=x,this.key=++Zt,this.da=this.fa=!1}function ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,y,T,x){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=xr(u,m,T,x);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new xn(m,this.src,q,!!T,x),m.fa=y,u.push(m)),m};function Pr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],x=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=x)&&Array.prototype.splice.call(T,x,1),q&&(ji(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function xr(u,m,y,T){for(var x=0;x<u.length;++x){var q=u[x];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return x}return-1}var kr="closure_lm_"+(1e6*Math.random()|0),Qa={};function Nl(u,m,y,T,x){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Nl(u,m[q],y,T,x);return null}return y=Ml(y),u&&u[Re]?u.K(m,y,v(T)?!!T.capture:!1,x):fn(u,m,y,!1,T,x)}function fn(u,m,y,T,x,q){if(!m)throw Error("Invalid event type");var W=v(x)?!!x.capture:!!x,Vt=Ns(u);if(Vt||(u[kr]=Vt=new oi(u)),y=Vt.add(m,y,T,W,q),y.proxy)return y;if(T=ih(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(x=W),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ih(){function u(y){return m.call(u.src,u.listener,y)}const m=rh;return u}function Ka(u,m,y,T,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ka(u,m[q],y,T,x);else T=v(T)?!!T.capture:!!T,y=Ml(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=xr(q,y,T,x),-1<y&&(ji(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xr(m,y,T,x)),(y=-1<u?m[u]:null)&&Os(y))}function Os(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Pr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Lr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ns(m))?(Pr(y,u),y.h==0&&(y.src=null,m[kr]=null)):ji(u)}}}function Lr(u){return u in Qa?Qa[u]:Qa[u]="on"+u}function rh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Os(u),u=y.call(T,m)}return u}function Ns(u){return u=u[kr],u instanceof oi?u:null}var Ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ml(u){return typeof u=="function"?u:(u[Ya]||(u[Ya]=function(m){return u.handleEvent(m)}),u[Ya])}function se(){et.call(this),this.i=new oi(this),this.M=this,this.F=null}$(se,et),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,y,T){Ka(this,u,m,y,T)};function jt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var x=m;m=new J(T,u),O(m,x)}if(x=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];x=nn(W,T,!0,m)&&x}if(W=m.g=u,x=nn(W,T,!0,m)&&x,x=nn(W,T,!1,m)&&x,y)for(q=0;q<y.length;q++)W=m.g=y[q],x=nn(W,T,!1,m)&&x}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)ji(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var Vt=W.listener,_e=W.ha||W.src;W.fa&&Pr(u.i,W),x=Vt.call(_e,T)!==!1&&x}}return x&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=N(u,y));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Vl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Vl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){et.call(this),this.h=u,this.g={}}$(zr,et);var Br=[];function qr(u){Mt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Os(m)},u),u.g={}}zr.prototype.N=function(){zr.aa.N.call(this),qr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,Ms=g.JSON.parse,jr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Xa(){}Xa.prototype.h=null;function $a(u){return u.h||(u.h=u.i())}function Za(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){J.call(this,"d")}$(ui,J);function Ja(){J.call(this,"c")}$(Ja,J);var kn={},Wa=null;function Hi(){return Wa=Wa||new se}kn.La="serverreachability";function Vs(u){J.call(this,kn.La,u)}$(Vs,J);function Gi(u){const m=Hi();jt(m,new Vs(m))}kn.STAT_EVENT="statevent";function Ul(u,m){J.call(this,kn.STAT_EVENT,u),this.stat=m}$(Ul,J);function Wt(u){const m=Hi();jt(m,new Ul(m,u))}kn.Ma="timingevent";function ye(u,m){J.call(this,kn.Ma,u),this.size=m}$(ye,J);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function to(u,m,y,T,x,q){u.info(function(){if(u.g)if(q)for(var W="",Vt=q.split("&"),_e=0;_e<Vt.length;_e++){var Ut=Vt[_e].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var ve=Ie.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ie+"="+Ut+"&"):W+(Ie+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+y+`
`+W})}function ah(u,m,y,T,x,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+y+`
`+q+" "+W})}function Fi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hr(u,y)+(T?" "+T:"")})}function Pl(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Hr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<x.length;W++)x[W]=""}}}}return wn(y)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}$(zn,Xa),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var eo={},Us={};function In(u,m,y){u.L=1,u.v=Yr(rn(m)),u.m=y,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Gr(u),u.A=rn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),oo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=Zl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new sh(N(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Br[0]=x.toString()),x=Br);for(var q=0;q<x.length;q++){var W=Nl(y,x[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Gi(),to(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=yn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Hl(this.g)))){this.J||ve!=4||m==7||(m==8||0>=vi?Gi(3):Gi(2)),Ki(this);var y=this.g.Z();this.X=y;e:if(xl(this)){var T=Hl(this.g);u="";var x=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==x-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,ah(this.i,this.u,this.A,this.l,this.R,ve,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,_e=this.g;if((Vt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Vt)){var Ut=Vt;break e}}Ut=null}if(y=Ut)Fi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,y);else{this.o=!1,this.s=3,Wt(12),Ve(this),Bn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=kl(this,W),Ue==Us){ve==4&&(this.s=4,Wt(14),y=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==eo){this.s=4,Wt(15),Fi(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Fi(this.i,this.l,Ue,null),Fr(this,Ue);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),y=!1),this.o=this.o&&y,!y)Fi(this.i,this.l,W,"[Invalid Chunked Response]"),Ve(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ns(Ie),Ie.M=!0,Wt(11))}}else Fi(this.i,this.l,W,null),Fr(this,W);ve==4&&Ve(this),this.o&&!this.J&&(ve==4?Yl(this.j,this):(this.o=!1,Gr(this)))}else hh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ve(this),Bn(this)}}}catch{}finally{}};function xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function kl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Us:(y=Number(m.substring(y,T)),isNaN(y)?eo:(T+=1,T+y>m.length?Us:(m=m.slice(T,T+y),u.C=T+y,m)))}Ye.prototype.cancel=function(){this.J=!0,Ve(this)};function Gr(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(N(u.ba,u),m)}function Ki(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Pl(this.i,this.A),this.L!=2&&(Gi(),Wt(17)),Ve(this),this.s=2,Bn(this)):Ll(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Yl(u.j,u)}function Ve(u){Ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||no(y.h,u))){if(!u.K&&no(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Qs(y),Gs(y);else break t;fo(y),Wt(18)}}else y.za=x[1],0<y.za-y.T&&37500>x[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(N(y.Za,y),6e3));if(1>=xs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _i(y,11)}else if((u.K||y.g==u)&&Qs(y),!ft(m))for(x=y.Da.g.parse(m),m=0;m<x.length;m++){let Ut=x[m];if(y.T=Ut[0],Ut=Ut[1],y.G==2)if(Ut[0]=="c"){y.K=Ut[1],y.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const ve=Ut[4];ve!=null&&(y.Aa=ve,y.j.info("SVER="+y.Aa));const vi=Ut[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Ue=u.g;if(Ue){const Kn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=T.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ks(q,q.h),q.h=null))}if(T.D){const go=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(T.ya=go,Ft(T.I,T.D,go))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=$l(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Vt=W,_e=T.L;_e&&(Vt.I=_e),Vt.B&&(Ki(Vt),Gr(Vt)),T.g=W}else Ql(T);0<y.i.length&&Fs(y)}else Ut[0]!="stop"&&Ut[0]!="close"||_i(y,7);else y.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?_i(y,7):co(y):Ut[0]!="noop"&&y.l&&y.l.ta(Ut),y.v=0)}}Gi(4)}catch{}}var zl=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xs(u){return u.h?1:u.g?u.g.size:0}function no(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ks(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function io(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function oh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ls(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ro(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ls(u),T=oh(u),x=T.length,q=0;q<x;q++)m.call(void 0,T[q],y&&y[q],u)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),x=null;if(0<=T){var q=u[y].substring(0,T);x=u[y].substring(T+1)}else q=u[y];m(q,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Kr(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.s),this.l=u.l;var m=u.i,y=new mi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),di(this,y),this.m=u.m}else u&&(m=String(u).match(Qr))?(this.h=!1,Kr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Yi(this,m[4]),this.l=mn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xr(m,so,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xr(m,so,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Xr(y,y.charAt(0)=="/"?uh:ao,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Xr(y,zs)),u.join("")};function rn(u){return new de(u)}function Kr(u,m,y){u.j=y?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,y){m instanceof mi?(u.i=m,ql(u.i,u.h)):(y||(m=Xr(m,ch)),u.i=new mi(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function Yr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Bl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var so=/[#\/\?@]/g,ao=/[#\?:]/g,uh=/[#\?]/g,ch=/[#\?@]/g,zs=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&lh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=mi.prototype,r.add=function(u,m){gn(this),this.i=null,u=qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function gi(u,m){gn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return gn(u),m=qn(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(y,T){y.forEach(function(x){u.call(m,x,T,this)},this)},this)},r.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const x=u[T];for(let q=0;q<x.length;q++)y.push(m[T])}return y},r.V=function(u){gn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return gn(this),this.i=null,u=qn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function oo(u,m,y){gi(u,m),0<y.length&&(u.i=null,u.g.set(qn(u,m),nt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var x=q;W[T]!==""&&(x+="="+encodeURIComponent(String(W[T]))),u.push(x)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ql(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(y,T){var x=T.toLowerCase();T!=x&&(gi(this,T),oo(this,x,y))},u)),u.j=m}function $r(u,m){const y=new dn;if(g.Image){const T=new Image;T.onload=G(pn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=G(pn,y,"TestLoadImage: error",!1,m,T),T.onabort=G(pn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(pn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Cn(u,m){const y=new dn,T=new AbortController,x=setTimeout(()=>{T.abort(),pn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(x),q.ok?pn(y,"TestPingServer: ok",!0,m):pn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),pn(y,"TestPingServer: error",!1,m)})}function pn(u,m,y,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(y)}catch{}}function Zr(){this.g=new jr}function jn(u,m,y){const T=y||"";try{ro(u,function(x,q){let W=x;v(x)&&(W=wn(x)),m.push(T+q+"="+encodeURIComponent(W))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Xi,Xa),Xi.prototype.g=function(){return new yi(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(yi,se),r=yi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function lo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&lo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},r.Qa=function(u){this.g&&(this.response=u,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function uo(u){let m="";return Mt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function we(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=uo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Bt,se);var Bs=/^https?$/i,Jr=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?$a(this.o):$a(Ln),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){jl(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)y.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),x=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Jr,m,void 0))||T||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){jl(this,q)}};function jl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),Fn(u)}function qs(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},r.bb=function(){js(this)};function js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var x=String(u.D).match(Qr)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!Bs.test(x?x.toLowerCase():"")}y=T}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",qs(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Wr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Wr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ms(m)}};function Hl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hh(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ft(u[T]))continue;var y=V(u[T]);const x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[x]||[];m[x]=q,q.push(y)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Hs(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,u),this.cb=ts("retryDelaySeedMs",1e4,u),this.Wa=ts("forwardChannelMaxRetries",2,u),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new Zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){Wt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=$l(this,null,this.W),Fs(this)};function co(u){if(Gl(u),u.G==3){var m=u.U++,y=rn(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),es(u,y),m=new Ye(u,u.j,m),m.L=2,m.v=Yr(rn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Zl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gr(m)}Xl(u)}function Gs(u){u.g&&(ns(u),u.g.cancel(),u.g=null)}function Gl(u){Gs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Fs(u){if(!Ps(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||I(),at||(tt(),at=!0),Lt.add(m,u),u.B=0}}function fh(u,m){return xs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(N(u.Ga,u,m),mo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(x.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Fl(this,x,m),y=rn(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),es(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(uo(q)))+"&"+m:this.m&&we(y,this.m,q)),ks(this.h,x),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),x.T=!0,In(x,y,null)):In(x,y,m),this.G=2}}else this.G==3&&(u?ho(this,u):this.i.length==0||Ps(this.h)||ho(this))};function ho(u,m){var y;m?y=m.l:y=u.U++;const T=rn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",y),Ft(T,"AID",u.T),es(u,T),u.m&&u.o&&we(T,u.m,u.o),y=new Ye(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Fl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ks(u.h,y),In(y,T,m)}function es(u,m){u.H&&Mt(u.H,function(y,T){Ft(m,T,y)}),u.l&&ro({},function(y,T){Ft(m,T,y)})}function Fl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?N(u.l.Na,u.l,u):null;t:{var x=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=x[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Vt=!0;for(let _e=0;_e<y;_e++){let Ut=x[_e].g;const Ie=x[_e].map;if(Ut-=q,0>Ut)q=Math.max(0,x[_e].g-100),Vt=!1;else try{jn(Ie,W,"req"+Ut+"_")}catch{T&&T(Ie)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Ql(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||I(),at||(tt(),at=!0),Lt.add(m,u),u.v=0}}function fo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(N(u.Fa,u),mo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Gs(this),Kl(this))};function ns(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),es(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Yr(rn(m)),y.m=null,y.P=!0,hi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Gs(this),fo(this),Wt(19))};function Qs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Yl(u,m){var y=null;if(u.g==m){Qs(u),ns(u),u.g=null;var T=2}else if(no(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var x=u.B;T=Hi(),jt(T,new ye(T,y)),Fs(u)}else Ql(u);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&fh(u,m)||T==2&&fo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),x){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function mo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var y=N(u.fb,u),T=u.Xa;const x=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Kr(T,"https"),Yr(T),x?$r(T.toString(),y):Cn(T.toString(),y)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Xl(u),Gl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Xl(u){if(u.G=0,u.ka=[],u.l){const m=io(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function $l(u,m,y){var T=y instanceof de?rn(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var q=new de(null);T&&Kr(q,T),m&&(q.g=m),x&&Yi(q,x),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Ft(T,y,m),Ft(T,"VER",u.la),es(u,T),T}function Zl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Xi({eb:y})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}r=Jl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}$($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){co(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=wn(u),u=y);m.i.push(new zl(m.Ya++,u)),m.G==3&&Fs(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,$e.aa.N.call(this)};function Wl(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Wl,ui);function tu(){Ja.call(this),this.status=1}$(tu,Ja);function Qn(u){this.g=u}$(Qn,Jl),Qn.prototype.ua=function(){jt(this.g,"a")},Qn.prototype.ta=function(u){jt(this.g,new Wl(u))},Qn.prototype.sa=function(u){jt(this.g,new tu)},Qn.prototype.ra=function(){jt(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Hv=function(){return new Ks},jv=function(){return Hi()},qv=kn,wd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,lc=Qi,ci.COMPLETE="complete",Bv=ci,Za.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",se.prototype.listen=se.prototype.K,il=Za,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,zv=Bt}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore",d_="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Qd("@firebase/firestore");function Aa(){return Ss.logLevel}function it(r,...t){if(Ss.logLevel<=Dt.DEBUG){const i=t.map(Xd);Ss.debug(`Firestore (${qa}): ${r}`,...i)}}function ki(r,...t){if(Ss.logLevel<=Dt.ERROR){const i=t.map(Xd);Ss.error(`Firestore (${qa}): ${r}`,...i)}}function Ma(r,...t){if(Ss.logLevel<=Dt.WARN){const i=t.map(Xd);Ss.warn(`Firestore (${qa}): ${r}`,...i)}}function Xd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Gv(r,a,i)}function Gv(r,t,i){let a=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ki(a),new Error(a)}function qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Gv(t,l,a)}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends qi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class h1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class f1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class d1{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ir,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ir)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new Fv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class m1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new m1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new m_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new m_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=y1(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function bt(r,t){return r<t?-1:r>t?1:0}function Id(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return bt(a,l);{const c=Qv(),d=_1(c.encode(g_(r,i)),c.encode(g_(t,i)));return d!==0?d:bt(a,l)}}i+=a>65535?2:1}return bt(r.length,t.length)}function g_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function _1(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return bt(r[i],t[i]);return bt(r.length,t.length)}function Va(r,t,i){return r.length===t.length&&r.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-62135596800,y_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*y_);return new Se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<p_)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-p_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class Wn{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Wn.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Wn?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Wn.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return bt(t.length,i.length)}static compareSegments(t,i){const a=Wn.isNumericId(t),l=Wn.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Wn.extractNumericId(t).compare(Wn.extractNumericId(i)):Id(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class ee extends Wn{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const v1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Wn{construct(t,i,a){return new ze(t,i,a)}static isValidIdentifier(t){return v1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new ze([__])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function E1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Dr(l,ct.empty(),t)}function T1(r){return new Dr(r.readTime,r.key,ml)}class Dr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Dr(vt.min(),ct.empty(),ml)}static max(){return new Dr(vt.max(),ct.empty(),ml)}}function A1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==S1)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,a)=>{i(t)})}static reject(t){return new K((i,a)=>{a(t)})}static waitFor(t){return new K((i,a)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>a(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next(l=>l?K.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new K((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&a(d)},A=>l(A))}})}static doWhile(t,i){return new K((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function R1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ha(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function jc(r){return r==null}function Ec(r){return r===0&&1/r==-1/0}function w1(r){return typeof r=="number"&&Number.isInteger(r)&&!Ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="";function I1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=v_(t)),t=C1(r.get(i),t);return v_(t)}function C1(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Yv:i+="";break;default:i+=c}}return i}function v_(r){return r+Yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ws(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Xv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||Le.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nc(this.root,t,this.comparator,!0)}}class nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Le(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Le(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(t){return new T_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class T_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new be(ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Va(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $v("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const D1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=D1.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="server_timestamp",Jv="__type__",Wv="__previous_value__",t0="__local_write_time__";function Zd(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Jv])===null||i===void 0?void 0:i.stringValue)===Zv}function Hc(r){const t=r.mapValue.fields[Wv];return Zd(t)?Hc(t):t}function gl(r){const t=Or(r.mapValue.fields[t0].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,i,a,l,c,d,g,p,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=A}}const Tc="(default)";class pl{constructor(t,i){this.projectId=t,this.database=i||Tc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="__type__",N1="__max__",ic={mapValue:{}},n0="__vector__",Ac="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zd(r)?4:V1(r)?9007199254740991:M1(r)?10:11:mt(28295,{value:r})}function si(r,t){if(r===t)return!0;const i=Mr(r);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return gl(r).isEqual(gl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Or(l.timestampValue),g=Or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Nr(l.bytesValue).isEqual(Nr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?Ec(d)===Ec(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Va(r.arrayValue.values||[],t.arrayValue.values||[],si);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(E_(d)!==E_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!si(d[p],g[p])))return!1;return!0}(r,t);default:return mt(52216,{left:r})}}function yl(r,t){return(r.values||[]).find(i=>si(i,t))!==void 0}function Ua(r,t){if(r===t)return 0;const i=Mr(r),a=Mr(t);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return A_(r.timestampValue,t.timestampValue);case 4:return A_(gl(r),gl(t));case 5:return Id(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Nr(c),p=Nr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=bt(g[v],p[v]);if(A!==0)return A}return bt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=bt(he(c.latitude),he(d.latitude));return g!==0?g:bt(he(c.longitude),he(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return S_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const C=c.fields||{},N=d.fields||{},G=(g=C[Ac])===null||g===void 0?void 0:g.arrayValue,$=(p=N[Ac])===null||p===void 0?void 0:p.arrayValue,nt=bt(((v=G==null?void 0:G.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:S_(G,$)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===ic.mapValue&&d===ic.mapValue)return 0;if(c===ic.mapValue)return 1;if(d===ic.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const N=Id(p[C],A[C]);if(N!==0)return N;const G=Ua(g[p[C]],v[A[C]]);if(G!==0)return G}return bt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw mt(23264,{Pe:i})}}function A_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return bt(r,t);const i=Or(r),a=Or(t),l=bt(i.seconds,a.seconds);return l!==0?l:bt(i.nanos,a.nanos)}function S_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ua(i[l],a[l]);if(c)return c}return bt(i.length,a.length)}function Pa(r){return Cd(r)}function Cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Or(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Nr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ct.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Cd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Cd(i.fields[d])}`;return l+"}"}(r.mapValue):mt(61005,{value:r})}function uc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hc(r);return t?16+uc(t):16;case 5:return 2*r.stringValue.length;case 6:return Nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+uc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return ws(a.fields,(c,d)=>{l+=c.length+uc(d)}),l}(r.mapValue);default:throw mt(13486,{value:r})}}function Dd(r){return!!r&&"integerValue"in r}function Jd(r){return!!r&&"arrayValue"in r}function b_(r){return!!r&&"nullValue"in r}function R_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cc(r){return!!r&&"mapValue"in r}function M1(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[e0])===null||i===void 0?void 0:i.stringValue)===n0}function ol(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ws(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=ol(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ol(r.arrayValue.values[i]);return t}return Object.assign({},r)}function V1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===N1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ol(i)}setAll(t){let i=ze.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=ol(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ws(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new Rn(ol(this.value))}}function i0(r){const t=[];return ws(r.fields,(i,a)=>{const l=new ze([i]);if(cc(a)){const c=i0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(t,i,a,l){return new Qe(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i){this.position=t,this.inclusive=i}}function w_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ua(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function I_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!si(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function U1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{}class Ae extends r0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new x1(t,i,a):i==="array-contains"?new z1(t,a):i==="in"?new B1(t,a):i==="not-in"?new q1(t,a):i==="array-contains-any"?new j1(t,a):new Ae(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new k1(t,a):new L1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ua(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Ua(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends r0{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new ai(t,i)}matches(t){return s0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function s0(r){return r.op==="and"}function a0(r){return P1(r)&&s0(r)}function P1(r){for(const t of r.filters)if(t instanceof ai)return!1;return!0}function Od(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+Pa(r.value);if(a0(r))return r.filters.map(t=>Od(t)).join(",");{const t=r.filters.map(i=>Od(i)).join(",");return`${r.op}(${t})`}}function o0(r,t){return r instanceof Ae?function(a,l){return l instanceof Ae&&a.op===l.op&&a.field.isEqual(l.field)&&si(a.value,l.value)}(r,t):r instanceof ai?function(a,l){return l instanceof ai&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&o0(d,l.filters[g]),!0):!1}(r,t):void mt(19439)}function l0(r){return r instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Pa(i.value)}`}(r):r instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(l0).join(" ,")+"}"}(r):"Filter"}class x1 extends Ae{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class k1 extends Ae{constructor(t,i){super(t,"in",i),this.keys=u0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class L1 extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=u0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function u0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ct.fromName(a.referenceValue))}class z1 extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Jd(i)&&yl(i.arrayValue,this.value)}}class B1 extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&yl(this.value.arrayValue,i)}}class q1 extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yl(this.value.arrayValue,i)}}class j1 extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>yl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function C_(r,t=null,i=[],a=[],l=null,c=null,d=null){return new H1(r,t,i,a,l,c,d)}function Wd(r){const t=Et(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Od(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),jc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Pa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Pa(a)).join(",")),t.Ie=i}return t.Ie}function tm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!U1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!o0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!I_(r.startAt,t.startAt)&&I_(r.endAt,t.endAt)}function Nd(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function G1(r,t,i,a,l,c,d,g){return new Gc(r,t,i,a,l,c,d,g)}function c0(r){return new Gc(r)}function D_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function F1(r){return r.collectionGroup!==null}function ll(r){const t=Et(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new bc(c,a))}),i.has(ze.keyField().canonicalString())||t.Ee.push(new bc(ze.keyField(),a))}return t.Ee}function ei(r){const t=Et(r);return t.de||(t.de=Q1(t,ll(r))),t.de}function Q1(r,t){if(r.limitType==="F")return C_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new bc(l.field,c)});const i=r.endAt?new Sc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Sc(r.startAt.position,r.startAt.inclusive):null;return C_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Md(r,t,i){return new Gc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Fc(r,t){return tm(ei(r),ei(t))&&r.limitType===t.limitType}function h0(r){return`${Wd(ei(r))}|lt:${r.limitType}`}function Sa(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>l0(l)).join(", ")}]`),jc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Pa(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Pa(l)).join(",")),`Target(${a})`}(ei(r))}; limitType=${r.limitType})`}function Qc(r,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,l){for(const c of ll(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(d,g,p){const v=w_(d,g,p);return d.inclusive?v<=0:v<0}(a.startAt,ll(a),l)||a.endAt&&!function(d,g,p){const v=w_(d,g,p);return d.inclusive?v>=0:v>0}(a.endAt,ll(a),l))}(r,t)}function K1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function f0(r){return(t,i)=>{let a=!1;for(const l of ll(r)){const c=Y1(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Y1(r,t,i){const a=r.field.isKeyField()?ct.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Ua(p,v):mt(42886)}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return Xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new ie(ct.comparator);function Li(){return X1}const d0=new ie(ct.comparator);function rl(...r){let t=d0;for(const i of r)t=t.insert(i.key,i);return t}function m0(r){let t=d0;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function vs(){return ul()}function g0(){return ul()}function ul(){return new Is(r=>r.toString(),(r,t)=>r.isEqual(t))}const $1=new ie(ct.comparator),Z1=new be(ct.comparator);function Ot(...r){let t=Z1;for(const i of r)t=t.add(i);return t}const J1=new be(bt);function W1(){return J1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(t)?"-0":t}}function p0(r){return{integerValue:""+r}}function tb(r,t){return w1(t)?p0(t):em(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function eb(r,t,i){return r instanceof Rc?function(l,c){const d={fields:{[Jv]:{stringValue:Zv},[t0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zd(c)&&(c=Hc(c)),c&&(d.fields[Wv]=c),{mapValue:d}}(i,t):r instanceof _l?_0(r,t):r instanceof vl?v0(r,t):function(l,c){const d=y0(l,c),g=O_(d)+O_(l.Re);return Dd(d)&&Dd(l.Re)?p0(g):em(l.serializer,g)}(r,t)}function nb(r,t,i){return r instanceof _l?_0(r,t):r instanceof vl?v0(r,t):i}function y0(r,t){return r instanceof wc?function(a){return Dd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Rc extends Kc{}class _l extends Kc{constructor(t){super(),this.elements=t}}function _0(r,t){const i=E0(t);for(const a of r.elements)i.some(l=>si(l,a))||i.push(a);return{arrayValue:{values:i}}}class vl extends Kc{constructor(t){super(),this.elements=t}}function v0(r,t){let i=E0(t);for(const a of r.elements)i=i.filter(l=>!si(l,a));return{arrayValue:{values:i}}}class wc extends Kc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function O_(r){return he(r.integerValue||r.doubleValue)}function E0(r){return Jd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ib(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof _l&&l instanceof _l||a instanceof vl&&l instanceof vl?Va(a.elements,l.elements,si):a instanceof wc&&l instanceof wc?si(a.Re,l.Re):a instanceof Rc&&l instanceof Rc}(r.transform,t.transform)}class rb{constructor(t,i){this.version=t,this.transformResults=i}}class Pi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Yc{}function T0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new S0(r.key,Pi.none()):new bl(r.key,r.data,Pi.none());{const i=r.data,a=Rn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Cs(r.key,a,new Mn(l.toArray()),Pi.none())}}function sb(r,t,i){r instanceof bl?function(l,c,d){const g=l.value.clone(),p=M_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Cs?function(l,c,d){if(!hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=M_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(A0(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function cl(r,t,i,a){return r instanceof bl?function(c,d,g,p){if(!hc(c.precondition,d))return g;const v=c.value.clone(),A=V_(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,i,a):r instanceof Cs?function(c,d,g,p){if(!hc(c.precondition,d))return g;const v=V_(c.fieldTransforms,p,d),A=d.data;return A.setAll(A0(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,i,a):function(c,d,g){return hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function ab(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=y0(a.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function N_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Va(a,l,(c,d)=>ib(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class bl extends Yc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cs extends Yc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function A0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function M_(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,nb(d,g,i[l]))}return a}function V_(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,eb(c,d,t))}return a}class S0 extends Yc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ob extends Yc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&sb(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=g0();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=T0(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Va(this.mutations,t.mutations,(i,a)=>N_(i,a))&&Va(this.baseMutations,t.baseMutations,(i,a)=>N_(i,a))}}class nm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return $1}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new nm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function hb(r){switch(r){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function b0(r){if(r===void 0)return ki("GRPC error has no .code"),X.UNKNOWN;switch(r){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:r})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new wr([4294967295,4294967295],0);function U_(r){const t=Qv().encode(r),i=new Lv;return i.update(t),new Uint8Array(i.digest())}function P_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new wr([i,a],0),new wr([l,c],0)]}class im{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new sl(`Invalid padding: ${i}`);if(a<0)throw new sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new sl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=wr.fromNumber(this.pe)}we(t,i,a){let l=t.add(i.multiply(wr.fromNumber(a)));return l.compare(fb)===1&&(l=new wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=U_(t),[a,l]=P_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);if(!this.be(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new im(c,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=U_(t),[a,l]=P_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Rl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Xc(vt.min(),l,new ie(bt),Li(),Ot())}}class Rl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Rl(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,i,a,l){this.De=t,this.removedTargetIds=i,this.key=a,this.ve=l}}class R0{constructor(t,i){this.targetId=t,this.Ce=i}}class w0{constructor(t,i,a=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class x_{constructor(){this.Fe=0,this.Me=k_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ot(),i=Ot(),a=Ot();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}}),new Rl(this.xe,this.Oe,t,i,a)}Qe(){this.Ne=!1,this.Me=k_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class db{constructor(t){this.ze=t,this.je=new Map,this.He=Li(),this.Je=rc(),this.Ye=rc(),this.Ze=new ie(bt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const a=this.rt(i);switch(t.state){case 0:this.it(i)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(t.resumeToken));break;default:mt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((a,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,a=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(Nd(c))if(a===0){const d=new ct(c.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Nr(a).toUint8Array()}catch(p){if(p instanceof $v)return Ma("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new im(d,l,c)}catch(p){return Ma(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,i,a){return i.Ce.count===a-this.Tt(t,i.targetId)?0:2}Tt(t,i){const a=this.ze.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Nd(g.target)){const p=new ct(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let a=Ot();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this._t(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new Xc(t,i,this.Ze,this.He,a);return this.He=Li(),this.Je=rc(),this.Ye=rc(),this.Ze=new ie(bt),l}et(t,i){if(!this.it(t))return;const a=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),a&&(this.He=this.He.insert(i,a))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new x_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new be(bt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new be(bt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new x_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function rc(){return new ie(ct.comparator)}function k_(){return new ie(ct.comparator)}const mb={asc:"ASCENDING",desc:"DESCENDING"},gb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pb={and:"AND",or:"OR"};class yb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Vd(r,t){return r.useProto3Json||jc(t)?t:{value:t}}function Ic(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function _b(r,t){return Ic(r,t.toTimestamp())}function ni(r){return qt(!!r,49232),vt.fromTimestamp(function(i){const a=Or(i);return new Se(a.seconds,a.nanos)}(r))}function rm(r,t){return Ud(r,t).canonicalString()}function Ud(r,t){const i=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function C0(r){const t=ee.fromString(r);return qt(V0(t),10190,{key:t.toString()}),t}function Pd(r,t){return rm(r.databaseId,t.path)}function gd(r,t){const i=C0(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(O0(i))}function D0(r,t){return rm(r.databaseId,t)}function vb(r){const t=C0(r);return t.length===4?ee.emptyPath():O0(t)}function xd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function O0(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function L_(r,t,i){return{name:Pd(r,t),fields:i.value.mapValue.fields}}function Eb(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:b0(v.code);return new ot(A,v.message||"")}(d);i=new w0(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=gd(r,a.document.name),c=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):vt.min(),g=new Rn({mapValue:{fields:a.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new fc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=gd(r,a.document),c=a.readTime?ni(a.readTime):vt.min(),d=Qe.newNoDocument(l,c),g=a.removedTargetIds||[];i=new fc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=gd(r,a.document),c=a.removedTargetIds||[];i=new fc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new cb(l,c),g=a.targetId;i=new R0(g,d)}}return i}function Tb(r,t){let i;if(t instanceof bl)i={update:L_(r,t.key,t.value)};else if(t instanceof S0)i={delete:Pd(r,t.key)};else if(t instanceof Cs)i={update:L_(r,t.key,t.data),updateMask:Ob(t.fieldMask)};else{if(!(t instanceof ob))return mt(16599,{ft:t.type});i={verify:Pd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof Rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof wc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw mt(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:_b(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)}(r,t.precondition)),i}function Ab(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(i=>function(l,c){let d=l.updateTime?ni(l.updateTime):ni(c);return d.isEqual(vt.min())&&(d=ni(c)),new rb(d,l.transformResults||[])}(i,t))):[]}function Sb(r,t){return{documents:[D0(r,t.path)]}}function bb(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=D0(r,l);const c=function(v){if(v.length!==0)return M0(ai.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:ba(N.field),direction:Ib(N.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Vd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:i,parent:l}}function Rb(r){let t=vb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const N=N0(C);return N instanceof ai&&a0(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(N=>function($){return new bc(Ra($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(C){let N;return N=typeof C=="object"?C.value:C,jc(N)?null:N}(i.limit));let p=null;i.startAt&&(p=function(C){const N=!!C.before,G=C.values||[];return new Sc(G,N)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const N=!C.before,G=C.values||[];return new Sc(G,N)}(i.endAt)),G1(t,l,d,c,g,"F",p,v)}function wb(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function N0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ra(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ra(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ra(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ra(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ae.create(Ra(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(a=>N0(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(i.compositeFilter.op))}(r):mt(30097,{filter:r})}function Ib(r){return mb[r]}function Cb(r){return gb[r]}function Db(r){return pb[r]}function ba(r){return{fieldPath:r.canonicalString()}}function Ra(r){return ze.fromServerFormat(r.fieldPath)}function M0(r){return r instanceof Ae?function(i){if(i.op==="=="){if(R_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NAN"}};if(b_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NAN"}};if(b_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(i.field),op:Cb(i.op),value:i.value}}}(r):r instanceof ai?function(i){const a=i.getFilters().map(l=>M0(l));return a.length===1?a[0]:{compositeFilter:{op:Db(i.op),filters:a}}}(r):mt(54877,{filter:r})}function Ob(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function V0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.wt=t}}function Mb(r){const t=Rb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.yn=new Ub}addToCollectionParentIndex(t,i){return this.yn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Dr.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class Ub{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new be(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U0=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(U0,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new xa(0)}static ir(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",Pb=1048576;function q_([r,t],[i,a]){const l=bt(r,i);return l===0?bt(t,a):l}class xb{constructor(t){this.cr=t,this.buffer=new be(q_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();q_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kb{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){it(B_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ha(i)?it(B_,"Ignoring IndexedDB error during garbage collection: ",i):await ja(i)}await this.Ir(3e5)})}}class Lb{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return K.resolve(qc.le);const a=new xb(i);return this.Er.forEachTarget(t,l=>a.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>a.Pr(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.Er.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(z_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let a,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(a=C,g=Date.now(),this.removeTargets(t,a,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(C=>(v=Date.now(),Aa()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function zb(r,t){return new Lb(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.changes=new Is(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&cl(a.mutation,l,Mn.empty(),Se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Ot()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Ot()){const l=vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let d=rl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=vs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Ot()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let c=Li();const d=ul(),g=function(){return ul()}();return i.forEach((p,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Cs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),cl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,Mn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new qb(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const a=ul();let l=new ie((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=a.get(p)||Mn.empty();A=g.applyToLocalView(v,A),a.set(p,A);const C=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,C=g0();A.forEach(N=>{if(!c.has(N)){const G=T0(i.get(N),a.get(N));G!==null&&C.set(N,G),c=c.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):F1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):K.resolve(vs());let g=ml,p=c;return d.next(v=>K.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(N=>{p=p.insert(A,N)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Ot())).next(A=>({batchId:g,changes:m0(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next(a=>{let l=rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=rl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const v=function(C,N){return new Gc(N,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next(A=>{A.forEach((C,N)=>{d=d.insert(C,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=rl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&cl(A.mutation,v,Mn.empty(),Se.now()),Qc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return K.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ni(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:Mb(l.bundledQuery),readTime:ni(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.overlays=new ie(ct.comparator),this.Or=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=vs();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.St(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Or.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=vs(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=vs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(a.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new ub(i,a));let c=this.Or.get(i);c===void 0&&(c=Ot(),this.Or.set(i,c)),this.Or.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Nr=new be(Ne.Br),this.Lr=new be(Ne.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const a=new Ne(t,i);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Qr(new Ne(t,i))}$r(t,i){t.forEach(a=>this.removeReference(a,i))}Ur(t){const i=new ct(new ee([])),a=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.Lr.forEachInRange([a,l],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new ct(new ee([])),a=new Ne(i,t),l=new Ne(i,t+1);let c=Ot();return this.Lr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ne(t,0),a=this.Nr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ne{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return ct.comparator(t.key,i.key)||bt(t.Gr,i.Gr)}static kr(t,i){return bt(t.Gr,i.Gr)||ct.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new be(Ne.Br)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lb(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.zr=this.zr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Hr(a),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?$d:this.Jn-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([a,l],d=>{const g=this.jr(d.Gr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new be(bt);return i.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],g=>{a=a.add(g.Gr)})}),K.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ct(c),0);let g=new be(bt);return this.zr.forEachWhile(p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Gr)),!0)},d),K.resolve(this.Jr(g))}Jr(t){const i=[];return t.forEach(a=>{const l=this.jr(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return K.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,i){const a=new Ne(i,0),l=this.zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.Zr=t,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Zr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let a=Li();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Li();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||A1(T1(A),a)<=0||(l.has(A.key)||Qc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}Xr(t,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new Yb(this)}getSize(t){return K.resolve(this.size)}}class Yb extends Bb{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(a)}),K.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this.persistence=t,this.ei=new Is(i=>Wd(i),tm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ti=0,this.ni=new sm,this.targetCount=0,this.ri=xa.rr()}forEachTarget(t,i){return this.ei.forEach((a,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ti&&(this.ti=i),K.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new xa(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.ar(i),K.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.ei.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this.ni.qr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this.ni.$r(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this.ni.Wr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,i){this.ii={},this.overlays={},this.si=new qc(0),this.oi=!1,this.oi=!0,this._i=new Fb,this.referenceDelegate=t(this),this.ai=new Xb(this),this.indexManager=new Vb,this.remoteDocumentCache=function(l){return new Kb(l)}(a=>this.referenceDelegate.ui(a)),this.serializer=new Nb(i),this.ci=new Hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Gb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ii[t.toKey()];return a||(a=new Qb(i,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new $b(this.si.next());return this.referenceDelegate.li(),a(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,i){return K.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,i)))}}class $b extends b1{constructor(t){super(),this.currentSequenceNumber=t}}class am{constructor(t){this.persistence=t,this.Ti=new sm,this.Ii=null}static Ei(t){return new am(t)}get di(){if(this.Ii)return this.Ii;throw mt(60996)}addReference(t,i,a){return this.Ti.addReference(a,i),this.di.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ti.removeReference(a,i),this.di.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,a=>{const l=ct.fromPath(a);return this.Ai(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return K.or([()=>K.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Cc{constructor(t,i){this.persistence=t,this.Ri=new Is(a=>I1(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=zb(this,i)}static Ei(t,i){return new Cc(t,i)}li(){}hi(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}Vr(t){let i=0;return this.Ar(t,a=>{i++}).next(()=>i)}Ar(t,i){return K.forEach(this.Ri,(a,l)=>this.gr(t,a,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,i).next(g=>{g||(a++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uc(t.data.value)),i}gr(t,i,a){return K.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.ls=a,this.hs=l}static Ps(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new om(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return KA()?8:R1(Ke())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(t,i,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Zb;return this.fs(t,i,d).next(g=>{if(c.result=g,this.Is)return this.gs(t,i,d,g.size)})}).next(()=>c.result)}gs(t,i,a,l){return a.documentReadCount<this.Es?(Aa()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Sa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(Aa()<=Dt.DEBUG&&it("QueryEngine","Query:",Sa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Aa()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Sa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ei(i))):K.resolve())}Rs(t,i){if(D_(i))return K.resolve(null);let a=ei(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Md(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Ot(...c);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(p=>{const v=this.ps(i,g);return this.ys(i,v,d,p.readTime)?this.Rs(t,Md(i,null,"F")):this.ws(t,v,i,p)}))})))}Vs(t,i,a,l){return D_(i)||l.isEqual(vt.min())?K.resolve(null):this.As.getDocuments(t,a).next(c=>{const d=this.ps(i,c);return this.ys(i,d,a,l)?K.resolve(null):(Aa()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sa(i)),this.ws(t,d,i,E1(l,ml)).next(g=>g))})}ps(t,i){let a=new be(f0(t));return i.forEach((l,c)=>{Qc(t,c)&&(a=a.add(c))}),a}ys(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,i,a){return Aa()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Sa(i)),this.As.getDocumentsMatchingQuery(t,i,Dr.min(),a)}ws(t,i,a,l){return this.As.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",Wb=3e8;class tR{constructor(t,i,a,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new ie(bt),this.Ds=new Is(c=>Wd(c),tm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jb(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function eR(r,t,i,a){return new tR(r,t,i,a)}async function x0(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.Fs(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function nR(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const C=v.batch,N=C.keys();let G=K.resolve();return N.forEach($=>{G=G.next(()=>A.getEntry(p,$)).next(nt=>{const Z=v.docVersions.get($);qt(Z!==null,48541),nt.version.compareTo(Z)<0&&(C.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function k0(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function iR(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const g=[];t.targetChanges.forEach((A,C)=>{const N=l.get(C);if(!N)return;g.push(i.ai.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.ai.addMatchingKeys(c,A.addedDocuments,C)));let G=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(C,G),function(nt,Z,Tt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Wb?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(N,G,A)&&g.push(i.ai.updateTargetData(c,G))});let p=Li(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(rR(c,d,t.documentUpdates).next(A=>{p=A.xs,v=A.Os})),!a.isEqual(vt.min())){const A=i.ai.getLastRemoteSnapshotVersion(c).next(C=>i.ai.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ss=l,c))}function rR(r,t,i){let a=Ot(),l=Ot();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=Li();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(lm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{xs:d,Os:l}})}function sR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function aR(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.ai.getTargetData(a,t).next(c=>c?(l=c,K.resolve(l)):i.ai.allocateTargetId(a).next(d=>(l=new Ar(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.ai.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ss.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(a.targetId,a),i.Ds.set(t,a.targetId)),a})}async function kd(r,t,i){const a=Et(r),l=a.Ss.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ha(d))throw d;it(lm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(l.target)}function j_(r,t,i){const a=Et(r);let l=vt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const C=Et(p),N=C.Ds.get(A);return N!==void 0?K.resolve(C.Ss.get(N)):C.ai.getTargetData(v,A)}(a,d,ei(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.bs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ot())).next(g=>(oR(a,K1(t),g),{documents:g,Ns:c})))}function oR(r,t,i){let a=r.vs.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.vs.set(t,a)}class H_{constructor(){this.activeTargetIds=W1()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lR{constructor(){this.So=new H_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,a){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new H_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="ConnectivityMonitor";class F_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(G_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){it(G_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Ld(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",cR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hR{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${a}/databases/${l}`,this.qo=this.databaseId.database===Tc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Qo(t,i,a,l,c){const d=Ld(),g=this.$o(t,i.toUriEncodedString());it(pd,`Sending RPC '${t}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,l,c);const{host:v}=new URL(g),A=Tl(v);return this.Ko(t,g,p,a,A).then(C=>(it(pd,`Received RPC '${t}' ${d}: `,C),C),C=>{throw Ma(pd,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",a),C})}Wo(t,i,a,l,c,d){return this.Qo(t,i,a,l,c)}Uo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}$o(t,i){const a=cR[t];return`${this.Lo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class dR extends hR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,a,l,c){const d=Ld();return new Promise((g,p)=>{const v=new zv;v.setWithCredentials(!0),v.listenOnce(Bv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case lc.NO_ERROR:const C=v.getResponseJson();it(Ge,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case lc.TIMEOUT:it(Ge,`RPC '${t}' ${d} timed out`),p(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const N=v.getStatus();if(it(Ge,`RPC '${t}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G==null?void 0:G.error;if($&&$.status&&$.message){const nt=function(Tt){const ft=Tt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ft)>=0?ft:X.UNKNOWN}($.status);p(new ot(nt,$.message))}else p(new ot(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new ot(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{s_:t,streamId:d,o_:v.getLastErrorCode(),__:v.getLastError()})}}finally{it(Ge,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Ge,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)})}a_(t,i,a){const l=Ld(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Hv(),g=jv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);let N=!1,G=!1;const $=new fR({Go:Z=>{G?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(N||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),C.open(),N=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,Z),C.send(Z))},zo:()=>C.close()}),nt=(Z,Tt,ft)=>{Z.listen(Tt,lt=>{try{ft(lt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return nt(C,il.EventType.OPEN,()=>{G||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),$.t_())}),nt(C,il.EventType.CLOSE,()=>{G||(G=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),$.r_())}),nt(C,il.EventType.ERROR,Z=>{G||(G=!0,Ma(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.r_(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),nt(C,il.EventType.MESSAGE,Z=>{var Tt;if(!G){const ft=Z.data[0];qt(!!ft,16349);const lt=ft,Nt=(lt==null?void 0:lt.error)||((Tt=lt[0])===null||Tt===void 0?void 0:Tt.error);if(Nt){it(Ge,`RPC '${t}' stream ${l} received error:`,Nt);const _t=Nt.status;let Mt=function(R){const O=pe[R];if(O!==void 0)return b0(O)}(_t),M=Nt.message;Mt===void 0&&(Mt=X.INTERNAL,M="Unknown error status: "+_t+" with message "+Nt.message),G=!0,$.r_(new ot(Mt,M)),C.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,ft),$.i_(ft)}}),nt(g,qv.STAT_EVENT,Z=>{Z.stat===wd.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===wd.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.n_()},0),$}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r){return new yb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=i,this.u_=a,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class z0{constructor(t,i,a,l,c,d,g,p){this.bi=t,this.R_=a,this.V_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new L0(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.m_===i&&this.B_(a,l)},a=>{t(()=>{const l=new ot(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(l)})})}B_(t,i){const a=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{a(()=>this.L_(l))}),this.stream.onMessage(l=>{a(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return it(Q_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(it(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mR extends z0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=Eb(this.serializer,t),a=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ni(d.readTime):vt.min()}(t);return this.listener.Q_(i,a)}U_(t){const i={};i.database=xd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Nd(p)?{documents:Sb(c,p)}:{query:bb(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=I0(c,d.resumeToken);const v=Vd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Ic(c,d.snapshotVersion.toTimestamp());const v=Vd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const a=wb(this.serializer,t);a&&(i.labels=a),this.F_(i)}K_(t){const i={};i.database=xd(this.serializer),i.removeTarget=t,this.F_(i)}}class gR extends z0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=Ab(t.writeResults,t.commitTime),a=ni(t.commitTime);return this.listener.j_(a,i)}H_(){const t={};t.database=xd(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>Tb(this.serializer,a))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{}class yR extends pR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(t,Ud(i,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(X.UNKNOWN,c.toString())})}Wo(t,i,a,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Ud(i,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _R{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ki(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class vR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{a.enqueueAndForget(async()=>{Ds(this)&&(it(bs,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.aa.add(4),await wl(v),v.la.set("Unknown"),v.aa.delete(4),await Zc(v)}(this))})}),this.la=new _R(a,l)}}async function Zc(r){if(Ds(r))for(const t of r.ua)await t(!0)}async function wl(r){for(const t of r.ua)await t(!1)}function B0(r,t){const i=Et(r);i._a.has(t.targetId)||(i._a.set(t.targetId,t),fm(i)?hm(i):Ga(i).b_()&&cm(i,t))}function um(r,t){const i=Et(r),a=Ga(i);i._a.delete(t),a.b_()&&q0(i,t),i._a.size===0&&(a.b_()?a.v_():Ds(i)&&i.la.set("Unknown"))}function cm(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ga(r).U_(t)}function q0(r,t){r.ha.Ke(t),Ga(r).K_(t)}function hm(r){r.ha=new db({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ga(r).start(),r.la.ta()}function fm(r){return Ds(r)&&!Ga(r).w_()&&r._a.size>0}function Ds(r){return Et(r).aa.size===0}function j0(r){r.ha=void 0}async function ER(r){r.la.set("Online")}async function TR(r){r._a.forEach((t,i)=>{cm(r,t)})}async function AR(r,t){j0(r),fm(r)?(r.la.ia(t),hm(r)):r.la.set("Unknown")}async function SR(r,t,i){if(r.la.set("Online"),t instanceof w0&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l._a.delete(g),l.ha.removeTarget(g))}(r,t)}catch(a){it(bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Dc(r,a)}else if(t instanceof fc?r.ha.Xe(t):t instanceof R0?r.ha.ot(t):r.ha.nt(t),!i.isEqual(vt.min()))try{const a=await k0(r.localStore);i.compareTo(a)>=0&&await function(c,d){const g=c.ha.It(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c._a.get(v);A&&c._a.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c._a.get(p);if(!A)return;c._a.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),q0(c,p);const C=new Ar(A.target,p,v,A.sequenceNumber);cm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){it(bs,"Failed to raise snapshot:",a),await Dc(r,a)}}async function Dc(r,t,i){if(!Ha(t))throw t;r.aa.add(1),await wl(r),r.la.set("Offline"),i||(i=()=>k0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(bs,"Retrying IndexedDB access"),await i(),r.aa.delete(1),await Zc(r)})}function H0(r,t){return t().catch(i=>Dc(r,i,t))}async function Jc(r){const t=Et(r),i=Vr(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:$d;for(;bR(t);)try{const l=await sR(t.localStore,a);if(l===null){t.oa.length===0&&i.v_();break}a=l.batchId,RR(t,l)}catch(l){await Dc(t,l)}G0(t)&&F0(t)}function bR(r){return Ds(r)&&r.oa.length<10}function RR(r,t){r.oa.push(t);const i=Vr(r);i.b_()&&i.W_&&i.G_(t.mutations)}function G0(r){return Ds(r)&&!Vr(r).w_()&&r.oa.length>0}function F0(r){Vr(r).start()}async function wR(r){Vr(r).H_()}async function IR(r){const t=Vr(r);for(const i of r.oa)t.G_(i.mutations)}async function CR(r,t,i){const a=r.oa.shift(),l=nm.from(a,t,i);await H0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Jc(r)}async function DR(r,t){t&&Vr(r).W_&&await async function(a,l){if(function(d){return hb(d)&&d!==X.ABORTED}(l.code)){const c=a.oa.shift();Vr(a).D_(),await H0(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Jc(a)}}(r,t),G0(r)&&F0(r)}async function K_(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(bs,"RemoteStore received new credentials");const a=Ds(i);i.aa.add(3),await wl(i),a&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Zc(i)}async function OR(r,t){const i=Et(r);t?(i.aa.delete(2),await Zc(i)):t||(i.aa.add(2),await wl(i),i.la.set("Unknown"))}function Ga(r){return r.Pa||(r.Pa=function(i,a,l){const c=Et(i);return c.Y_(),new mR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:ER.bind(null,r),Jo:TR.bind(null,r),Zo:AR.bind(null,r),Q_:SR.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),fm(r)?hm(r):r.la.set("Unknown")):(await r.Pa.stop(),j0(r))})),r.Pa}function Vr(r){return r.Ta||(r.Ta=function(i,a,l){const c=Et(i);return c.Y_(),new gR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:wR.bind(null,r),Zo:DR.bind(null,r),z_:IR.bind(null,r),j_:CR.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await Jc(r)):(await r.Ta.stop(),r.oa.length>0&&(it(bs,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new dm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(r,t){if(ki("AsyncQueue",`${t}: ${r}`),Ha(r))return new ot(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(t){return new Ia(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=rl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ia)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ia;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Ia=new ie(ct.comparator)}track(t){const i=t.doc.key,a=this.Ia.get(i);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(i):t.type===1&&a.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,a)=>{t.push(a)}),t}}class ka{constructor(t,i,a,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ka(t,i,Ia.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class MR{constructor(){this.queries=X_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=X_(),c.forEach((d,g)=>{for(const p of g.Ra)p.onError(a)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function X_(){return new Is(r=>h0(r),Fc)}async function VR(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Va()&&t.ma()&&(a=2):(c=new NR,a=t.ma()?0:1);try{switch(a){case 0:c.Aa=await i.onListen(l,!0);break;case 1:c.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=mm(d,`Initialization of query '${Sa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Ra.push(t),t.ga(i.onlineState),c.Aa&&t.pa(c.Aa)&&gm(i)}async function UR(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Ra.indexOf(t);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PR(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Ra)g.pa(l)&&(a=!0);d.Aa=l}}a&&gm(i)}function xR(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Ra)c.onError(i);a.queries.delete(t)}function gm(r){r.fa.forEach(t=>{t.next()})}var zd,$_;($_=zd||(zd={})).ya="default",$_.Cache="cache";class kR{constructor(t,i,a){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ka(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const a=i!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t){this.key=t}}class K0{constructor(t){this.key=t}}class LR{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ot(),this.mutatedKeys=Ot(),this.Ua=f0(t),this.Ka=new Ia(this.Ua)}get Wa(){return this.qa}Ga(t,i){const a=i?i.za:new Y_,l=i?i.Ka:this.Ka;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const N=l.get(A),G=Qc(this.query,C)?C:null,$=!!N&&this.mutatedKeys.has(N.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;N&&G?N.data.isEqual(G.data)?$!==nt&&(a.track({type:3,doc:G}),Z=!0):this.ja(N,G)||(a.track({type:2,doc:G}),Z=!0,(p&&this.Ua(G,p)>0||v&&this.Ua(G,v)<0)&&(g=!0)):!N&&G?(a.track({type:0,doc:G}),Z=!0):N&&!G&&(a.track({type:1,doc:N}),Z=!0,(p||v)&&(g=!0)),Z&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ka:d,za:a,ys:g,mutatedKeys:c}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((A,C)=>function(G,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:Z})}};return nt(G)-nt($)}(A.type,C.type)||this.Ua(A.doc,C.doc)),this.Ha(a),l=l!=null&&l;const g=i&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,v=p!==this.Qa;return this.Qa=p,d.length!==0||v?{snapshot:new ka(this.query,t.Ka,c,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Y_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Ot(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const i=[];return t.forEach(a=>{this.$a.has(a)||i.push(new K0(a))}),this.$a.forEach(a=>{t.has(a)||i.push(new Q0(a))}),i}Xa(t){this.qa=t.Ns,this.$a=Ot();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return ka.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const pm="SyncEngine";class zR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class BR{constructor(t){this.key=t,this.tu=!1}}class qR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Is(g=>h0(g),Fc),this.iu=new Map,this.su=new Set,this.ou=new ie(ct.comparator),this._u=new Map,this.au=new sm,this.uu={},this.cu=new Map,this.lu=xa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function jR(r,t,i=!0){const a=W0(r);let l;const c=a.ru.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await Y0(a,t,i,!0),l}async function HR(r,t){const i=W0(r);await Y0(i,t,!0,!1)}async function Y0(r,t,i,a){const l=await aR(r.localStore,ei(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await GR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&B0(r.remoteStore,l),g}async function GR(r,t,i,a,l){r.Pu=(C,N,G)=>async function(nt,Z,Tt,ft){let lt=Z.view.Ga(Tt);lt.ys&&(lt=await j_(nt.localStore,Z.query,!1).then(({documents:M})=>Z.view.Ga(M,lt)));const Nt=ft&&ft.targetChanges.get(Z.targetId),_t=ft&&ft.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(lt,nt.isPrimaryClient,Nt,_t);return J_(nt,Z.targetId,Mt.Ya),Mt.snapshot}(r,C,N,G);const c=await j_(r.localStore,t,!0),d=new LR(t,c.Ns),g=d.Ga(c.documents),p=Rl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);J_(r,i,v.Ya);const A=new zR(t,i,d);return r.ru.set(t,A),r.iu.has(i)?r.iu.get(i).push(t):r.iu.set(i,[t]),v.snapshot}async function FR(r,t,i){const a=Et(r),l=a.ru.get(t),c=a.iu.get(l.targetId);if(c.length>1)return a.iu.set(l.targetId,c.filter(d=>!Fc(d,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await kd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&um(a.remoteStore,l.targetId),Bd(a,l.targetId)}).catch(ja)):(Bd(a,l.targetId),await kd(a.localStore,l.targetId,!0))}async function QR(r,t){const i=Et(r),a=i.ru.get(t),l=i.iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),um(i.remoteStore,a.targetId))}async function KR(r,t,i){const a=tw(r);try{const l=await function(d,g){const p=Et(d),v=Se.now(),A=g.reduce((G,$)=>G.add($.key),Ot());let C,N;return p.persistence.runTransaction("Locally write mutations","readwrite",G=>{let $=Li(),nt=Ot();return p.Cs.getEntries(G,A).next(Z=>{$=Z,$.forEach((Tt,ft)=>{ft.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(G,$)).next(Z=>{C=Z;const Tt=[];for(const ft of g){const lt=ab(ft,C.get(ft.key).overlayedDocument);lt!=null&&Tt.push(new Cs(ft.key,lt,i0(lt.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(G,v,Tt,g)}).next(Z=>{N=Z;const Tt=Z.applyToLocalDocumentSet(C,nt);return p.documentOverlayCache.saveOverlays(G,Z.batchId,Tt)})}).then(()=>({batchId:N.batchId,changes:m0(C)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.uu[d.currentUser.toKey()];v||(v=new ie(bt)),v=v.insert(g,p),d.uu[d.currentUser.toKey()]=v}(a,l.batchId,i),await Il(a,l.changes),await Jc(a.remoteStore)}catch(l){const c=mm(l,"Failed to persist write");i.reject(c)}}async function X0(r,t){const i=Et(r);try{const a=await iR(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i._u.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?qt(d.tu,14607):l.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await Il(i,a,t)}catch(a){await ja(a)}}function Z_(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.ru.forEach((c,d)=>{const g=d.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,C)=>{for(const N of C.Ra)N.ga(g)&&(v=!0)}),v&&gm(p)}(a.eventManager,t),l.length&&a.nu.Q_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function YR(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a._u.get(t),c=l&&l.key;if(c){let d=new ie(ct.comparator);d=d.insert(c,Qe.newNoDocument(c,vt.min()));const g=Ot().add(c),p=new Xc(vt.min(),new Map,new ie(bt),d,g);await X0(a,p),a.ou=a.ou.remove(c),a._u.delete(t),ym(a)}else await kd(a.localStore,t,!1).then(()=>Bd(a,t,i)).catch(ja)}async function XR(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await nR(i.localStore,t);Z0(i,a,null),$0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Il(i,l)}catch(l){await ja(l)}}async function $R(r,t,i){const a=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(C=>(qt(C!==null,37113),A=C.keys(),p.mutationQueue.removeMutationBatch(v,C))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(a.localStore,t);Z0(a,t,i),$0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Il(a,l)}catch(l){await ja(l)}}function $0(r,t){(r.cu.get(t)||[]).forEach(i=>{i.resolve()}),r.cu.delete(t)}function Z0(r,t,i){const a=Et(r);let l=a.uu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.uu[a.currentUser.toKey()]=l}}function Bd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.iu.get(t))r.ru.delete(a),i&&r.nu.Tu(a,i);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(a=>{r.au.containsKey(a)||J0(r,a)})}function J0(r,t){r.su.delete(t.path.canonicalString());const i=r.ou.get(t);i!==null&&(um(r.remoteStore,i),r.ou=r.ou.remove(t),r._u.delete(i),ym(r))}function J_(r,t,i){for(const a of i)a instanceof Q0?(r.au.addReference(a.key,t),ZR(r,a)):a instanceof K0?(it(pm,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,t),r.au.containsKey(a.key)||J0(r,a.key)):mt(19791,{Iu:a})}function ZR(r,t){const i=t.key,a=i.path.canonicalString();r.ou.get(i)||r.su.has(a)||(it(pm,"New document in limbo: "+i),r.su.add(a),ym(r))}function ym(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const i=new ct(ee.fromString(t)),a=r.lu.next();r._u.set(a,new BR(i)),r.ou=r.ou.insert(i,a),B0(r.remoteStore,new Ar(ei(c0(i.path)),a,"TargetPurposeLimboResolution",qc.le))}}async function Il(r,t,i){const a=Et(r),l=[],c=[],d=[];a.ru.isEmpty()||(a.ru.forEach((g,p)=>{d.push(a.Pu(p,t,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){l.push(v);const C=om.Ps(p.targetId,v);c.push(C)}}))}),await Promise.all(d),a.nu.Q_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,N=>K.forEach(N.ls,G=>A.persistence.referenceDelegate.addReference(C,N.targetId,G)).next(()=>K.forEach(N.hs,G=>A.persistence.referenceDelegate.removeReference(C,N.targetId,G)))))}catch(C){if(!Ha(C))throw C;it(lm,"Failed to update sequence numbers: "+C)}for(const C of v){const N=C.targetId;if(!C.fromCache){const G=A.Ss.get(N),$=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion($);A.Ss=A.Ss.insert(N,nt)}}}(a.localStore,c))}async function JR(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(pm,"User change. New user:",t.toKey());const a=await x0(i.localStore,t);i.currentUser=t,function(c,d){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new ot(X.CANCELLED,d))})}),c.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Il(i,a.Ms)}}function WR(r,t){const i=Et(r),a=i._u.get(t);if(a&&a.tu)return Ot().add(a.key);{let l=Ot();const c=i.iu.get(t);if(!c)return l;for(const d of c){const g=i.ru.get(d);l=l.unionWith(g.view.Wa)}return l}}function W0(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=X0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YR.bind(null,t),t.nu.Q_=PR.bind(null,t.eventManager),t.nu.Tu=xR.bind(null,t.eventManager),t}function tw(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,t),t}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return eR(this.persistence,new Jb,t.initialUser,this.serializer)}Ru(t){return new P0(am.Ei,this.serializer)}Au(t){return new lR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class ew extends Oc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){qt(this.persistence.referenceDelegate instanceof Cc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new kb(a,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new P0(a=>Cc.Ei(a,i),this.serializer)}}class qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Z_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,this.syncEngine),await OR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MR}()}createDatastore(t){const i=$c(t.databaseInfo.databaseId),a=function(c){return new dR(c)}(t.databaseInfo);return function(c,d,g,p){return new yR(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,d,g){return new vR(a,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>Z_(this.syncEngine,i,0),function(){return F_.C()?new F_:new uR}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const C=new qR(l,c,d,g,p,v);return A&&(C.hu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(bs,"RemoteStore shutting down."),c.aa.add(5),await wl(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class iw{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=Kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{it(Ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=mm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function _d(r,t){r.asyncQueue.verifyOperationInProgress(),it(Ur,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await x0(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function W_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await rw(r);it(Ur,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>K_(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>K_(t.remoteStore,l)),r._onlineComponents=t}async function rw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Ur,"Using user provided OfflineComponentProvider");try{await _d(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ma("Error using user provided cache. Falling back to memory cache: "+i),await _d(r,new Oc)}}else it(Ur,"Using default OfflineComponentProvider"),await _d(r,new ew(void 0));return r._offlineComponents}async function tE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Ur,"Using user provided OnlineComponentProvider"),await W_(r,r._uninitializedComponentsProvider._online)):(it(Ur,"Using default OnlineComponentProvider"),await W_(r,new qd))),r._onlineComponents}function sw(r){return tE(r).then(t=>t.syncEngine)}async function aw(r){const t=await tE(r),i=t.eventManager;return i.onListen=jR.bind(null,t.syncEngine),i.onUnlisten=FR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=HR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=QR.bind(null,t.syncEngine),i}function ow(r,t,i={}){const a=new Ir;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new nw({next:N=>{A.yu(),d.enqueueAndForget(()=>UR(c,C)),N.fromCache&&p.source==="server"?v.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),C=new kR(g,A,{includeMetadataChanges:!0,Fa:!0});return VR(c,C)}(await aw(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r,t,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function lw(r,t,i,a){if(t===!0&&a===!0)throw new ot(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ev(r){if(!ct.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nv(r){if(ct.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _m(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Nc(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_m(r);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firestore.googleapis.com",iv=!0;class rv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iE,this.ssl=iv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=U0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pb)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wc{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new h1;switch(a.type){case"firstParty":return new g1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Bc("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=tv.get(i);a&&(it("ComponentProvider","Removing Datastore"),tv.delete(i),a.terminate())}(this),Promise.resolve()}}function uw(r,t,i,a={}){var l;r=Nc(r,Wc);const c=Tl(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${i}`;d.host!==iE&&d.host!==p&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:a});if(!Ts(v,g)&&(r._setSettings(v),c&&(Nv(`https://${p}`),Bc("Firestore",!0)),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Fe.MOCK_USER;else{A=LA(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Fe(N)}r._authCredentials=new f1(new Fv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new th(this.firestore,t,this._query)}}class Un{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class Cr extends th{constructor(t,i,a){super(t,i,c0(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new ct(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function rE(r,t,...i){if(r=Pn(r),nE("collection","path",t),r instanceof Wc){const a=ee.fromString(t,...i);return nv(a),new Cr(r,null,a)}{if(!(r instanceof Un||r instanceof Cr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return nv(a),new Cr(r.firestore,null,a)}}function cw(r,t,...i){if(r=Pn(r),arguments.length===1&&(t=Kv.newId()),nE("doc","path",t),r instanceof Wc){const a=ee.fromString(t,...i);return ev(a),new Un(r,null,new ct(a))}{if(!(r instanceof Un||r instanceof Cr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return ev(a),new Un(r.firestore,r instanceof Cr?r.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new L0(this,"async_queue_retry"),this.ju=()=>{const a=yd();a&&it(sv,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const i=yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Ir;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Ha(t))throw t;it(sv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,ki("INTERNAL UNHANDLED ERROR: ",ov(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=i,i}enqueueAfterDelay(t,i,a){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=dm.createAndSchedule(this,t,i,a,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&mt(47125,{ec:ov(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function ov(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class vm extends Wc{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new av,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function hw(r,t){const i=typeof r=="object"?r:Pv(),a=typeof r=="string"?r:Tc,l=Yd(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=xA("firestore");c&&uw(l,...c)}return l}function sE(r){if(r._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fw(r),r._firestoreClient}function fw(r){var t,i,a;const l=r._freezeSettings(),c=function(g,p,v,A){return new O1(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,eE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new iw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this._byteString=t}static fromBase64String(t){try{return new La(Be.fromBase64String(t))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new La(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=/^__.*__$/;class mw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Cs(t,this.data,this.fieldMask,i,this.fieldTransforms):new bl(t,this.data,i,this.fieldTransforms)}}function oE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{oc:r})}}class Sm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Sm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:a,cc:!1});return l.lc(t),l}hc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:a,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Mc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(oE(this.oc)&&dw.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class gw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||$c(t)}dc(t,i,a,l=!1){return new Sm({oc:t,methodName:i,Ec:a,path:ze.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pw(r){const t=r._freezeSettings(),i=$c(r._databaseId);return new gw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function yw(r,t,i,a,l,c={}){const d=r.dc(c.merge||c.mergeFields?2:0,t,i,l);hE("Data must be an object, but it was:",d,a);const g=uE(a,d);let p,v;if(c.merge)p=new Mn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const N=_w(t,C,i);if(!d.contains(N))throw new ot(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Ew(A,N)||A.push(N)}p=new Mn(A),v=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,v=d.fieldTransforms;return new mw(new Rn(g),p,v)}function lE(r,t){if(cE(r=Pn(r)))return hE("Unsupported field value:",t,r),uE(r,t);if(r instanceof aE)return function(a,l){if(!oE(l.oc))throw l.Tc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let p=lE(g,l.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,l){if((a=Pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tb(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Se.fromDate(a);return{timestampValue:Ic(l.serializer,c)}}if(a instanceof Se){const c=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ic(l.serializer,c)}}if(a instanceof Tm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof La)return{bytesValue:I0(l.serializer,a._byteString)};if(a instanceof Un){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Am)return function(d,g){return{mapValue:{fields:{[e0]:{stringValue:n0},[Ac]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Tc("VectorValues must only contain numeric values.");return em(g.serializer,v)})}}}}}}(a,l);throw l.Tc(`Unsupported field value: ${_m(a)}`)}(r,t)}function uE(r,t){const i={};return Xv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(r,(a,l)=>{const c=lE(l,t.uc(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function cE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Tm||r instanceof La||r instanceof Un||r instanceof aE||r instanceof Am)}function hE(r,t,i){if(!cE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const a=_m(i);throw a==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+a)}}function _w(r,t,i){if((t=Pn(t))instanceof Em)return t._internalPath;if(typeof t=="string")return fE(r,t);throw Mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const vw=new RegExp("[~\\*/\\[\\]]");function fE(r,t,i){if(t.search(vw)>=0)throw Mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Em(...t.split("."))._internalPath}catch{throw Mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Mc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ot(X.INVALID_ARGUMENT,g+r+p)}function Ew(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Tw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(mE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Tw extends dE{data(){return super.data()}}function mE(r,t){return typeof t=="string"?fE(r,t):t instanceof Em?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ws(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Am(c)}convertGeoPoint(t){return new Tm(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Hc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(gl(t));default:return null}}convertTimestamp(t){const i=Or(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);qt(V0(a),9688,{name:t});const l=new pl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||ki(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rw extends dE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(mE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class dc extends Rw{data(t={}){return super.data(t)}}class ww{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ac(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new dc(this._firestore,this._userDataWriter,a.key,a,new ac(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ac(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ac(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Iw(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Iw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}class Cw extends Sw{constructor(t){super(),this.firestore=t}convertBytes(t){return new La(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,i)}}function Dw(r){r=Nc(r,th);const t=Nc(r.firestore,vm),i=sE(t),a=new Cw(t);return Aw(r._query),ow(i,r._query).then(l=>new ww(t,a,r,l))}function Ow(r,t){const i=Nc(r.firestore,vm),a=cw(r),l=bw(r.converter,t);return Nw(i,[yw(pw(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Pi.exists(!1))]).then(()=>a)}function Nw(r,t){return function(a,l){const c=new Ir;return a.asyncQueue.enqueueAndForget(async()=>KR(await sw(a),l,c)),c.promise}(sE(r),t)}(function(t,i=!0){(function(l){qa=l})(Ba),Na(new As("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new vm(new d1(a.getProvider("auth-internal")),new p1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Rr(f_,d_,t),Rr(f_,d_,"esm2017")})();var Mw="firebase",Vw="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(Mw,Vw,"app");function bm(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uw=gE,pE=new Al("auth","Firebase",gE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Qd("@firebase/auth");function Pw(r,...t){Vc.logLevel<=Dt.WARN&&Vc.warn(`Auth (${Ba}): ${r}`,...t)}function mc(r,...t){Vc.logLevel<=Dt.ERROR&&Vc.error(`Auth (${Ba}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r,...t){throw Rm(r,...t)}function ii(r,...t){return Rm(r,...t)}function yE(r,t,i){const a=Object.assign(Object.assign({},Uw()),{[t]:i});return new Al("auth","Firebase",a).create(t,{appName:r.name})}function Es(r){return yE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return pE.create(r,...t)}function pt(r,t,...i){if(!r)throw Rm(t,...i)}function Vi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mc(t),new Error(t)}function Bi(r,t){r||Vi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xw(){return lv()==="http:"||lv()==="https:"}function lv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||GA()||"connection"in navigator)?navigator.onLine:!0}function Lw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Bi(i>t,"Short delay should be less than long delay!"),this.isMobile=qA()||FA()}get(){return kw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,t){Bi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qw=new Cl(3e4,6e4);function Im(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Fa(r,t,i,a,l={}){return vE(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Sl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return HA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Tl(r.emulatorConfig.host)&&(v.credentials="include"),_E.fetch()(await EE(r,r.config.apiHost,i,g),v)})}async function vE(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},zw),t);try{const l=new Hw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw oc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw oc(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw yE(r,A,v);zi(r,A)}}catch(l){if(l instanceof qi)throw l;zi(r,"network-request-failed",{message:String(l)})}}async function jw(r,t,i,a,l={}){const c=await Fa(r,t,i,a,l);return"mfaPendingCredential"in c&&zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function EE(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return Bw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),qw.get())})}}function oc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ii(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(r,t){return Fa(r,"POST","/v1/accounts:delete",t)}async function Uc(r,t){return Fa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Fw(r,t=!1){const i=Pn(r),a=await i.getIdToken(t),l=Cm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:hl(vd(l.auth_time)),issuedAtTime:hl(vd(l.iat)),expirationTime:hl(vd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function vd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Iv(i);return l?JSON.parse(l):(mc("Failed to decode base64 JWT payload"),null)}catch(l){return mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function uv(r){const t=Cm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof qi&&Qw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Qw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await El(r,Uc(i,{idToken:a}));pt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?TE(c.providerUserInfo):[],g=Xw(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Hd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,C)}async function Yw(r){const t=Pn(r);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Xw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function TE(r){return r.map(t=>{var{providerId:i}=t,a=bm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(r,t){const i=await vE(r,{},async()=>{const a=Sl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await EE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",_E.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Zw(r,t){return Fa(r,"POST","/v2/accounts:revokeToken",Im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=uv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await $w(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ca;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Vn{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=bm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Hd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await El(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Fw(this,t)}reload(){return Yw(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Vn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await El(this,Gw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,p,v,A;const C=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(l=i.email)!==null&&l!==void 0?l:void 0,G=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,ft=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:lt,emailVerified:Nt,isAnonymous:_t,providerData:Mt,stsTokenManager:M}=i;pt(lt&&M,t,"internal-error");const S=Ca.fromJSON(this.name,M);pt(typeof lt=="string",t,"internal-error"),yr(C,t.name),yr(N,t.name),pt(typeof Nt=="boolean",t,"internal-error"),pt(typeof _t=="boolean",t,"internal-error"),yr(G,t.name),yr($,t.name),yr(nt,t.name),yr(Z,t.name),yr(Tt,t.name),yr(ft,t.name);const R=new Vn({uid:lt,auth:t,email:N,emailVerified:Nt,displayName:C,isAnonymous:_t,photoURL:$,phoneNumber:G,tenantId:nt,stsTokenManager:S,createdAt:Tt,lastLoginAt:ft});return Mt&&Array.isArray(Mt)&&(R.providerData=Mt.map(O=>Object.assign({},O))),Z&&(R._redirectEventId=Z),R}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ca;l.updateFromServerResponse(i);const c=new Vn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Pc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?TE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ca;g.updateFromIdToken(a);const p=new Vn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;function Ui(r){Bi(r instanceof Function,"Expected a class definition");let t=cv.get(r);return t?(Bi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,cv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}AE.type="NONE";const hv=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r,t,i){return`firebase:${r}:${t}:${i}`}class Da{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Uc(this.auth,{idToken:t}).catch(()=>{});return i?Vn._fromGetAccountInfoResponse(this.auth,i,t):null}return Vn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Da(Ui(hv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Ui(hv);const d=gc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let C;if(typeof A=="string"){const N=await Uc(t,{idToken:A}).catch(()=>{});if(!N)break;C=await Vn._fromGetAccountInfoResponse(t,N,A)}else C=Vn._fromJSON(t,A);v!==c&&(g=C),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Da(c,t,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Da(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CE(t))return"Blackberry";if(DE(t))return"Webos";if(bE(t))return"Safari";if((t.includes("chrome/")||RE(t))&&!t.includes("edge/"))return"Chrome";if(IE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function SE(r=Ke()){return/firefox\//i.test(r)}function bE(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RE(r=Ke()){return/crios\//i.test(r)}function wE(r=Ke()){return/iemobile/i.test(r)}function IE(r=Ke()){return/android/i.test(r)}function CE(r=Ke()){return/blackberry/i.test(r)}function DE(r=Ke()){return/webos/i.test(r)}function Dm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Jw(r=Ke()){var t;return Dm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ww(){return QA()&&document.documentMode===10}function OE(r=Ke()){return Dm(r)||IE(r)||DE(r)||CE(r)||/windows phone/i.test(r)||wE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r,t=[]){let i;switch(r){case"Browser":i=fv(Ke());break;case"Worker":i=`${fv(Ke())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ba}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,t={}){return Fa(r,"GET","/v2/passwordPolicy",Im(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=6;class iI{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:nI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dv(this),this.idTokenSubscription=new dv(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ui(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await Da.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Uc(this,{idToken:t}),a=await Vn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ti(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Lw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Es(this));const i=t?Pn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eI(this),i=new iI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Al("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Zw(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ui(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Ui(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Pw(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Om(r){return Pn(r)}class dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=tS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(r){Nm=r}function aI(r){return Nm.loadJS(r)}function oI(){return Nm.gapiScript}function lI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r,t){const i=Yd(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ts(c,t??{}))return l;zi(l,"already-initialized")}return i.initialize({options:t})}function cI(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Ui);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function hI(r,t,i){const a=Om(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=ME(t),{host:d,port:g}=fI(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ts(v,a.config.emulator)&&Ts(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Tl(d)?(Bc("Auth",!0),Nv(`${c}//${d}${p}`)):dI()}function ME(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fI(r){const t=ME(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:mv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:mv(d)}}}function mv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function dI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Vi("not implemented")}_getIdTokenResponse(t){return Vi("not implemented")}_linkToIdToken(t,i){return Vi("not implemented")}_getReauthenticationResolver(t){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(r,t){return jw(r,"POST","/v1/accounts:signInWithIdp",Im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="http://localhost";class Rs extends VE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Rs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=bm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Rs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Oa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Oa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Oa(t,i)}buildRequest(){const t={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Sl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends UE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Dl{constructor(){super("facebook.com")}static credential(t){return Rs._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Rs._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return vr.credential(i,a)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Dl{constructor(){super("github.com")}static credential(t){return Rs._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Dl{constructor(){super("twitter.com")}static credential(t,i){return Rs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Tr.credential(i,a)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Vn._fromIdTokenResponse(t,a,l),d=gv(a);return new za({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=gv(a);return new za({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function gv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends qi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new xc(t,i,a,l)}}function PE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(r,c,t,a):c})}async function gI(r,t,i=!1){const a=await El(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return za._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,t,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(Es(a));const l="reauthenticate";try{const c=await El(r,PE(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=Cm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(r.uid===g,a,"user-mismatch"),za._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&zi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,t,i=!1){if(ti(r.app))return Promise.reject(Es(r));const a="signIn",l=await PE(r,a,t),c=await za._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function _I(r,t,i,a){return Pn(r).onIdTokenChanged(t,i,a)}function vI(r,t,i){return Pn(r).beforeAuthStateChanged(t,i)}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=1e3,TI=10;class kE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Ww()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}kE.type="LOCAL";const AI=kE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}LE.type="SESSION";const zE=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await SI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=Mm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(C){const N=C;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function RI(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function wI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function CI(){return BE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebaseLocalStorageDb",DI=1,Lc="firebaseLocalStorage",jE="fbase_key";class Ol{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(r,t){return r.transaction([Lc],t?"readwrite":"readonly").objectStore(Lc)}function OI(){const r=indexedDB.deleteDatabase(qE);return new Ol(r).toPromise()}function Gd(){const r=indexedDB.open(qE,DI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Lc,{keyPath:jE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Lc)?t(a):(a.close(),await OI(),t(await Gd()))})})}async function pv(r,t,i){const a=nh(r,!0).put({[jE]:t,value:i});return new Ol(a).toPromise()}async function NI(r,t){const i=nh(r,!1).get(t),a=await new Ol(i).toPromise();return a===void 0?null:a.value}function yv(r,t){const i=nh(r,!0).delete(t);return new Ol(i).toPromise()}const MI=800,VI=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>VI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(CI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await wI(),!this.activeServiceWorker)return;this.sender=new bI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await pv(t,kc,"1"),await yv(t,kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>pv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>NI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>yv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=nh(l,!1).getAll();return new Ol(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const UI=HE;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r,t){return t?Ui(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends VE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Oa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Oa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xI(r){return yI(r.auth,new Vm(r),r.bypassAuthState)}function kI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),pI(i,new Vm(r),r.bypassAuthState)}async function LI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),gI(i,new Vm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return LI;case"reauthViaPopup":case"reauthViaRedirect":return kI;default:zi(this.auth,"internal-error")}}resolve(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Cl(2e3,1e4);class wa extends GE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zI.get())};t()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="pendingRedirect",pc=new Map;class qI extends GE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=pc.get(this.auth._key());if(!t){try{const a=await jI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}pc.set(this.auth._key(),t)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(r,t){const i=FI(t),a=GI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function HI(r,t){pc.set(r._key(),t)}function GI(r){return Ui(r._redirectPersistence)}function FI(r){return gc(BI,r.config.apiKey,r.name)}async function QI(r,t,i=!1){if(ti(r.app))return Promise.reject(Es(r));const a=Om(r),l=PI(a,t),d=await new qI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=10*60*1e3;class YI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!FE(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(ii(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KI&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(t))}saveEventToCache(t){this.cachedEventUids.add(_v(t)),this.lastProcessedEventTime=Date.now()}}function _v(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function FE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function XI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,t={}){return Fa(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JI=/^https?/;async function WI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $I(r);for(const i of t)try{if(t2(i))return}catch{}zi(r,"unauthorized-domain")}function t2(r){const t=jd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!JI.test(i))return!1;if(ZI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Cl(3e4,6e4);function vv(){const r=ri().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function n2(r){return new Promise((t,i)=>{var a,l,c;function d(){vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vv(),i(ii(r,"network-request-failed"))},timeout:e2.get()})}if(!((l=(a=ri().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ri().gapi)===null||c===void 0)&&c.load)d();else{const g=lI("iframefcb");return ri()[g]=()=>{gapi.load?d():i(ii(r,"network-request-failed"))},aI(`${oI()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw yc=null,t})}let yc=null;function i2(r){return yc=yc||n2(r),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Cl(5e3,15e3),s2="__/auth/iframe",a2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,a2):`https://${r.config.authDomain}/${s2}`,a={apiKey:t.apiKey,appName:r.name,v:Ba},l=l2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Sl(a).slice(1)}`}async function c2(r){const t=await i2(r),i=ri().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:u2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ii(r,"network-request-failed"),g=ri().setTimeout(()=>{c(d)},r2.get());function p(){ri().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",g2="http://localhost";class Ev{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(r,t,i,a=f2,l=d2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},h2),{width:a.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();i&&(g=RE(v)?m2:i),SE(v)&&(t=t||g2,p.scrollbars="yes");const A=Object.entries(p).reduce((N,[G,$])=>`${N}${G}=${$},`,"");if(Jw(v)&&g!=="_self")return y2(t||"",g),new Ev(null);const C=window.open(t||"",g,A);pt(C,r,"popup-blocked");try{C.focus()}catch{}return new Ev(C)}function y2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function Tv(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ba,eventId:l};if(t instanceof UE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",WA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof Dl){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${E2}=${encodeURIComponent(p)}`:"";return`${T2(r)}?${Sl(g).slice(1)}${v}`}function T2({config:r}){return r.emulator?wm(r,v2):`https://${r.authDomain}/${_2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=QI,this._overrideRedirectResult=HI}async _openPopup(t,i,a,l){var c;Bi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Tv(t,i,a,jd(),l);return p2(t,d,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Tv(t,i,a,jd(),l);return RI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Bi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await c2(t),a=new YI(t);return i.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ed,{type:Ed},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ed];d!==void 0&&i(!!d),zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=WI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return OE()||bE()||Dm()}}const S2=A2;var Av="@firebase/auth",Sv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w2(r){Na(new As("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(r)},v=new rI(a,l,c,p);return cI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Na(new As("auth-internal",t=>{const i=Om(t.getProvider("auth").getImmediate());return(a=>new b2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(Av,Sv,R2(r)),Rr(Av,Sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=5*60,C2=Ov("authIdTokenMaxAge")||I2;let bv=null;const D2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>C2)return;const l=i==null?void 0:i.token;bv!==l&&(bv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function O2(r=Pv()){const t=Yd(r,"auth");if(t.isInitialized())return t.getImmediate();const i=uI(r,{popupRedirectResolver:S2,persistence:[UI,AI,zE]}),a=Ov("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=D2(c.toString());vI(i,d,()=>d(i.currentUser)),_I(i,g=>d(g))}}const l=Cv("auth");return l?hI(i,`http://${l}`):Bc("Auth",!1),i}function N2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}sI({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ii("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",N2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w2("Browser");const M2={apiKey:"AIzaSyCRt3XHMieE9JaO4ffxPCkuDPUApYti3lc",authDomain:"reseptivihko.firebaseapp.com",projectId:"reseptivihko",storageBucket:"reseptivihko.firebasestorage.app",messagingSenderId:"657349271610",appId:"1:657349271610:web:47674e0dda9b183da3d503",measurementId:"G-48E0SKQRP9"},QE=Uv(M2);O2(QE);const KE=hw(QE),V2=async r=>{console.log("Tallennetaan resepti: ",r);try{const t=await Ow(rE(KE,"recipes"),r);console.log("Resepti lisätty: ",t.id)}catch(t){console.error("Virhe reseptin lisäämisessä: ",t)}};function U2({onResults:r}){const[t,i]=fl.useState(""),[a,l]=fl.useState(""),c=async()=>{const d=t.trim();if(!d){l("Kirjoita hakusana.");return}l("");try{const p=await(await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${d}`)).json();p.meals?r(p.meals):(l("Ei löytynyt mitään."),r([]))}catch(g){l("Haku epäonnistui: "+g),r([])}};return Xt.jsxs("div",{className:"flex flex-col gap-2",children:[Xt.jsx("input",{type:"text",value:t,placeholder:"Hae resepti...",onChange:d=>i(d.target.value),className:"border rounded px-3 py-2"}),Xt.jsx("button",{onClick:c,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Hae"}),a&&Xt.jsx("p",{className:"text-red-600 text-sm",children:a})]})}function P2({onAddRandom:r}){const t=async()=>{try{const a=await(await fetch("https://www.themealdb.com/api/json/v1/1/random.php")).json();a.meals&&a.meals.length>0&&r(a.meals[0])}catch(i){alert("Satunnaisreseptiä ei saatu haettua: "+i)}};return Xt.jsx("button",{onClick:t,className:"bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700",children:"Hae satunnainen resepti"})}function x2({meal:r,removeMeal:t}){const[i,a]=fl.useState(!0),l=c=>{const d=[];for(let g=1;g<=20;g++){const p=c[`strIngredient${g}`],v=c[`strMeasure${g}`];p&&p.trim()!==""&&d.push(`${p} ${v||""}`.trim())}return d};return Xt.jsxs("div",{className:"relative border rounded p-4 shadow bg-white transition-all duration-300",children:[Xt.jsx("button",{onClick:()=>a(!i),className:"absolute top-2 left-2 bg-blue-500 text-sm px-2 py-1 rounded hover:bg-gray-300 z-10",children:i?"+":"-"}),Xt.jsx("button",{onClick:()=>V2(r),className:"absolute top-2 left-1/2 transform -translate-x-1/2 bg-green-500 text-sm px-2 py-1 rounded hover:bg-gray-300 z-10",children:"Tallenna"}),Xt.jsx("button",{onClick:()=>t(r.idMeal),className:"absolute top-2 right-2 bg-red-600 text-white text-sm px-2 py-1 rounded hover:bg-red-700 z-10",children:"X"}),Xt.jsx("h2",{className:"text-xl font-semibold mb-2 text-black mt-10",children:r.strMeal}),Xt.jsx("img",{src:r.strMealThumb,alt:r.strMeal,className:`mx-auto rounded mb-3 transition-all duration-300 ${i?"max-w-[150px]":"w-full"}`}),!i&&Xt.jsxs("div",{className:"mt-3",children:[Xt.jsx("h3",{className:"font-semibold mb-1",children:"Ainekset:"}),Xt.jsx("ul",{className:"list-disc list-inside text-sm mb-3 text-black",children:l(r).map((c,d)=>Xt.jsx("li",{children:c},d))}),Xt.jsx("h3",{className:"font-semibold mb-1",children:"Ohjeet:"}),Xt.jsx("p",{className:"text-sm whitespace-pre-line mb-4 text-black",children:r.strInstructions||"Ei ohjeita saatavilla."})]})]})}function k2(){const[r,t]=fl.useState([]),i=l=>{t(c=>c.filter(d=>d.idMeal!==l))},a=async()=>{t([]);try{const c=(await Dw(rE(KE,"recipes"))).docs.map(d=>{const g=d.data();return{idMeal:d.id,strMeal:g.strMeal||"Unknown Meal",strMealThumb:g.strMealThumb||"",...g}});t(c)}catch(l){console.error("Virhe reseptien hakemisessa: ",l)}};return Xt.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[Xt.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"ReseptiVihko"}),Xt.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[Xt.jsx(U2,{onResults:t}),Xt.jsx(P2,{onAddRandom:l=>t(c=>[...c,l])}),Xt.jsx("button",{className:"bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700",onClick:a,children:"Hae reseptit tietokannasta"}),Xt.jsx("button",{className:"bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",onClick:()=>t([]),children:"Tyhjennä lista"})]}),Xt.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(l=>Xt.jsx(x2,{meal:l,removeMeal:i},l.idMeal))})]})}IA.createRoot(document.getElementById("root")).render(Xt.jsx(fl.StrictMode,{children:Xt.jsx(k2,{})}));
