(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var zf={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function uT(){if(fy)return Gl;fy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var dy;function cT(){return dy||(dy=1,zf.exports=uT()),zf.exports}var wt=cT(),Bf={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function hT(){if(my)return pt;my=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.iterator;function H(I){return I===null||typeof I!="object"?null:(I=V&&I[V]||I["@@iterator"],typeof I=="function"?I:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,at={};function et(I,Y,tt){this.props=I,this.context=Y,this.refs=at,this.updater=tt||Z}et.prototype.isReactComponent={},et.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Nt(){}Nt.prototype=et.prototype;function bt(I,Y,tt){this.props=I,this.context=Y,this.refs=at,this.updater=tt||Z}var mt=bt.prototype=new Nt;mt.constructor=bt,J(mt,et.prototype),mt.isPureReactComponent=!0;var Pt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function O(I,Y,tt,X,lt,vt){return tt=vt.ref,{$$typeof:s,type:I,key:Y,ref:tt!==void 0?tt:null,props:vt}}function A(I,Y){return O(I.type,Y,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function D(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(tt){return Y[tt]})}var N=/\/+/g;function U(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):Y.toString(36)}function w(){}function Ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function te(I,Y,tt,X,lt){var vt=typeof I;(vt==="undefined"||vt==="boolean")&&(I=null);var dt=!1;if(I===null)dt=!0;else switch(vt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(I.$$typeof){case s:case e:dt=!0;break;case S:return dt=I._init,te(dt(I._payload),Y,tt,X,lt)}}if(dt)return lt=lt(I),dt=X===""?"."+U(I,0):X,Pt(lt)?(tt="",dt!=null&&(tt=dt.replace(N,"$&/")+"/"),te(lt,Y,tt,"",function(kn){return kn})):lt!=null&&(R(lt)&&(lt=A(lt,tt+(lt.key==null||I&&I.key===lt.key?"":(""+lt.key).replace(N,"$&/")+"/")+dt)),Y.push(lt)),1;dt=0;var ve=X===""?".":X+":";if(Pt(I))for(var Yt=0;Yt<I.length;Yt++)X=I[Yt],vt=ve+U(X,Yt),dt+=te(X,Y,tt,vt,lt);else if(Yt=H(I),typeof Yt=="function")for(I=Yt.call(I),Yt=0;!(X=I.next()).done;)X=X.value,vt=ve+U(X,Yt++),dt+=te(X,Y,tt,vt,lt);else if(vt==="object"){if(typeof I.then=="function")return te(Ce(I),Y,tt,X,lt);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return dt}function j(I,Y,tt){if(I==null)return I;var X=[],lt=0;return te(I,X,"","",function(vt){return Y.call(tt,vt,lt++)}),X}function W(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(tt){(I._status===0||I._status===-1)&&(I._status=1,I._result=tt)},function(tt){(I._status===0||I._status===-1)&&(I._status=2,I._result=tt)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var st=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Lt(){}return pt.Children={map:j,forEach:function(I,Y,tt){j(I,function(){Y.apply(this,arguments)},tt)},count:function(I){var Y=0;return j(I,function(){Y++}),Y},toArray:function(I){return j(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},pt.Component=et,pt.Fragment=i,pt.Profiler=o,pt.PureComponent=bt,pt.StrictMode=a,pt.Suspense=_,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,pt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return gt.H.useMemoCache(I)}},pt.cache=function(I){return function(){return I.apply(null,arguments)}},pt.cloneElement=function(I,Y,tt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var X=J({},I.props),lt=I.key,vt=void 0;if(Y!=null)for(dt in Y.ref!==void 0&&(vt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!Vt.call(Y,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&Y.ref===void 0||(X[dt]=Y[dt]);var dt=arguments.length-2;if(dt===1)X.children=tt;else if(1<dt){for(var ve=Array(dt),Yt=0;Yt<dt;Yt++)ve[Yt]=arguments[Yt+2];X.children=ve}return O(I.type,lt,void 0,void 0,vt,X)},pt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},pt.createElement=function(I,Y,tt){var X,lt={},vt=null;if(Y!=null)for(X in Y.key!==void 0&&(vt=""+Y.key),Y)Vt.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(lt[X]=Y[X]);var dt=arguments.length-2;if(dt===1)lt.children=tt;else if(1<dt){for(var ve=Array(dt),Yt=0;Yt<dt;Yt++)ve[Yt]=arguments[Yt+2];lt.children=ve}if(I&&I.defaultProps)for(X in dt=I.defaultProps,dt)lt[X]===void 0&&(lt[X]=dt[X]);return O(I,vt,void 0,void 0,null,lt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(I){return{$$typeof:p,render:I}},pt.isValidElement=R,pt.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:W}},pt.memo=function(I,Y){return{$$typeof:v,type:I,compare:Y===void 0?null:Y}},pt.startTransition=function(I){var Y=gt.T,tt={};gt.T=tt;try{var X=I(),lt=gt.S;lt!==null&&lt(tt,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Lt,st)}catch(vt){st(vt)}finally{gt.T=Y}},pt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},pt.use=function(I){return gt.H.use(I)},pt.useActionState=function(I,Y,tt){return gt.H.useActionState(I,Y,tt)},pt.useCallback=function(I,Y){return gt.H.useCallback(I,Y)},pt.useContext=function(I){return gt.H.useContext(I)},pt.useDebugValue=function(){},pt.useDeferredValue=function(I,Y){return gt.H.useDeferredValue(I,Y)},pt.useEffect=function(I,Y,tt){var X=gt.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(I,Y)},pt.useId=function(){return gt.H.useId()},pt.useImperativeHandle=function(I,Y,tt){return gt.H.useImperativeHandle(I,Y,tt)},pt.useInsertionEffect=function(I,Y){return gt.H.useInsertionEffect(I,Y)},pt.useLayoutEffect=function(I,Y){return gt.H.useLayoutEffect(I,Y)},pt.useMemo=function(I,Y){return gt.H.useMemo(I,Y)},pt.useOptimistic=function(I,Y){return gt.H.useOptimistic(I,Y)},pt.useReducer=function(I,Y,tt){return gt.H.useReducer(I,Y,tt)},pt.useRef=function(I){return gt.H.useRef(I)},pt.useState=function(I){return gt.H.useState(I)},pt.useSyncExternalStore=function(I,Y,tt){return gt.H.useSyncExternalStore(I,Y,tt)},pt.useTransition=function(){return gt.H.useTransition()},pt.version="19.1.0",pt}var gy;function Td(){return gy||(gy=1,Bf.exports=hT()),Bf.exports}var Vn=Td(),Hf={exports:{}},Fl={},jf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function fT(){return py||(py=1,function(s){function e(j,W){var st=j.length;j.push(W);t:for(;0<st;){var Lt=st-1>>>1,I=j[Lt];if(0<o(I,W))j[Lt]=W,j[st]=I,st=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var W=j[0],st=j.pop();if(st!==W){j[0]=st;t:for(var Lt=0,I=j.length,Y=I>>>1;Lt<Y;){var tt=2*(Lt+1)-1,X=j[tt],lt=tt+1,vt=j[lt];if(0>o(X,st))lt<I&&0>o(vt,X)?(j[Lt]=vt,j[lt]=st,Lt=lt):(j[Lt]=X,j[tt]=st,Lt=tt);else if(lt<I&&0>o(vt,st))j[Lt]=vt,j[lt]=st,Lt=lt;else break t}}return W}function o(j,W){var st=j.sortIndex-W.sortIndex;return st!==0?st:j.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,V=null,H=3,Z=!1,J=!1,at=!1,et=!1,Nt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Pt(j){for(var W=i(v);W!==null;){if(W.callback===null)a(v);else if(W.startTime<=j)a(v),W.sortIndex=W.expirationTime,e(_,W);else break;W=i(v)}}function gt(j){if(at=!1,Pt(j),!J)if(i(_)!==null)J=!0,Vt||(Vt=!0,U());else{var W=i(v);W!==null&&te(gt,W.startTime-j)}}var Vt=!1,O=-1,A=5,R=-1;function D(){return et?!0:!(s.unstable_now()-R<A)}function N(){if(et=!1,Vt){var j=s.unstable_now();R=j;var W=!0;try{t:{J=!1,at&&(at=!1,bt(O),O=-1),Z=!0;var st=H;try{e:{for(Pt(j),V=i(_);V!==null&&!(V.expirationTime>j&&D());){var Lt=V.callback;if(typeof Lt=="function"){V.callback=null,H=V.priorityLevel;var I=Lt(V.expirationTime<=j);if(j=s.unstable_now(),typeof I=="function"){V.callback=I,Pt(j),W=!0;break e}V===i(_)&&a(_),Pt(j)}else a(_);V=i(_)}if(V!==null)W=!0;else{var Y=i(v);Y!==null&&te(gt,Y.startTime-j),W=!1}}break t}finally{V=null,H=st,Z=!1}W=void 0}}finally{W?U():Vt=!1}}}var U;if(typeof mt=="function")U=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ce=w.port2;w.port1.onmessage=N,U=function(){Ce.postMessage(null)}}else U=function(){Nt(N,0)};function te(j,W){O=Nt(function(){j(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return H},s.unstable_next=function(j){switch(H){case 1:case 2:case 3:var W=3;break;default:W=H}var st=H;H=W;try{return j()}finally{H=st}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var st=H;H=j;try{return W()}finally{H=st}},s.unstable_scheduleCallback=function(j,W,st){var Lt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=st+I,j={id:S++,callback:W,priorityLevel:j,startTime:st,expirationTime:I,sortIndex:-1},st>Lt?(j.sortIndex=st,e(v,j),i(_)===null&&j===i(v)&&(at?(bt(O),O=-1):at=!0,te(gt,st-Lt))):(j.sortIndex=I,e(_,j),J||Z||(J=!0,Vt||(Vt=!0,U()))),j},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(j){var W=H;return function(){var st=H;H=W;try{return j.apply(this,arguments)}finally{H=st}}}}(qf)),qf}var yy;function dT(){return yy||(yy=1,jf.exports=fT()),jf.exports}var Gf={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function mT(){if(_y)return Be;_y=1;var s=Td();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,S){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Be.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},Be.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},Be.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Be.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Be.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,V=p(S,v.crossOrigin),H=typeof v.integrity=="string"?v.integrity:void 0,Z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:H,fetchPriority:Z}):S==="script"&&a.d.X(_,{crossOrigin:V,integrity:H,fetchPriority:Z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Be.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Be.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,V=p(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Be.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Be.requestFormReset=function(_){a.d.r(_)},Be.unstable_batchedUpdates=function(_,v){return _(v)},Be.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},Be.useFormStatus=function(){return d.H.useHostTransitionStatus()},Be.version="19.1.0",Be}var vy;function gT(){if(vy)return Gf.exports;vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gf.exports=mT(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function pT(){if(Ey)return Fl;Ey=1;var s=dT(),e=Td(),i=gT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),Nt=Symbol.for("react.provider"),bt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case et:return"Profiler";case at:return"StrictMode";case gt:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case bt:return(t._context.displayName||"Context")+".Consumer";case Pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ce(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Ce(t(n))}catch{}}return null}var te=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],I=-1;function Y(t){return{current:t}}function tt(t){0>I||(t.current=Lt[I],Lt[I]=null,I--)}function X(t,n){I++,Lt[I]=t.current,t.current=n}var lt=Y(null),vt=Y(null),dt=Y(null),ve=Y(null);function Yt(t,n){switch(X(dt,n),X(vt,t),X(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(lt),X(lt,t)}function kn(){tt(lt),tt(vt),tt(dt)}function xi(t){t.memoizedState!==null&&X(ve,t);var n=lt.current,r=Hp(n,t.type);n!==r&&(X(vt,t),X(lt,r))}function si(t){vt.current===t&&(tt(lt),tt(vt)),ve.current===t&&(tt(ve),zl._currentValue=st)}var Cr=Object.prototype.hasOwnProperty,Dr=s.unstable_scheduleCallback,Or=s.unstable_cancelCallback,La=s.unstable_shouldYield,Eo=s.unstable_requestPaint,cn=s.unstable_now,xc=s.unstable_getCurrentPriorityLevel,ka=s.unstable_ImmediatePriority,Rs=s.unstable_UserBlockingPriority,Nr=s.unstable_NormalPriority,zc=s.unstable_LowPriority,ws=s.unstable_IdlePriority,xa=s.log,To=s.unstable_setDisableYieldValue,ee=null,zt=null;function tn(t){if(typeof xa=="function"&&To(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(ee,t)}catch{}}var xe=Math.clz32?Math.clz32:Mr,Ao=Math.log,Bc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(Ao(t)/Bc|0)|0}var Vr=256,Ur=4194304;function bn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Is(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=bn(l):(y&=E,y!==0?c=bn(y):r||(r=E&~t,r!==0&&(c=bn(r))))):(E=l&~f,E!==0?c=bn(E):y!==0?c=bn(y):r||(r=l&~t,r!==0&&(c=bn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Pr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function za(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ba(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function Ha(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ja(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,k=t.hiddenUpdates;for(r=y&~r;0<r;){var q=31-xe(r),F=1<<q;E[q]=0,b[q]=-1;var x=k[q];if(x!==null)for(k[q]=null,q=0;q<x.length;q++){var z=x[q];z!==null&&(z.lane&=-536870913)}r&=~F}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function qa(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:ay(t.type))}function So(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var $t=Math.random().toString(36).slice(2),me="__reactFiber$"+$t,ue="__reactProps$"+$t,hn="__reactContainer$"+$t,Ga="__reactEvents$"+$t,Hc="__reactListeners$"+$t,Hi="__reactHandles$"+$t,bo="__reactResources$"+$t,Lr="__reactMarker$"+$t;function ji(t){delete t[me],delete t[ue],delete t[Ga],delete t[Hc],delete t[Hi]}function oi(t){var n=t[me];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hn]||r[me]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Fp(t);t!==null;){if(r=t[me])return r;t=Fp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[me]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fe(t){var n=t[bo];return n||(n=t[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ae(t){t[Lr]=!0}var Fa=new Set,Ds={};function Rn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Ds[t]=n,t=0;t<n.length;t++)Fa.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},kr={};function Io(t){return Cr.call(kr,t)?!0:Cr.call(wo,t)?!1:Ro.test(t)?kr[t]=!0:(wo[t]=!0,!1)}function qi(t,n,r){if(Io(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Hn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function De(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var xr,Co;function ci(t){if(xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xr=n&&n[1]||"",Co=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+Co}var Os=!1;function Ns(t,n){if(!t||Os)return"";Os=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(z){var x=z}Reflect.construct(t,[],F)}else{try{F.call()}catch(z){x=z}t.call(F.prototype)}}else{try{throw Error()}catch(z){x=z}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(z){if(z&&x&&typeof z.stack=="string")return[z.stack,x.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),k=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===k.length)for(l=b.length-1,c=k.length-1;1<=l&&0<=c&&b[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==k[c]){var q=`
`+b[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=c);break}}}finally{Os=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function Qa(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return ci("Activity");default:return""}}function Ms(t){try{var n="";do n+=Qa(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ya(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jc(t){var n=Ya(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vs(t){t._valueTracker||(t._valueTracker=jc(t))}function Ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ya(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qc=/[\n"\\]/g;function ce(t){return t.replace(qc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qe(n)):t.value!==""+Qe(n)&&(t.value=""+Qe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,y,Qe(n)):r!=null?Gi(t,y,Qe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qe(E):t.removeAttribute("name")}function Br(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Qe(r):"",n=n!=null?""+Qe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Gi(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Qe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function jt(t,n,r){if(n!=null&&(n=""+Qe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Qe(r):""}function Hr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(te(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Qe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Xa(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Do(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Do(t,f,n[f])}function $a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(t){return Fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Za(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ce(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ue]||null;if(!c)throw Error(a(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ka(l)}break t;case"textarea":jt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hi(t,!!r.multiple,n,!1)}}}var jn=!1;function Oo(t,n,r){if(jn)return t(n,r);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(di!==null||mi!==null)&&(Su(),di&&(n=di,t=mi,mi=di=null,Za(n),t)))for(n=0;n<t.length;n++)Za(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ue]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(wn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{mn=!1}var qn=null,Fi=null,gi=null;function Ja(){if(gi)return gi;var t,n=Fi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Wa(){return!1}function Ee(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Wa,this.isPropagationStopped=Wa,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Ee(xt),Fr=S({},xt,{view:0,detail:0}),No=Ee(Fr),Ls,ks,Qn,Qr=S({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ls=t.screenX-Qn.screenX,ks=t.screenY-Qn.screenY):ks=Ls=0,Qn=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:ks}}),gn=Ee(Qr),Mo=S({},Qr,{dataTransfer:0}),Qc=Ee(Mo),Yr=S({},Fr,{relatedTarget:0}),xs=Ee(Yr),tl=S({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=Ee(tl),Vo=S({},xt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bs=Ee(Vo),Yc=S({},xt,{data:0}),el=Ee(Yc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function Xr(){return nl}var Lo=S({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=Ee(Lo),ko=S({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Ee(ko),pi=S({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),xo=Ee(pi),zo=S({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=Ee(zo),Ho=S({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),js=Ee(Ho),Ye=S({},xt,{newState:0,oldState:0}),jo=Ee(Ye),qo=[9,13,27,32],Yn=wn&&"CompositionEvent"in window,u=null;wn&&"documentMode"in document&&(u=document.documentMode);var m=wn&&"TextEvent"in window&&!u,g=wn&&(!Yn||u&&8<u&&11>=u),T=" ",P=!1;function B(t,n){switch(t){case"keyup":return qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ge(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return t=n.data,t===T&&P?null:t;default:return null}}function Ct(t,n){if(It)return t==="compositionend"||!Yn&&B(t,n)?(t=Ja(),gi=Fi=qn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Te={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Te[t.type]:n==="textarea"}function yi(t,n,r,l){di?mi?mi.push(l):mi=[l]:di=l,n=Du(n,"onChange"),0<n.length&&(r=new Ps("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Oe=null,Kn=null;function rl(t){Pp(t,0)}function Go(t){var n=Bn(t);if(Ka(n))return t}function nm(t,n){if(t==="change")return n}var im=!1;if(wn){var Kc;if(wn){var Xc="oninput"in document;if(!Xc){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Xc=typeof rm.oninput=="function"}Kc=Xc}else Kc=!1;im=Kc&&(!document.documentMode||9<document.documentMode)}function sm(){Oe&&(Oe.detachEvent("onpropertychange",am),Kn=Oe=null)}function am(t){if(t.propertyName==="value"&&Go(Kn)){var n=[];yi(n,Kn,t,dn(t)),Oo(rl,n)}}function zE(t,n,r){t==="focusin"?(sm(),Oe=n,Kn=r,Oe.attachEvent("onpropertychange",am)):t==="focusout"&&sm()}function BE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go(Kn)}function HE(t,n){if(t==="click")return Go(n)}function jE(t,n){if(t==="input"||t==="change")return Go(n)}function qE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:qE;function sl(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Cr.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var r=lm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lm(r)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function $c(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var GE=wn&&"documentMode"in document&&11>=document.documentMode,qs=null,Zc=null,al=null,Jc=!1;function hm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jc||qs==null||qs!==zr(l)||(l=qs,"selectionStart"in l&&$c(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Du(Zc,"onSelect"),0<l.length&&(n=new Ps("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=qs)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Gs={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Wc={},fm={};wn&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Zr(t){if(Wc[t])return Wc[t];if(!Gs[t])return t;var n=Gs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in fm)return Wc[t]=n[r];return t}var dm=Zr("animationend"),mm=Zr("animationiteration"),gm=Zr("animationstart"),FE=Zr("transitionrun"),QE=Zr("transitionstart"),YE=Zr("transitioncancel"),pm=Zr("transitionend"),ym=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function In(t,n){ym.set(t,n),Rn(n,[t])}var _m=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var r=_m.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ms(n)},_m.set(t,n),n)}return{value:t,source:n,stack:Ms(n)}}var yn=[],Fs=0,eh=0;function Fo(){for(var t=Fs,n=eh=Fs=0;n<t;){var r=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&vm(r,c,f)}}function Qo(t,n,r,l){yn[Fs++]=t,yn[Fs++]=n,yn[Fs++]=r,yn[Fs++]=l,eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nh(t,n,r,l){return Qo(t,n,r,l),Yo(t)}function Qs(t,n){return Qo(t,null,null,n),Yo(t)}function vm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-xe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Yo(t){if(50<Nl)throw Nl=0,uf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function KE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,l){return new KE(t,n,r,l)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Em(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")ih(t)&&(y=1);else if(typeof t=="string")y=$0(t,r,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=rn(31,r,n,c),t.elementType=R,t.lanes=f,t;case J:return Jr(r.children,c,f,n);case at:y=8,c|=24;break;case et:return t=rn(12,r,n,c|2),t.elementType=et,t.lanes=f,t;case gt:return t=rn(13,r,n,c),t.elementType=gt,t.lanes=f,t;case Vt:return t=rn(19,r,n,c),t.elementType=Vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nt:case mt:y=10;break t;case bt:y=9;break t;case Pt:y=11;break t;case O:y=14;break t;case A:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=rn(7,t,l,n),t.lanes=r,t}function rh(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function sh(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ks=[],Xs=0,Xo=null,$o=0,_n=[],vn=0,Wr=null,vi=1,Ei="";function ts(t,n){Ks[Xs++]=$o,Ks[Xs++]=Xo,Xo=t,$o=n}function Tm(t,n,r){_n[vn++]=vi,_n[vn++]=Ei,_n[vn++]=Wr,Wr=t;var l=vi;t=Ei;var c=32-xe(l)-1;l&=~(1<<c),r+=1;var f=32-xe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-xe(n)+c|r<<c|l,Ei=f+t}else vi=1<<f|r<<c|l,Ei=t}function ah(t){t.return!==null&&(ts(t,1),Tm(t,1,0))}function lh(t){for(;t===Xo;)Xo=Ks[--Xs],Ks[Xs]=null,$o=Ks[--Xs],Ks[Xs]=null;for(;t===Wr;)Wr=_n[--vn],_n[vn]=null,Ei=_n[--vn],_n[vn]=null,vi=_n[--vn],_n[vn]=null}var Ke=null,ne=null,kt=!1,es=null,Xn=!1,oh=Error(a(519));function ns(t){var n=Error(a(418,""));throw ul(pn(n,t)),oh}function Am(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[me]=t,n[ue]=l,r){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)At(Vl[r],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":At("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(n);break;case"select":At("invalid",n);break;case"textarea":At("invalid",n),Hr(n,l.value,l.defaultValue,l.children),Vs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||zp(n.textContent,r)?(l.popover!=null&&(At("beforetoggle",n),At("toggle",n)),l.onScroll!=null&&At("scroll",n),l.onScrollEnd!=null&&At("scrollend",n),l.onClick!=null&&(n.onclick=Ou),n=!0):n=!1,n||ns(t)}function Sm(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ke=Ke.return}}function ll(t){if(t!==Ke)return!1;if(!kt)return Sm(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rf(t.type,t.memoizedProps)),r=!r),r&&ne&&ns(t),Sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ne=Dn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ne=null}}else n===27?(n=ne,lr(t.type)?(t=Df,Df=null,ne=t):ne=n):ne=Ke?Dn(t.stateNode.nextSibling):null;return!0}function ol(){ne=Ke=null,kt=!1}function bm(){var t=es;return t!==null&&(Ze===null?Ze=t:Ze.push.apply(Ze,t),es=null),t}function ul(t){es===null?es=[t]:es.push(t)}var uh=Y(null),is=null,Ti=null;function Qi(t,n,r){X(uh,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=uh.current,tt(uh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ch(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ch(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ve.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&hh(n,t,r,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){is=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ze(t){return Rm(is,t)}function Jo(t,n){return is===null&&rs(t),Rm(t,n)}function Rm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var XE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},$E=s.unstable_scheduleCallback,ZE=s.unstable_NormalPriority,ye={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new XE,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&$E(ZE,function(){t.controller.abort()})}var fl=null,dh=0,$s=0,Zs=null;function JE(t,n){if(fl===null){var r=fl=[];dh=0,$s=pf(),Zs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return dh++,n.then(wm,wm),n}function wm(){if(--dh===0&&fl!==null){Zs!==null&&(Zs.status="fulfilled");var t=fl;fl=null,$s=0,Zs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function WE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Im=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&JE(t,n),Im!==null&&Im(t,n)};var ss=Y(null);function mh(){var t=ss.current;return t!==null?t:Kt.pooledCache}function Wo(t,n){n===null?X(ss,ss.current):X(ss,n.pool)}function Cm(){var t=mh();return t===null?null:{parent:ye._currentValue,pool:t}}var dl=Error(a(460)),Dm=Error(a(474)),tu=Error(a(542)),gh={then:function(){}};function Om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eu(){}function Nm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(eu,eu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t;default:if(typeof n.status=="string")n.then(eu,eu);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t}throw ml=n,dl}}var ml=null;function Mm(){if(ml===null)throw Error(a(459));var t=ml;return ml=null,t}function Vm(t){if(t===dl||t===tu)throw Error(a(483))}var Yi=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),vm(t,null,r),n}return Qo(t,l,n,r),Yo(t)}function gl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qa(t,r)}}function _h(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var vh=!1;function pl(){if(vh){var t=Zs;if(t!==null)throw t}}function yl(t,n,r,l){vh=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,k=b.next;b.next=null,y===null?f=k:y.next=k,y=b;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==y&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,q=k=b=null,E=f;do{var x=E.lane&-536870913,z=x!==E.lane;if(z?(Dt&x)===x:(l&x)===x){x!==0&&x===$s&&(vh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=t,ot=E;x=n;var Ft=r;switch(ot.tag){case 1:if(ht=ot.payload,typeof ht=="function"){F=ht.call(Ft,F,x);break t}F=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ot.payload,x=typeof ht=="function"?ht.call(Ft,F,x):ht,x==null)break t;F=S({},F,x);break t;case 2:Yi=!0}}x=E.callback,x!==null&&(t.flags|=64,z&&(t.flags|=8192),z=c.callbacks,z===null?c.callbacks=[x]:z.push(x))}else z={lane:x,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=z,b=F):q=q.next=z,y|=x;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;z=E,E=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);q===null&&(b=F),c.baseState=b,c.firstBaseUpdate=k,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),ir|=y,t.lanes=y,t.memoizedState=F}}function Um(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Pm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Um(r[t],n)}var Js=Y(null),nu=Y(0);function Lm(t,n){t=Di,X(nu,t),X(Js,n),Di=t|n.baseLanes}function Eh(){X(nu,Di),X(Js,Js.current)}function Th(){Di=nu.current,tt(Js),tt(nu)}var $i=0,_t=null,qt=null,he=null,iu=!1,Ws=!1,as=!1,ru=0,_l=0,ta=null,t0=0;function le(){throw Error(a(321))}function Ah(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function Sh(t,n,r,l,c,f){return $i=f,_t=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?vg:Eg,as=!1,f=r(l,c),as=!1,Ws&&(f=xm(n,r,l,c)),km(t),f}function km(t){j.H=cu;var n=qt!==null&&qt.next!==null;if($i=0,he=qt=_t=null,iu=!1,_l=0,ta=null,n)throw Error(a(300));t===null||Ae||(t=t.dependencies,t!==null&&Zo(t)&&(Ae=!0))}function xm(t,n,r,l){_t=t;var c=0;do{if(Ws&&(ta=null),_l=0,Ws=!1,25<=c)throw Error(a(301));if(c+=1,he=qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=l0,f=n(r,l)}while(Ws);return f}function e0(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(_t.flags|=1024),n}function bh(){var t=ru!==0;return ru=0,t}function Rh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wh(t){if(iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}iu=!1}$i=0,he=qt=_t=null,Ws=!1,_l=ru=0,ta=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?_t.memoizedState=he=t:he=he.next=t,he}function fe(){if(qt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=he===null?_t.memoizedState:he.next;if(n!==null)he=n,qt=t;else{if(t===null)throw _t.alternate===null?Error(a(467)):Error(a(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},he===null?_t.memoizedState=he=t:he=he.next=t}return he}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,ta===null&&(ta=[]),t=Nm(ta,t,n),n=_t,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?vg:Eg),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===mt)return ze(t)}throw Error(a(438,String(t)))}function Ch(t){var n=null,r=_t.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=_t.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ih(),_t.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function au(t){var n=fe();return Dh(n,qt,t)}function Dh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,k=n,q=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Dt&F)===F:($i&F)===F){var x=k.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===$s&&(q=!0);else if(($i&x)===x){k=k.next,x===$s&&(q=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,_t.lanes|=x,ir|=x;F=k.action,as&&r(f,F),f=k.hasEagerState?k.eagerState:r(f,F)}else x={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=x,y=f):b=b.next=x,_t.lanes|=F,ir|=F;k=k.next}while(k!==null&&k!==n);if(b===null?y=f:b.next=E,!nn(f,t.memoizedState)&&(Ae=!0,q&&(r=Zs,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Oh(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);nn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function zm(t,n,r){var l=_t,c=fe(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!nn((qt||c).memoizedState,r);y&&(c.memoizedState=r,Ae=!0),c=c.queue;var E=jm.bind(null,l,c,t);if(El(2048,8,E,[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,ea(9,lu(),Hm.bind(null,l,c,r,n),null),Kt===null)throw Error(a(349));f||($i&124)!==0||Bm(l,n,r)}return r}function Bm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=_t.updateQueue,n===null?(n=Ih(),_t.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Hm(t,n,r,l){n.value=r,n.getSnapshot=l,qm(n)&&Gm(t)}function jm(t,n,r){return r(function(){qm(n)&&Gm(t)})}function qm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function Gm(t){var n=Qs(t,2);n!==null&&un(n,t,2)}function Nh(t){var n=Xe();if(typeof t=="function"){var r=t;if(t=r(),as){tn(!0);try{r()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Fm(t,n,r,l){return t.baseState=r,Dh(t,qt,typeof l=="function"?l:Si)}function n0(t,n,r,l,c){if(uu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Qm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Qm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Ym(t,n,E)}catch(k){Mh(t,n,k)}finally{j.T=f}}else try{f=r(c,l),Ym(t,n,f)}catch(k){Mh(t,n,k)}}function Ym(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Km(t,n,l)},function(l){return Mh(t,n,l)}):Km(t,n,r)}function Km(t,n,r){n.status="fulfilled",n.value=r,Xm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Qm(t,r)))}function Mh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Zm(t,n){if(kt){var r=Kt.formState;if(r!==null){t:{var l=_t;if(kt){if(ne){e:{for(var c=ne,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=Dn(c.nextSibling),l=c.data==="F!";break t}}ns(l)}l=!1}l&&(n=r[0])}}return r=Xe(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},r.queue=l,r=pg.bind(null,_t,l),l.dispatch=r,l=Nh(!1),f=kh.bind(null,_t,!1,l.queue),l=Xe(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=n0.bind(null,_t,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Jm(t){var n=fe();return Wm(n,qt,t)}function Wm(t,n,r){if(n=Dh(t,n,$m)[0],t=au(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(y){throw y===dl?tu:y}else l=n;n=fe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(_t.flags|=2048,ea(9,lu(),i0.bind(null,c,r),null)),[l,f,t]}function i0(t,n){t.action=n}function tg(t){var n=fe(),r=qt;if(r!==null)return Wm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ea(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=_t.updateQueue,n===null&&(n=Ih(),_t.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function lu(){return{destroy:void 0,resource:void 0}}function eg(){return fe().memoizedState}function ou(t,n,r,l){var c=Xe();l=l===void 0?null:l,_t.flags|=t,c.memoizedState=ea(1|n,lu(),r,l)}function El(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;qt!==null&&l!==null&&Ah(l,qt.memoizedState.deps)?c.memoizedState=ea(n,f,r,l):(_t.flags|=t,c.memoizedState=ea(1|n,f,r,l))}function ng(t,n){ou(8390656,8,t,n)}function ig(t,n){El(2048,8,t,n)}function rg(t,n){return El(4,2,t,n)}function sg(t,n){return El(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,r){r=r!=null?r.concat([t]):null,El(4,4,ag.bind(null,n,t),r)}function Vh(){}function og(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ah(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function ug(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ah(n,l[1]))return l[0];if(l=t(),as){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l}function Uh(t,n,r){return r===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=fp(),_t.lanes|=t,ir|=t,r)}function cg(t,n,r,l){return nn(r,n)?r:Js.current!==null?(t=Uh(t,r,l),nn(t,n)||(Ae=!0),t):($i&42)===0?(Ae=!0,t.memoizedState=r):(t=fp(),_t.lanes|=t,ir|=t,n)}function hg(t,n,r,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,kh(t,!1,n,r);try{var b=c(),k=j.S;if(k!==null&&k(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=WE(b,l);Tl(t,n,q,on(t))}else Tl(t,n,l,on(t))}catch(F){Tl(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{W.p=f,j.T=y}}function r0(){}function Ph(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=fg(t).queue;hg(t,c,n,st,r===null?r0:function(){return dg(t),r(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:st},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t).next.queue;Tl(t,n,{},on())}function Lh(){return ze(zl)}function mg(){return fe().memoizedState}function gg(){return fe().memoizedState}function s0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=Ki(r);var l=Xi(n,t,r);l!==null&&(un(l,n,r),gl(l,n,r)),n={cache:fh()},t.payload=n;return}n=n.return}}function a0(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},uu(t)?yg(n,r):(r=nh(t,n,r,l),r!==null&&(un(r,t,l),_g(r,n,l)))}function pg(t,n,r){var l=on();Tl(t,n,r,l)}function Tl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(uu(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return Qo(t,n,c,0),Kt===null&&Fo(),!1}catch{}finally{}if(r=nh(t,n,c,l),r!==null)return un(r,t,l),_g(r,n,l),!0}return!1}function kh(t,n,r,l){if(l={lane:2,revertLane:pf(),action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(a(479))}else n=nh(t,r,l,2),n!==null&&un(n,t,2)}function uu(t){var n=t.alternate;return t===_t||n!==null&&n===_t}function yg(t,n){Ws=iu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function _g(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qa(t,r)}}var cu={readContext:ze,use:su,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},vg={readContext:ze,use:su,useCallback:function(t,n){return Xe().memoizedState=[t,n===void 0?null:n],t},useContext:ze,useEffect:ng,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ou(4194308,4,ag.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var r=Xe();n=n===void 0?null:n;var l=t();if(as){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Xe();if(r!==void 0){var c=r(n);if(as){tn(!0);try{r(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=a0.bind(null,_t,t),[l.memoizedState,t]},useRef:function(t){var n=Xe();return t={current:t},n.memoizedState=t},useState:function(t){t=Nh(t);var n=t.queue,r=pg.bind(null,_t,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Vh,useDeferredValue:function(t,n){var r=Xe();return Uh(r,t,n)},useTransition:function(){var t=Nh(!1);return t=hg.bind(null,_t,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=_t,c=Xe();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));(Dt&124)!==0||Bm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ng(jm.bind(null,l,f,t),[t]),l.flags|=2048,ea(9,lu(),Hm.bind(null,l,f,r,n),null),r},useId:function(){var t=Xe(),n=Kt.identifierPrefix;if(kt){var r=Ei,l=vi;r=(l&~(1<<32-xe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=ru++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=t0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Lh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=Xe();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kh.bind(null,_t,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ch,useCacheRefresh:function(){return Xe().memoizedState=s0.bind(null,_t)}},Eg={readContext:ze,use:su,useCallback:og,useContext:ze,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:rg,useLayoutEffect:sg,useMemo:ug,useReducer:au,useRef:eg,useState:function(){return au(Si)},useDebugValue:Vh,useDeferredValue:function(t,n){var r=fe();return cg(r,qt.memoizedState,t,n)},useTransition:function(){var t=au(Si)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:zm,useId:mg,useHostTransitionStatus:Lh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var r=fe();return Fm(r,qt,t,n)},useMemoCache:Ch,useCacheRefresh:gg},l0={readContext:ze,use:su,useCallback:og,useContext:ze,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:rg,useLayoutEffect:sg,useMemo:ug,useReducer:Oh,useRef:eg,useState:function(){return Oh(Si)},useDebugValue:Vh,useDeferredValue:function(t,n){var r=fe();return qt===null?Uh(r,t,n):cg(r,qt.memoizedState,t,n)},useTransition:function(){var t=Oh(Si)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:zm,useId:mg,useHostTransitionStatus:Lh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var r=fe();return qt!==null?Fm(r,qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:gg},na=null,Al=0;function hu(t){var n=Al;return Al+=1,na===null&&(na=[]),Nm(na,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function fu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){var n=t._init;return n(t._payload)}function Ag(t){function n(M,C){if(t){var L=M.deletions;L===null?(M.deletions=[C],M.flags|=16):L.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=_i(M,C),M.index=0,M.sibling=null,M}function f(M,C,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<C?(M.flags|=67108866,C):L):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,L,G){return C===null||C.tag!==6?(C=rh(L,M.mode,G),C.return=M,C):(C=c(C,L),C.return=M,C)}function b(M,C,L,G){var nt=L.type;return nt===J?q(M,C,L.props.children,G,L.key):C!==null&&(C.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===A&&Tg(nt)===C.type)?(C=c(C,L.props),Sl(C,L),C.return=M,C):(C=Ko(L.type,L.key,L.props,null,M.mode,G),Sl(C,L),C.return=M,C)}function k(M,C,L,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=sh(L,M.mode,G),C.return=M,C):(C=c(C,L.children||[]),C.return=M,C)}function q(M,C,L,G,nt){return C===null||C.tag!==7?(C=Jr(L,M.mode,G,nt),C.return=M,C):(C=c(C,L),C.return=M,C)}function F(M,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=rh(""+C,M.mode,L),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case H:return L=Ko(C.type,C.key,C.props,null,M.mode,L),Sl(L,C),L.return=M,L;case Z:return C=sh(C,M.mode,L),C.return=M,C;case A:var G=C._init;return C=G(C._payload),F(M,C,L)}if(te(C)||U(C))return C=Jr(C,M.mode,L,null),C.return=M,C;if(typeof C.then=="function")return F(M,hu(C),L);if(C.$$typeof===mt)return F(M,Jo(M,C),L);fu(M,C)}return null}function x(M,C,L,G){var nt=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return nt!==null?null:E(M,C,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===nt?b(M,C,L,G):null;case Z:return L.key===nt?k(M,C,L,G):null;case A:return nt=L._init,L=nt(L._payload),x(M,C,L,G)}if(te(L)||U(L))return nt!==null?null:q(M,C,L,G,null);if(typeof L.then=="function")return x(M,C,hu(L),G);if(L.$$typeof===mt)return x(M,C,Jo(M,L),G);fu(M,L)}return null}function z(M,C,L,G,nt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(C,M,""+G,nt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return M=M.get(G.key===null?L:G.key)||null,b(C,M,G,nt);case Z:return M=M.get(G.key===null?L:G.key)||null,k(C,M,G,nt);case A:var Et=G._init;return G=Et(G._payload),z(M,C,L,G,nt)}if(te(G)||U(G))return M=M.get(L)||null,q(C,M,G,nt,null);if(typeof G.then=="function")return z(M,C,L,hu(G),nt);if(G.$$typeof===mt)return z(M,C,L,Jo(C,G),nt);fu(C,G)}return null}function ht(M,C,L,G){for(var nt=null,Et=null,rt=C,ut=C=0,be=null;rt!==null&&ut<L.length;ut++){rt.index>ut?(be=rt,rt=null):be=rt.sibling;var Ut=x(M,rt,L[ut],G);if(Ut===null){rt===null&&(rt=be);break}t&&rt&&Ut.alternate===null&&n(M,rt),C=f(Ut,C,ut),Et===null?nt=Ut:Et.sibling=Ut,Et=Ut,rt=be}if(ut===L.length)return r(M,rt),kt&&ts(M,ut),nt;if(rt===null){for(;ut<L.length;ut++)rt=F(M,L[ut],G),rt!==null&&(C=f(rt,C,ut),Et===null?nt=rt:Et.sibling=rt,Et=rt);return kt&&ts(M,ut),nt}for(rt=l(rt);ut<L.length;ut++)be=z(rt,M,ut,L[ut],G),be!==null&&(t&&be.alternate!==null&&rt.delete(be.key===null?ut:be.key),C=f(be,C,ut),Et===null?nt=be:Et.sibling=be,Et=be);return t&&rt.forEach(function(fr){return n(M,fr)}),kt&&ts(M,ut),nt}function ot(M,C,L,G){if(L==null)throw Error(a(151));for(var nt=null,Et=null,rt=C,ut=C=0,be=null,Ut=L.next();rt!==null&&!Ut.done;ut++,Ut=L.next()){rt.index>ut?(be=rt,rt=null):be=rt.sibling;var fr=x(M,rt,Ut.value,G);if(fr===null){rt===null&&(rt=be);break}t&&rt&&fr.alternate===null&&n(M,rt),C=f(fr,C,ut),Et===null?nt=fr:Et.sibling=fr,Et=fr,rt=be}if(Ut.done)return r(M,rt),kt&&ts(M,ut),nt;if(rt===null){for(;!Ut.done;ut++,Ut=L.next())Ut=F(M,Ut.value,G),Ut!==null&&(C=f(Ut,C,ut),Et===null?nt=Ut:Et.sibling=Ut,Et=Ut);return kt&&ts(M,ut),nt}for(rt=l(rt);!Ut.done;ut++,Ut=L.next())Ut=z(rt,M,ut,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&rt.delete(Ut.key===null?ut:Ut.key),C=f(Ut,C,ut),Et===null?nt=Ut:Et.sibling=Ut,Et=Ut);return t&&rt.forEach(function(oT){return n(M,oT)}),kt&&ts(M,ut),nt}function Ft(M,C,L,G){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var nt=L.key;C!==null;){if(C.key===nt){if(nt=L.type,nt===J){if(C.tag===7){r(M,C.sibling),G=c(C,L.props.children),G.return=M,M=G;break t}}else if(C.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===A&&Tg(nt)===C.type){r(M,C.sibling),G=c(C,L.props),Sl(G,L),G.return=M,M=G;break t}r(M,C);break}else n(M,C);C=C.sibling}L.type===J?(G=Jr(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=Ko(L.type,L.key,L.props,null,M.mode,G),Sl(G,L),G.return=M,M=G)}return y(M);case Z:t:{for(nt=L.key;C!==null;){if(C.key===nt)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){r(M,C.sibling),G=c(C,L.children||[]),G.return=M,M=G;break t}else{r(M,C);break}else n(M,C);C=C.sibling}G=sh(L,M.mode,G),G.return=M,M=G}return y(M);case A:return nt=L._init,L=nt(L._payload),Ft(M,C,L,G)}if(te(L))return ht(M,C,L,G);if(U(L)){if(nt=U(L),typeof nt!="function")throw Error(a(150));return L=nt.call(L),ot(M,C,L,G)}if(typeof L.then=="function")return Ft(M,C,hu(L),G);if(L.$$typeof===mt)return Ft(M,C,Jo(M,L),G);fu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(r(M,C.sibling),G=c(C,L),G.return=M,M=G):(r(M,C),G=rh(L,M.mode,G),G.return=M,M=G),y(M)):r(M,C)}return function(M,C,L,G){try{Al=0;var nt=Ft(M,C,L,G);return na=null,nt}catch(rt){if(rt===dl||rt===tu)throw rt;var Et=rn(29,rt,null,M.mode);return Et.lanes=G,Et.return=M,Et}finally{}}}var ia=Ag(!0),Sg=Ag(!1),En=Y(null),$n=null;function Zi(t){var n=t.alternate;X(_e,_e.current&1),X(En,t),$n===null&&(n===null||Js.current!==null||n.memoizedState!==null)&&($n=t)}function bg(t){if(t.tag===22){if(X(_e,_e.current),X(En,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Ji()}function Ji(){X(_e,_e.current),X(En,En.current)}function bi(t){tt(En),$n===t&&($n=null),tt(_e)}var _e=Y(0);function du(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Cf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(un(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(un(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(un(n,t,r),gl(n,t,r))}};function Rg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!sl(r,l)||!sl(c,f):!0}function wg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zh.enqueueReplaceState(n,n.state,null)}function ls(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){mu(t)}function Cg(t){console.error(t)}function Dg(t){mu(t)}function gu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Bh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){gu(t,n)},r}function Ng(t){return t=Ki(t),t.tag=3,t}function Mg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Og(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&cl(n,r,c,!0),r=En.current,r!==null){switch(r.tag){case 13:return $n===null?hf():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===gh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),df(t,l,c)),!1;case 22:return r.flags|=65536,l===gh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),df(t,l,c)),!1}throw Error(a(435,r.tag))}return df(t,l,c),hf(),!1}if(kt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==oh&&(t=Error(a(422),{cause:l}),ul(pn(t,r)))):(l!==oh&&(n=Error(a(423),{cause:l}),ul(pn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,r),c=Bh(t.stateNode,l,c),_h(t,c),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=pn(f,r),Ol===null?Ol=[f]:Ol.push(f),ie!==4&&(ie=2),n===null)return!0;l=pn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Bh(r.stateNode,l,t),_h(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ng(c),Mg(c,t,r,l),_h(r,c),!1}r=r.return}while(r!==null);return!1}var Vg=Error(a(461)),Ae=!1;function Ne(t,n,r,l){n.child=t===null?Sg(n,null,r,l):ia(n,t.child,r,l)}function Ug(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return rs(n),l=Sh(t,n,r,y,f,c),E=bh(),t!==null&&!Ae?(Rh(t,n,c),Ri(t,n,c)):(kt&&E&&ah(n),n.flags|=1,Ne(t,n,l,c),n.child)}function Pg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!ih(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=Ko(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Kh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Hh(t,n,r,l,c)}function kg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return xg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?Lm(n,f):Eh(),bg(n);else return n.lanes=n.childLanes=536870912,xg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Wo(n,f.cachePool),Lm(n,f),Ji(),n.memoizedState=null):(t!==null&&Wo(n,null),Eh(),Ji());return Ne(t,n,c,r),n.child}function xg(t,n,r,l){var c=mh();return c=c===null?null:{parent:ye._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Wo(n,null),Eh(),bg(n),t!==null&&cl(t,n,l,!0),null}function pu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hh(t,n,r,l,c){return rs(n),r=Sh(t,n,r,l,void 0,c),l=bh(),t!==null&&!Ae?(Rh(t,n,c),Ri(t,n,c)):(kt&&l&&ah(n),n.flags|=1,Ne(t,n,r,c),n.child)}function zg(t,n,r,l,c,f){return rs(n),n.updateQueue=null,r=xm(n,l,r,c),km(t),l=bh(),t!==null&&!Ae?(Rh(t,n,f),Ri(t,n,f)):(kt&&l&&ah(n),n.flags|=1,Ne(t,n,r,f),n.child)}function Bg(t,n,r,l,c){if(rs(n),n.stateNode===null){var f=Ys,y=r.contextType;typeof y=="object"&&y!==null&&(f=ze(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ze(y):Ys,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(xh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&zh.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ls(r,E);f.props=b;var k=f.context,q=r.contextType;y=Ys,typeof q=="object"&&q!==null&&(y=ze(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==y)&&wg(n,f,l,y),Yi=!1;var x=n.memoizedState;f.state=x,yl(n,l,f,c),pl(),k=n.memoizedState,E||x!==k||Yi?(typeof F=="function"&&(xh(n,r,F,l),k=n.memoizedState),(b=Yi||Rg(n,r,b,l,x,k,y))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),y=n.memoizedProps,q=ls(r,y),f.props=q,F=n.pendingProps,x=f.context,k=r.contextType,b=Ys,typeof k=="object"&&k!==null&&(b=ze(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||x!==b)&&wg(n,f,l,b),Yi=!1,x=n.memoizedState,f.state=x,yl(n,l,f,c),pl();var z=n.memoizedState;y!==F||x!==z||Yi||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(xh(n,r,E,l),z=n.memoizedState),(q=Yi||Rg(n,r,q,l,x,z,b)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,z,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,z,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&x===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&x===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=b,l=q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&x===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&x===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,c),n.child=ia(n,null,r,c)):Ne(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function Hg(t,n,r,l){return ol(),n.flags|=256,Ne(t,n,r,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:Cm()}}function Gh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Tn),t}function jg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?Zi(n):Ji(),kt){var E=ne,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Dn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,ne=null,b=!0):b=!1}b||ns(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cf(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=yu({mode:"hidden",children:E},c),l=Jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=qh(r),c.childLanes=Gh(t,y,r),n.memoizedState=jh,l):(Zi(n),Fh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=Qh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=yu({mode:"visible",children:l.children},E),c=Jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=qh(r),l.childLanes=Gh(t,y,r),n.memoizedState=jh,n=c);else if(Zi(n),Cf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var k=y.dgst;y=k,l=Error(a(419)),l.stack="",l.digest=y,ul({value:l,source:null,stack:null}),n=Qh(t,n,r)}else if(Ae||cl(t,n,r,!1),y=(r&t.childLanes)!==0,Ae||y){if(y=Kt,y!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Qs(t,l),un(y,t,l),Vg;E.data==="$?"||hf(),n=Qh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ne=Dn(E.nextSibling),Ke=n,kt=!0,es=null,Xn=!1,t!==null&&(_n[vn++]=vi,_n[vn++]=Ei,_n[vn++]=Wr,vi=t.id,Ei=t.overflow,Wr=n),n=Fh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,b=t.child,k=b.sibling,l=_i(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,k!==null?c=_i(k,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=qh(r):(b=E.cachePool,b!==null?(k=ye._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=Cm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Gh(t,y,r),n.memoizedState=jh,l):(Zi(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Fh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qh(t,n,r){return ia(n,t.child,null,r),t=Fh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function Yh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Gg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ne(t,n,l.children,r),l=_e.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qg(t,r,n);else if(t.tag===19)qg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(_e,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&du(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Yh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&du(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Yh(n,!0,r,null,f);break;case"together":Yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function u0(t,n,r){switch(n.tag){case 3:Yt(n,n.stateNode.containerInfo),Qi(n,ye,t.memoizedState.cache),ol();break;case 27:case 5:xi(n);break;case 4:Yt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?jg(t,n,r):(Zi(n),t=Ri(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(cl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Gg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(_e,_e.current),l)break;return null;case 22:case 23:return n.lanes=0,kg(t,n,r);case 24:Qi(n,ye,t.memoizedState.cache)}return Ri(t,n,r)}function Fg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Kh(t,r)&&(n.flags&128)===0)return Ae=!1,u0(t,n,r);Ae=(t.flags&131072)!==0}else Ae=!1,kt&&(n.flags&1048576)!==0&&Tm(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")ih(l)?(t=ls(l,t),n.tag=1,n=Bg(null,n,l,t,r)):(n.tag=0,n=Hh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Pt){n.tag=11,n=Ug(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=Pg(null,n,l,t,r);break t}}throw n=Ce(l)||l,Error(a(306,n,""))}}return n;case 0:return Hh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ls(l,n.pendingProps),Bg(t,n,l,c,r);case 3:t:{if(Yt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,yh(t,n),yl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Qi(n,ye,l),l!==f.cache&&hh(n,[ye],r,!0),pl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,r);break t}else if(l!==c){c=pn(Error(a(424)),n),ul(c),n=Hg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=Dn(t.firstChild),Ke=n,kt=!0,es=null,Xn=!0,r=Sg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ol(),l===c){n=Ri(t,n,r);break t}Ne(t,n,l,r)}n=n.child}return n;case 26:return pu(t,n),t===null?(r=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Nu(dt.current).createElement(r),l[me]=n,l[ue]=t,Ve(l,r,t),ae(l),n.stateNode=l):n.memoizedState=Xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&kt&&(l=n.stateNode=Qp(n.type,n.pendingProps,dt.current),Ke=n,Xn=!0,c=ne,lr(n.type)?(Df=c,ne=Dn(l.firstChild)):ne=c),Ne(t,n,n.pendingProps.children,r),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=ne)&&(l=k0(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ke=n,ne=Dn(l.firstChild),Xn=!1,c=!0):c=!1),c||ns(n)),xi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Rf(c,f)?l=null:y!==null&&Rf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Sh(t,n,e0,null,null,r),zl._currentValue=c),pu(t,n),Ne(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=ne)&&(r=x0(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ke=n,ne=null,t=!0):t=!1),t||ns(n)),null;case 13:return jg(t,n,r);case 4:return Yt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):Ne(t,n,l,r),n.child;case 11:return Ug(t,n,n.type,n.pendingProps,r);case 7:return Ne(t,n,n.pendingProps,r),n.child;case 8:return Ne(t,n,n.pendingProps.children,r),n.child;case 12:return Ne(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Ne(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=ze(c),l=l(c),n.flags|=1,Ne(t,n,l,r),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,r);case 15:return Lg(t,n,n.type,n.pendingProps,r);case 19:return Gg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=yu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return kg(t,n,r);case 24:return rs(n),l=ze(ye),t===null?(c=mh(),c===null&&(c=Kt,f=fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ph(n),Qi(n,ye,c)):((t.lanes&r)!==0&&(yh(t,n),yl(n,null,null,r),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,ye,l)):(l=f.cache,Qi(n,ye,l),l!==c.cache&&hh(n,[ye],r,!0))),Ne(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function wi(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n)){if(n=En.current,n!==null&&((Dt&4194048)===Dt?$n!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||n!==$n))throw ml=gh,Dm;t.flags|=8192}}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ha():536870912,t.lanes|=n,la|=n)}function bl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function c0(t,n,r){var l=n.pendingProps;switch(lh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(ye),kn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bm())),Wt(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(Wt(n),Qg(n,r)):(Wt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),Wt(n),Qg(n,r)):(Wt(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),Wt(n),n.flags&=-16777217),null;case 27:si(n),r=dt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}t=lt.current,ll(n)?Am(n):(t=Qp(c,l,r),n.stateNode=t,wi(n))}return Wt(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}if(t=lt.current,ll(n))Am(n);else{switch(c=Nu(dt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[me]=n,t[ue]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ve(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dt.current,ll(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[me]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||zp(t.nodeValue,r)),t||ns(n)}else t=Nu(t).createTextNode(l),t[me]=n,n.stateNode=t}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ll(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[me]=n}else ol(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),_u(n,n.updateQueue),Wt(n),null;case 4:return kn(),t===null&&Ef(n.stateNode.containerInfo),Wt(n),null;case 10:return Ai(n.type),Wt(n),null;case 19:if(tt(_e),c=n.memoizedState,c===null)return Wt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)bl(c,!1);else{if(ie!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=du(t),f!==null){for(n.flags|=128,bl(c,!1),t=f.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Em(r,t),r=r.sibling;return X(_e,_e.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>Tu&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304)}else{if(!l)if(t=du(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),bl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return Wt(n),null}else 2*cn()-c.renderingStartTime>Tu&&r!==536870912&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=_e.current,X(_e,l?t&1|2:t&1),n):(Wt(n),null);case 22:case 23:return bi(n),Th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),r=n.updateQueue,r!==null&&_u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&tt(ss),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(ye),Wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function h0(t,n){switch(lh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(ye),kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ol()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(_e),null;case 4:return kn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),Th(),t!==null&&tt(ss),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(ye),null;case 25:return null;default:return null}}function Yg(t,n){switch(lh(n),n.tag){case 3:Ai(ye),kn();break;case 26:case 27:case 5:si(n);break;case 4:kn();break;case 13:bi(n);break;case 19:tt(_e);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),Th(),t!==null&&tt(ss);break;case 24:Ai(ye)}}function Rl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,k=E;try{k()}catch(q){Qt(c,b,q)}}}l=l.next}while(l!==f)}}catch(q){Qt(n,n.return,q)}}function Kg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Pm(n,r)}catch(l){Qt(t,t.return,l)}}}function Xg(t,n,r){r.props=ls(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Qt(t,n,l)}}function wl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Qt(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(t,n,c)}else r.current=null}function $g(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Qt(t,t.return,c)}}function Xh(t,n,r){try{var l=t.stateNode;M0(l,t.type,r,n),l[ue]=n}catch(c){Qt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function $h(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ou));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,r),t=t.sibling;t!==null;)Zh(t,n,r),t=t.sibling}function vu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(vu(t,n,r),t=t.sibling;t!==null;)vu(t,n,r),t=t.sibling}function Jg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ve(n,l,r),n[me]=t,n[ue]=r}catch(f){Qt(t,t.return,f)}}var Ii=!1,oe=!1,Jh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Se=null;function f0(t,n){if(t=t.containerInfo,Sf=ku,t=cm(t),$c(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,k=0,q=0,F=t,x=null;e:for(;;){for(var z;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(z=F.firstChild)!==null;)x=F,F=z;for(;;){if(F===t)break e;if(x===r&&++k===c&&(E=y),x===f&&++q===l&&(b=y),(z=F.nextSibling)!==null)break;F=x,x=F.parentNode}F=z}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(bf={focusedElem:t,selectionRange:r},ku=!1,Se=n;Se!==null;)if(n=Se,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Se=t;else for(;Se!==null;){switch(n=Se,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ht=ls(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ot){Qt(r,r.return,ot)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)If(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Se=t;break}Se=n.return}}function tp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Rl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Qt(r,r.return,y)}else{var c=ls(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Qt(r,r.return,y)}}l&64&&Kg(r),l&512&&wl(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Pm(t,n)}catch(y){Qt(r,r.return,y)}}break;case 27:n===null&&l&4&&Jg(r);case 26:case 5:tr(t,r),n===null&&l&4&&$g(r),l&512&&wl(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&ip(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=T0.bind(null,r),z0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||oe,c=Ii;var f=oe;Ii=l,(oe=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ii=c,oe=f}break;case 30:break;default:tr(t,r)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zt=null,$e=!1;function Ci(t,n,r){for(r=r.child;r!==null;)np(t,n,r),r=r.sibling}function np(t,n,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ee,r)}catch{}switch(r.tag){case 26:oe||Zn(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Zn(r,n);var l=Zt,c=$e;lr(r.type)&&(Zt=r.stateNode,$e=!1),Ci(t,n,r),Pl(r.stateNode),Zt=l,$e=c;break;case 5:oe||Zn(r,n);case 6:if(l=Zt,c=$e,Zt=null,Ci(t,n,r),Zt=l,$e=c,Zt!==null)if($e)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{Zt.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:Zt!==null&&($e?(t=Zt,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ql(t)):Gp(Zt,r.stateNode));break;case 4:l=Zt,c=$e,Zt=r.stateNode.containerInfo,$e=!0,Ci(t,n,r),Zt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Wi(2,r,n),oe||Wi(4,r,n),Ci(t,n,r);break;case 1:oe||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Xg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ci(t,n,r),oe=l;break;default:Ci(t,n,r)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(r){Qt(n,n.return,r)}}function d0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(a(435,t.tag))}}function Wh(t,n){var r=d0(t);n.forEach(function(l){var c=A0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){Zt=E.stateNode,$e=!1;break t}break;case 5:Zt=E.stateNode,$e=!1;break t;case 3:case 4:Zt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Zt===null)throw Error(a(160));np(f,y,c),Zt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)rp(n,t),n=n.sibling}var Cn=null;function rp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),an(t),l&4&&(Wi(3,t,t.return),Rl(3,t),Wi(5,t,t.return));break;case 1:sn(n,t),an(t),l&512&&(oe||r===null||Zn(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Cn;if(sn(n,t),an(t),l&512&&(oe||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Lr]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ve(f,l,r),f[me]=t,ae(f),l=f;break t;case"link":var y=Jp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ve(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Jp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ve(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[me]=t,ae(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Wp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xh(t,t.memoizedProps,r.memoizedProps)}break;case 27:sn(n,t),an(t),l&512&&(oe||r===null||Zn(r,r.return)),r!==null&&l&4&&Xh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,t),an(t),l&512&&(oe||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(z){Qt(t,t.return,z)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Xh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Jh=!0);break;case 6:if(sn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(z){Qt(t,t.return,z)}}break;case 3:if(Uu=null,c=Cn,Cn=Mu(n.containerInfo),sn(n,t),Cn=c,an(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(z){Qt(t,t.return,z)}Jh&&(Jh=!1,sp(t));break;case 4:l=Cn,Cn=Mu(t.stateNode.containerInfo),sn(n,t),an(t),Cn=l;break;case 12:sn(n,t),an(t);break;case 13:sn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(af=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,k=Ii,q=oe;if(Ii=k||c,oe=q||b,sn(n,t),oe=q,Ii=k,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ii||oe||os(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,x=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(z){Qt(b,b.return,z)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(z){Qt(b,b.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wh(t,r))));break;case 19:sn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wh(t,l)));break;case 30:break;case 21:break;default:sn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Zg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=$h(t);vu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(fn(y,""),r.flags&=-33);var E=$h(t);vu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,k=$h(t);Zh(t,k,b);break;default:throw Error(a(161))}}catch(q){Qt(t,t.return,q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function os(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),os(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Xg(n,n.return,r),os(n);break;case 27:Pl(n.stateNode);case 26:case 5:Zn(n,n.return),os(n);break;case 22:n.memoizedState===null&&os(n);break;case 30:os(n);break;default:os(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),Rl(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Qt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Um(b[c],E)}catch(k){Qt(l,l.return,k)}}r&&y&64&&Kg(f),wl(f,f.return);break;case 27:Jg(f);case 26:case 5:er(c,f,r),r&&l===null&&y&4&&$g(f),wl(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&y&4&&ip(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),wl(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function tf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hl(r))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ap(t,n,r,l),n=n.sibling}function ap(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&Rl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Qt(n,n.return,b)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Il(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,ra(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&tf(y,n);break;case 24:Jn(t,n,r,l),c&2048&&ef(n.alternate,n);break;default:Jn(t,n,r,l)}}function ra(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,k=y.flags;switch(y.tag){case 0:case 11:case 15:ra(f,y,E,b,c),Rl(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?ra(f,y,E,b,c):Il(f,y):(q._visibility|=2,ra(f,y,E,b,c)),c&&k&2048&&tf(y.alternate,y);break;case 24:ra(f,y,E,b,c),c&&k&2048&&ef(y.alternate,y);break;default:ra(f,y,E,b,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Il(r,l),c&2048&&tf(l.alternate,l);break;case 24:Il(r,l),c&2048&&ef(l.alternate,l);break;default:Il(r,l)}n=n.sibling}}var Cl=8192;function sa(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 26:sa(t),t.flags&Cl&&t.memoizedState!==null&&J0(Cn,t.memoizedState,t.memoizedProps);break;case 5:sa(t);break;case 3:case 4:var n=Cn;Cn=Mu(t.stateNode.containerInfo),sa(t),Cn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,sa(t),Cl=n):sa(t));break;default:sa(t)}}function op(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Se=l,cp(l,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Dl(t);break;default:Dl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Se=l,cp(l,t)}op(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),Eu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function cp(t,n){for(;Se!==null;){var r=Se;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Se=l;else t:for(r=t;Se!==null;){l=Se;var c=l.sibling,f=l.return;if(ep(l),l===r){Se=null;break t}if(c!==null){c.return=f,Se=c;break t}Se=f}}}var m0={getCacheForType:function(t){var n=ze(ye),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},g0=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Kt=null,Tt=null,Dt=0,Ht=0,ln=null,nr=!1,aa=!1,nf=!1,Di=0,ie=0,ir=0,us=0,rf=0,Tn=0,la=0,Ol=null,Ze=null,sf=!1,af=0,Tu=1/0,Au=null,rr=null,Me=0,sr=null,oa=null,ua=0,lf=0,of=null,hp=null,Nl=0,uf=null;function on(){if((Bt&2)!==0&&Dt!==0)return Dt&-Dt;if(j.T!==null){var t=$s;return t!==0?t:pf()}return Bi()}function fp(){Tn===0&&(Tn=(Dt&536870912)===0||kt?Ba():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function un(t,n,r){(t===Kt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(ca(t,0),ar(t,Dt,Tn,!1)),li(t,r),((Bt&2)===0||t!==Kt)&&(t===Kt&&((Bt&2)===0&&(us|=r),ie===4&&ar(t,Dt,Tn,!1)),Wn(t))}function dp(t,n,r){if((Bt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Pr(t,n),c=l?_0(t,n):ff(t,n,!0),f=l;do{if(c===0){aa&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!p0(r)){c=ff(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Ol;var b=E.current.memoizedState.isDehydrated;if(b&&(ca(E,y).flags|=256),y=ff(E,y,!1),y!==2){if(nf&&!b){E.errorRecoveryDisabledLanes|=f,us|=f,c=4;break t}f=Ze,Ze=c,f!==null&&(Ze===null?Ze=f:Ze.push.apply(Ze,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ca(t,0),ar(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,Tn,!nr);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=af+300-cn(),10<c)){if(ar(l,n,Tn,!nr),Is(l,0,!0)!==0)break t;l.timeoutHandle=jp(mp.bind(null,l,r,Ze,Au,sf,n,Tn,us,la,nr,f,2,-0,0),c);break t}mp(l,r,Ze,Au,sf,n,Tn,us,la,nr,f,0,-0,0)}}break}while(!0);Wn(t)}function mp(t,n,r,l,c,f,y,E,b,k,q,F,x,z){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:Z0},lp(n),F=W0(),F!==null)){t.cancelPendingCommit=F(Tp.bind(null,t,n,f,r,l,c,y,E,b,q,1,x,z)),ar(t,f,y,!k);return}Tp(t,n,f,r,l,c,y,E,b)}function p0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~rf,n&=~us,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-xe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&xn(t,r,n)}function Su(){return(Bt&6)===0?(Ml(0),!1):!0}function cf(){if(Tt!==null){if(Ht===0)var t=Tt.return;else t=Tt,Ti=is=null,wh(t),na=null,Al=0,t=Tt;for(;t!==null;)Yg(t.alternate,t),t=t.return;Tt=null}}function ca(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,U0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cf(),Kt=t,Tt=r=_i(t.current,null),Dt=n,Ht=0,ln=null,nr=!1,aa=Pr(t,n),nf=!1,la=Tn=rf=us=ir=ie=0,Ze=Ol=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-xe(l),f=1<<c;n|=t[c],l&=~f}return Di=n,Fo(),r}function gp(t,n){_t=null,j.H=cu,n===dl||n===tu?(n=Mm(),Ht=3):n===Dm?(n=Mm(),Ht=4):Ht=n===Vg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Tt===null&&(ie=1,gu(t,pn(n,t.current)))}function pp(){var t=j.H;return j.H=cu,t===null?cu:t}function yp(){var t=j.A;return j.A=m0,t}function hf(){ie=4,nr||(Dt&4194048)!==Dt&&En.current!==null||(aa=!0),(ir&134217727)===0&&(us&134217727)===0||Kt===null||ar(Kt,Dt,Tn,!1)}function ff(t,n,r){var l=Bt;Bt|=2;var c=pp(),f=yp();(Kt!==t||Dt!==n)&&(Au=null,ca(t,n)),n=!1;var y=ie;t:do try{if(Ht!==0&&Tt!==null){var E=Tt,b=ln;switch(Ht){case 8:cf(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var k=Ht;if(Ht=0,ln=null,ha(t,E,b,k),r&&aa){y=0;break t}break;default:k=Ht,Ht=0,ln=null,ha(t,E,b,k)}}y0(),y=ie;break}catch(q){gp(t,q)}while(!0);return n&&t.shellSuspendCounter++,Ti=is=null,Bt=l,j.H=c,j.A=f,Tt===null&&(Kt=null,Dt=0,Fo()),y}function y0(){for(;Tt!==null;)_p(Tt)}function _0(t,n){var r=Bt;Bt|=2;var l=pp(),c=yp();Kt!==t||Dt!==n?(Au=null,Tu=cn()+500,ca(t,n)):aa=Pr(t,n);t:do try{if(Ht!==0&&Tt!==null){n=Tt;var f=ln;e:switch(Ht){case 1:Ht=0,ln=null,ha(t,n,f,1);break;case 2:case 9:if(Om(f)){Ht=0,ln=null,vp(n);break}n=function(){Ht!==2&&Ht!==9||Kt!==t||(Ht=7),Wn(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Om(f)?(Ht=0,ln=null,vp(n)):(Ht=0,ln=null,ha(t,n,f,7));break;case 5:var y=null;switch(Tt.tag){case 26:y=Tt.memoizedState;case 5:case 27:var E=Tt;if(!y||ty(y)){Ht=0,ln=null;var b=E.sibling;if(b!==null)Tt=b;else{var k=E.return;k!==null?(Tt=k,bu(k)):Tt=null}break e}}Ht=0,ln=null,ha(t,n,f,5);break;case 6:Ht=0,ln=null,ha(t,n,f,6);break;case 8:cf(),ie=6;break t;default:throw Error(a(462))}}v0();break}catch(q){gp(t,q)}while(!0);return Ti=is=null,j.H=l,j.A=c,Bt=r,Tt!==null?0:(Kt=null,Dt=0,Fo(),ie)}function v0(){for(;Tt!==null&&!La();)_p(Tt)}function _p(t){var n=Fg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?bu(t):Tt=n}function vp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=zg(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=zg(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:wh(n);default:Yg(r,n),n=Tt=Em(n,Di),n=Fg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?bu(t):Tt=n}function ha(t,n,r,l){Ti=is=null,wh(n),na=null,Al=0;var c=n.return;try{if(o0(t,c,n,r,Dt)){ie=1,gu(t,pn(r,t.current)),Tt=null;return}}catch(f){if(c!==null)throw Tt=c,f;ie=1,gu(t,pn(r,t.current)),Tt=null;return}n.flags&32768?(kt||l===1?t=!0:aa||(Dt&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):bu(n)}function bu(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,nr);return}t=n.return;var r=c0(n.alternate,n,Di);if(r!==null){Tt=r;return}if(n=n.sibling,n!==null){Tt=n;return}Tt=n=t}while(n!==null);ie===0&&(ie=5)}function Ep(t,n){do{var r=h0(t.alternate,t);if(r!==null){r.flags&=32767,Tt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Tt=t;return}Tt=t=r}while(t!==null);ie=6,Tt=null}function Tp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do Ru();while(Me!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=eh,ja(t,r,f,y,E,b),t===Kt&&(Tt=Kt=null,Dt=0),oa=n,sr=t,ua=r,lf=f,of=c,hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,S0(Nr,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=W.p,W.p=2,y=Bt,Bt|=4;try{f0(t,n,r)}finally{Bt=y,W.p=c,j.T=l}}Me=1,Ap(),Sp(),bp()}}function Ap(){if(Me===1){Me=0;var t=sr,n=oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var c=Bt;Bt|=4;try{rp(n,t);var f=bf,y=cm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(b!==null&&$c(E)){var k=b.start,q=b.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,x=F&&F.defaultView||window;if(x.getSelection){var z=x.getSelection(),ht=E.textContent.length,ot=Math.min(b.start,ht),Ft=b.end===void 0?ot:Math.min(b.end,ht);!z.extend&&ot>Ft&&(y=Ft,Ft=ot,ot=y);var M=om(E,ot),C=om(E,Ft);if(M&&C&&(z.rangeCount!==1||z.anchorNode!==M.node||z.anchorOffset!==M.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var L=F.createRange();L.setStart(M.node,M.offset),z.removeAllRanges(),ot>Ft?(z.addRange(L),z.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),z.addRange(L))}}}}for(F=[],z=E;z=z.parentNode;)z.nodeType===1&&F.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ku=!!Sf,bf=Sf=null}finally{Bt=c,W.p=l,j.T=r}}t.current=n,Me=2}}function Sp(){if(Me===2){Me=0;var t=sr,n=oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var c=Bt;Bt|=4;try{tp(t,n.alternate,n)}finally{Bt=c,W.p=l,j.T=r}}Me=3}}function bp(){if(Me===4||Me===3){Me=0,Eo();var t=sr,n=oa,r=ua,l=hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,oa=sr=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),Cs(r),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ee,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=W.p,W.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,W.p=c}}(ua&3)!==0&&Ru(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===uf?Nl++:(Nl=0,uf=t):Nl=0,Ml(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function Ru(t){return Ap(),Sp(),bp(),wp()}function wp(){if(Me!==5)return!1;var t=sr,n=lf;lf=0;var r=Cs(ua),l=j.T,c=W.p;try{W.p=32>r?32:r,j.T=null,r=of,of=null;var f=sr,y=ua;if(Me=0,oa=sr=null,ua=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,up(f.current),ap(f,f.current,y,r),Bt=E,Ml(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ee,f)}catch{}return!0}finally{W.p=c,j.T=l,Rp(t,n)}}function Ip(t,n,r){n=pn(r,n),n=Bh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(li(t,2),Wn(t))}function Qt(t,n,r){if(t.tag===3)Ip(t,t,r);else for(;n!==null;){if(n.tag===3){Ip(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=pn(r,t),r=Ng(2),l=Xi(n,r,2),l!==null&&(Mg(r,l,n,t),li(l,2),Wn(l));break}}n=n.return}}function df(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new g0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(nf=!0,c.add(r),t=E0.bind(null,t,n,r),n.then(t,t))}function E0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Dt&r)===r&&(ie===4||ie===3&&(Dt&62914560)===Dt&&300>cn()-af?(Bt&2)===0&&ca(t,0):rf|=r,la===Dt&&(la=0)),Wn(t)}function Cp(t,n){n===0&&(n=Ha()),t=Qs(t,n),t!==null&&(li(t,n),Wn(t))}function T0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Cp(t,r)}function A0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Cp(t,r)}function S0(t,n){return Dr(t,n)}var wu=null,fa=null,mf=!1,Iu=!1,gf=!1,cs=0;function Wn(t){t!==fa&&t.next===null&&(fa===null?wu=fa=t:fa=fa.next=t),Iu=!0,mf||(mf=!0,R0())}function Ml(t,n){if(!gf&&Iu){gf=!0;do for(var r=!1,l=wu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-xe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Mp(l,f))}else f=Dt,f=Is(l,l===Kt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pr(l,f)||(r=!0,Mp(l,f));l=l.next}while(r);gf=!1}}function b0(){Dp()}function Dp(){Iu=mf=!1;var t=0;cs!==0&&(V0()&&(t=cs),cs=0);for(var n=cn(),r=null,l=wu;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,r===null?wu=c:r.next=c,c===null&&(fa=r)):(r=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=c}Ml(t)}function Op(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-xe(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=za(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=Dt,r=Is(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Or(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Or(l),Cs(r)){case 2:case 8:r=Rs;break;case 32:r=Nr;break;case 268435456:r=ws;break;default:r=Nr}return l=Np.bind(null,t),r=Dr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Or(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ru()&&t.callbackNode!==r)return null;var l=Dt;return l=Is(t,t===Kt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dp(t,l,n),Op(t,cn()),t.callbackNode!=null&&t.callbackNode===r?Np.bind(null,t):null)}function Mp(t,n){if(Ru())return null;dp(t,n,!0)}function R0(){P0(function(){(Bt&6)!==0?Dr(ka,b0):Dp()})}function pf(){return cs===0&&(cs=Ba()),cs}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Us(""+t)}function Up(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function w0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Vp((c[ue]||null).action),y=l.submitter;y&&(n=(n=y[ue]||null)?Vp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ps("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var b=y?Up(c,y):new FormData(c);Ph(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Up(c,y):new FormData(c),Ph(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var yf=0;yf<th.length;yf++){var _f=th[yf],I0=_f.toLowerCase(),C0=_f[0].toUpperCase()+_f.slice(1);In(I0,"on"+C0)}In(dm,"onAnimationEnd"),In(mm,"onAnimationIteration"),In(gm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(FE,"onTransitionRun"),In(QE,"onTransitionStart"),In(YE,"onTransitionCancel"),In(pm,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Pp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,k=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(q){mu(q)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,k=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(q){mu(q)}c.currentTarget=null,f=b}}}}function At(t,n){var r=n[Ga];r===void 0&&(r=n[Ga]=new Set);var l=t+"__bubble";r.has(l)||(Lp(n,t,2,!1),r.add(l))}function vf(t,n,r){var l=0;n&&(l|=4),Lp(r,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[Cu]){t[Cu]=!0,Fa.forEach(function(r){r!=="selectionchange"&&(D0.has(r)||vf(r,!1,t),vf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,vf("selectionchange",!1,n))}}function Lp(t,n,r,l){switch(ay(n)){case 2:var c=nT;break;case 8:c=iT;break;default:c=Uf}r=c.bind(null,n,r,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Oo(function(){var k=f,q=dn(r),F=[];t:{var x=ym.get(t);if(x!==void 0){var z=Ps,ht=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":z=Hs;break;case"focusin":ht="focus",z=xs;break;case"focusout":ht="blur",z=xs;break;case"beforeblur":case"afterblur":z=xs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=xo;break;case dm:case mm:case gm:z=zs;break;case pm:z=Bo;break;case"scroll":case"scrollend":z=No;break;case"wheel":z=js;break;case"copy":case"cut":case"paste":z=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=il;break;case"toggle":case"beforetoggle":z=jo}var ot=(n&4)!==0,Ft=!ot&&(t==="scroll"||t==="scrollend"),M=ot?x!==null?x+"Capture":null:x;ot=[];for(var C=k,L;C!==null;){var G=C;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=qr(C,M),G!=null&&ot.push(Ul(C,G,L))),Ft)break;C=C.return}0<ot.length&&(x=new z(x,ht,null,r,q),F.push({event:x,listeners:ot}))}}if((n&7)===0){t:{if(x=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",x&&r!==fi&&(ht=r.relatedTarget||r.fromElement)&&(oi(ht)||ht[hn]))break t;if((z||x)&&(x=q.window===q?q:(x=q.ownerDocument)?x.defaultView||x.parentWindow:window,z?(ht=r.relatedTarget||r.toElement,z=k,ht=ht?oi(ht):null,ht!==null&&(Ft=h(ht),ot=ht.tag,ht!==Ft||ot!==5&&ot!==27&&ot!==6)&&(ht=null)):(z=null,ht=k),z!==ht)){if(ot=gn,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ot=il,G="onPointerLeave",M="onPointerEnter",C="pointer"),Ft=z==null?x:Bn(z),L=ht==null?x:Bn(ht),x=new ot(G,C+"leave",z,r,q),x.target=Ft,x.relatedTarget=L,G=null,oi(q)===k&&(ot=new ot(M,C+"enter",ht,r,q),ot.target=L,ot.relatedTarget=Ft,G=ot),Ft=G,z&&ht)e:{for(ot=z,M=ht,C=0,L=ot;L;L=da(L))C++;for(L=0,G=M;G;G=da(G))L++;for(;0<C-L;)ot=da(ot),C--;for(;0<L-C;)M=da(M),L--;for(;C--;){if(ot===M||M!==null&&ot===M.alternate)break e;ot=da(ot),M=da(M)}ot=null}else ot=null;z!==null&&kp(F,x,z,ot,!1),ht!==null&&Ft!==null&&kp(F,Ft,ht,ot,!0)}}t:{if(x=k?Bn(k):window,z=x.nodeName&&x.nodeName.toLowerCase(),z==="select"||z==="input"&&x.type==="file")var nt=nm;else if(pe(x))if(im)nt=jE;else{nt=BE;var Et=zE}else z=x.nodeName,!z||z.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?k&&$a(k.elementType)&&(nt=nm):nt=HE;if(nt&&(nt=nt(t,k))){yi(F,nt,r,q);break t}Et&&Et(t,x,k),t==="focusout"&&k&&x.type==="number"&&k.memoizedProps.value!=null&&Gi(x,"number",x.value)}switch(Et=k?Bn(k):window,t){case"focusin":(pe(Et)||Et.contentEditable==="true")&&(qs=Et,Zc=k,al=null);break;case"focusout":al=Zc=qs=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,hm(F,r,q);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":hm(F,r,q)}var rt;if(Yn)t:{switch(t){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else It?B(t,r)&&(ut="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ut="onCompositionStart");ut&&(g&&r.locale!=="ko"&&(It||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&It&&(rt=Ja()):(qn=q,Fi="value"in qn?qn.value:qn.textContent,It=!0)),Et=Du(k,ut),0<Et.length&&(ut=new el(ut,t,null,r,q),F.push({event:ut,listeners:Et}),rt?ut.data=rt:(rt=$(r),rt!==null&&(ut.data=rt)))),(rt=m?ge(t,r):Ct(t,r))&&(ut=Du(k,"onBeforeInput"),0<ut.length&&(Et=new el("onBeforeInput","beforeinput",null,r,q),F.push({event:Et,listeners:ut}),Et.data=rt)),w0(F,t,k,r,q)}Pp(F,n)})}function Ul(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Du(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(Ul(t,c,f)),c=qr(t,n),c!=null&&l.push(Ul(t,c,f))),t.tag===3)return l;t=t.return}return[]}function da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,k=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||k===null||(b=k,c?(k=qr(r,f),k!=null&&y.unshift(Ul(r,k,b))):c||(k=qr(r,f),k!=null&&y.push(Ul(r,k,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var O0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(O0,`
`).replace(N0,"")}function zp(t,n){return n=xp(n),xp(t)===n}function Ou(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,r,l);break;case"style":Xa(t,l,f);break;case"data":if(n!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Us(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Us(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ou);break;case"onScroll":l!=null&&At("scroll",t);break;case"onScrollEnd":l!=null&&At("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":At("beforetoggle",t),At("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":De(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Gc.get(r)||r,qi(t,r,l))}}function Af(t,n,r,l,c,f){switch(r){case"style":Xa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&At("scroll",t);break;case"onScrollEnd":l!=null&&At("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):qi(t,r,l)}}}function Ve(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",t),At("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,y,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":At("invalid",t);var E=f=y=c=null,b=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":c=q;break;case"type":y=q;break;case"checked":b=q;break;case"defaultChecked":k=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Gt(t,n,l,q,r,null)}}Br(t,f,E,b,k,y,c,!1),Vs(t);return;case"select":At("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):r!=null&&hi(t,!!l,r,!0);return;case"textarea":At("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,y,E,r,null)}Hr(t,l,c,f),Vs(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,b,l,r,null)}return;case"dialog":At("beforetoggle",t),At("toggle",t),At("cancel",t),At("close",t);break;case"iframe":case"object":At("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)At(Vl[l],t);break;case"image":At("error",t),At("load",t);break;case"details":At("toggle",t);break;case"embed":case"source":case"link":At("error",t),At("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,k,l,r,null)}return;default:if($a(n)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&Af(t,n,q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function M0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,k=null,q=null;for(z in r){var F=r[z];if(r.hasOwnProperty(z)&&F!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(z)||Gt(t,n,z,null,l,F)}}for(var x in l){var z=l[x];if(F=r[x],l.hasOwnProperty(x)&&(z!=null||F!=null))switch(x){case"type":f=z;break;case"name":c=z;break;case"checked":k=z;break;case"defaultChecked":q=z;break;case"value":y=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:z!==F&&Gt(t,n,x,z,l,F)}}en(t,y,E,b,k,q,f,c);return;case"select":z=y=E=x=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":z=b;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":x=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Gt(t,n,c,f,l,b)}n=E,r=y,l=z,x!=null?hi(t,!!r,x,!1):!!l!=!!r&&(n!=null?hi(t,!!r,n,!0):hi(t,!!r,r?[]:"",!1));return;case"textarea":z=x=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":x=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,y,c,l,f)}jt(t,x,z);return;case"option":for(var ht in r)if(x=r[ht],r.hasOwnProperty(ht)&&x!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Gt(t,n,ht,null,l,x)}for(b in l)if(x=l[b],z=r[b],l.hasOwnProperty(b)&&x!==z&&(x!=null||z!=null))switch(b){case"selected":t.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Gt(t,n,b,x,l,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in r)x=r[ot],r.hasOwnProperty(ot)&&x!=null&&!l.hasOwnProperty(ot)&&Gt(t,n,ot,null,l,x);for(k in l)if(x=l[k],z=r[k],l.hasOwnProperty(k)&&x!==z&&(x!=null||z!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,n));break;default:Gt(t,n,k,x,l,z)}return;default:if($a(n)){for(var Ft in r)x=r[Ft],r.hasOwnProperty(Ft)&&x!==void 0&&!l.hasOwnProperty(Ft)&&Af(t,n,Ft,void 0,l,x);for(q in l)x=l[q],z=r[q],!l.hasOwnProperty(q)||x===z||x===void 0&&z===void 0||Af(t,n,q,x,l,z);return}}for(var M in r)x=r[M],r.hasOwnProperty(M)&&x!=null&&!l.hasOwnProperty(M)&&Gt(t,n,M,null,l,x);for(F in l)x=l[F],z=r[F],!l.hasOwnProperty(F)||x===z||x==null&&z==null||Gt(t,n,F,x,l,z)}var Sf=null,bf=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function V0(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(L0)}:jp;function L0(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function Gp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Pl(y.documentElement),r&2&&Pl(y.body),r&4)for(r=y.head,Pl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Lr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),ql(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);ql(n)}function If(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":If(r),ji(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function k0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function x0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Dn(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function z0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Df=null;function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,r){switch(n=Nu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var An=new Map,Yp=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=W.d;W.d={f:B0,r:H0,D:j0,C:q0,L:G0,m:F0,X:Y0,S:Q0,M:K0};function B0(){var t=Oi.f(),n=Su();return t||n}function H0(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):Oi.r(t)}var ma=typeof document>"u"?null:document;function Kp(t,n,r){var l=ma;if(l&&typeof n=="string"&&n){var c=ce(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ve(n,"link",t),ae(n),l.head.appendChild(n)))}}function j0(t){Oi.D(t),Kp("dns-prefetch",t,null)}function q0(t,n){Oi.C(t,n),Kp("preconnect",t,n)}function G0(t,n,r){Oi.L(t,n,r);var l=ma;if(l&&t&&n){var c='link[rel="preload"][as="'+ce(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ce(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ce(r.imageSizes)+'"]')):c+='[href="'+ce(t)+'"]';var f=c;switch(n){case"style":f=ga(t);break;case"script":f=pa(t)}An.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),Ve(n,"link",t),ae(n),l.head.appendChild(n)))}}function F0(t,n){Oi.m(t,n);var r=ma;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ce(l)+'"][href="'+ce(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pa(t)}if(!An.has(f)&&(t=S({rel:"modulepreload",href:t},n),An.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kl(f)))return}l=r.createElement("link"),Ve(l,"link",t),ae(l),r.head.appendChild(l)}}}function Q0(t,n,r){Oi.S(t,n,r);var l=ma;if(l&&t){var c=Fe(l).hoistableStyles,f=ga(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ll(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=An.get(f))&&Of(t,r);var b=y=l.createElement("link");ae(b),Ve(b,"link",t),b._p=new Promise(function(k,q){b.onload=k,b.onerror=q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function Y0(t,n){Oi.X(t,n);var r=ma;if(r&&t){var l=Fe(r).hoistableScripts,c=pa(t),f=l.get(c);f||(f=r.querySelector(kl(c)),f||(t=S({src:t,async:!0},n),(n=An.get(c))&&Nf(t,n),f=r.createElement("script"),ae(f),Ve(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function K0(t,n){Oi.M(t,n);var r=ma;if(r&&t){var l=Fe(r).hoistableScripts,c=pa(t),f=l.get(c);f||(f=r.querySelector(kl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=An.get(c))&&Nf(t,n),f=r.createElement("script"),ae(f),Ve(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Xp(t,n,r,l){var c=(c=dt.current)?Mu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ga(r.href),r=Fe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ga(r.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ll(t)))&&!f._p&&(y.instance=f,y.state.loading=5),An.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},An.set(t,r),f||X0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pa(r),r=Fe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ga(t){return'href="'+ce(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function $p(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function X0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ve(n,"link",r),ae(n),t.head.appendChild(n))}function pa(t){return'[src="'+ce(t)+'"]'}function kl(t){return"script[async]"+t}function Zp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ce(r.href)+'"]');if(l)return n.instance=l,ae(l),l;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ae(l),Ve(l,"style",c),Vu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ga(r.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,ae(f),f;l=$p(r),(c=An.get(c))&&Of(l,c),f=(t.ownerDocument||t).createElement("link"),ae(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ve(f,"link",l),n.state.loading|=4,Vu(f,r.precedence,t),n.instance=f;case"script":return f=pa(r.src),(c=t.querySelector(kl(f)))?(n.instance=c,ae(c),c):(l=r,(c=An.get(f))&&(l=S({},r),Nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ae(c),Ve(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vu(l,r.precedence,t));return n.instance}function Vu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function Jp(t,n,r){if(Uu===null){var l=new Map,c=Uu=new Map;c.set(r,l)}else c=Uu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Lr]||f[me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Wp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function $0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function Z0(){}function J0(t,n,r){if(xl===null)throw Error(a(475));var l=xl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ga(r.href),f=t.querySelector(Ll(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ae(f);return}f=t.ownerDocument||t,r=$p(r),(c=An.get(c))&&Of(r,c),f=f.createElement("link"),ae(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ve(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function W0(){if(xl===null)throw Error(a(475));var t=xl;return t.stylesheets&&t.count===0&&Mf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Mf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Pu(){if(this.count--,this.count===0){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Mf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(tT,t),Lu=null,Pu.call(t))}function tT(t,n){if(!(n.state.loading&4)){var r=Lu.get(t);if(r)var l=r.get(null);else{r=new Map,Lu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function eT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ey(t,n,r,l,c,f,y,E,b,k,q,F){return t=new eT(t,n,r,y,E,b,k,F),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=fh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ph(f),t}function ny(t){return t?(t=Ys,t):Ys}function iy(t,n,r,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(un(r,t,n),gl(r,t,n))}function ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Vf(t,n){ry(t,n),(t=t.alternate)&&ry(t,n)}function sy(t){if(t.tag===13){var n=Qs(t,67108864);n!==null&&un(n,t,67108864),Vf(t,67108864)}}var ku=!0;function nT(t,n,r,l){var c=j.T;j.T=null;var f=W.p;try{W.p=2,Uf(t,n,r,l)}finally{W.p=f,j.T=c}}function iT(t,n,r,l){var c=j.T;j.T=null;var f=W.p;try{W.p=8,Uf(t,n,r,l)}finally{W.p=f,j.T=c}}function Uf(t,n,r,l){if(ku){var c=Pf(l);if(c===null)Tf(t,n,l,xu,r),ly(t,l);else if(sT(c,t,n,r,l))l.stopPropagation();else if(ly(t,l),n&4&&-1<rT.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=bn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-xe(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Bt&6)===0&&(Tu=cn()+500,Ml(0))}}break;case 13:E=Qs(f,2),E!==null&&un(E,f,2),Su(),Vf(f,2)}if(f=Pf(l),f===null&&Tf(t,n,l,xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Tf(t,n,l,null,r)}}function Pf(t){return t=dn(t),Lf(t)}var xu=null;function Lf(t){if(xu=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case ka:return 2;case Rs:return 8;case Nr:case zc:return 32;case ws:return 268435456;default:return 32}default:return 32}}var kf=!1,or=null,ur=null,cr=null,Bl=new Map,Hl=new Map,hr=[],rT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function jl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function sT(t,n,r,l,c){switch(n){case"focusin":return or=jl(or,t,n,r,l,c),!0;case"dragenter":return ur=jl(ur,t,n,r,l,c),!0;case"mouseover":return cr=jl(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Bl.set(f,jl(Bl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Hl.set(f,jl(Hl.get(f)||null,t,n,r,l,c)),!0}return!1}function oy(t){var n=oi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,So(t.priority,function(){if(r.tag===13){var l=on();l=zi(l);var c=Qs(r,l);c!==null&&un(c,r,l),Vf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Pf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);fi=l,r.target.dispatchEvent(l),fi=null}else return n=zn(r),n!==null&&sy(n),t.blockedOn=r,!1;n.shift()}return!0}function uy(t,n,r){zu(t)&&r.delete(n)}function aT(){kf=!1,or!==null&&zu(or)&&(or=null),ur!==null&&zu(ur)&&(ur=null),cr!==null&&zu(cr)&&(cr=null),Bl.forEach(uy),Hl.forEach(uy)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,kf||(kf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aT)))}var Hu=null;function cy(t){Hu!==t&&(Hu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Lf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,Ph(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function ql(t){function n(b){return Bu(b,t)}or!==null&&Bu(or,t),ur!==null&&Bu(ur,t),cr!==null&&Bu(cr,t),Bl.forEach(n),Hl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)oy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ue]||null;if(typeof f=="function")y||cy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ue]||null)E=y.formAction;else if(Lf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),cy(r)}}}function xf(t){this._internalRoot=t}ju.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();iy(r,l,t,n,null,null)},ju.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),Su(),n[hn]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&oy(t)}};var hy=e.version;if(hy!=="19.1.0")throw Error(a(527,hy,"19.1.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var lT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ee=qu.inject(lT),zt=qu}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Ig,f=Cg,y=Dg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ey(t,1,!1,null,null,r,l,c,f,y,E,null),t[hn]=n.current,Ef(t),new xf(n)},Fl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Ig,y=Cg,E=Dg,b=null,k=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(k=r.formState)),n=ey(t,1,!0,n,r??null,l,c,f,y,E,b,k),n.context=ny(null),r=n.current,l=on(),l=zi(l),c=Ki(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,li(n,r),Wn(n),t[hn]=n.current,Ef(t),new ju(n)},Fl.version="19.1.0",Fl}var Ty;function yT(){if(Ty)return Hf.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hf.exports=pT(),Hf.exports}var _T=yT();const vT="/react.svg",ET="/vite.svg",TT=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},AT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},H_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,S=h>>2,V=(h&3)<<4|p>>4;let H=(p&15)<<2|v>>6,Z=v&63;_||(Z=64,d||(H=64)),a.push(i[S],i[V],i[H],i[Z])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(B_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const V=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||v==null||V==null)throw new ST;const H=h<<2|p>>4;if(a.push(H),v!==64){const Z=p<<4&240|v>>2;if(a.push(Z),V!==64){const J=v<<6&192|V;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ST extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(s){const e=B_(s);return H_.encodeByteArray(e,!0)},rc=function(s){return bT(s).replace(/\./g,"")},j_=function(s){try{return H_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=()=>RT().__FIREBASE_DEFAULTS__,IT=()=>{if(typeof process>"u"||typeof Ay>"u")return;const s=Ay.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&j_(s[1]);return e&&JSON.parse(e)},bc=()=>{try{return TT()||wT()||IT()||CT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},q_=s=>{var e,i;return(i=(e=bc())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},DT=s=>{const e=q_(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},G_=()=>{var s;return(s=bc())===null||s===void 0?void 0:s.config},F_=s=>{var e;return(e=bc())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function VT(){var s;const e=(s=bc())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function LT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kT(){const s=Ge();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xT(){return!VT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class ki extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=HT,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?jT(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ki(o,p,a)}}function jT(s,e){return s.replace(qT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const qT=/\{\$([^}]+)}/g;function GT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function gs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(Sy(h)&&Sy(d)){if(!gs(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Sy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Yl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,h]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(h)}}),e}function Kl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function FT(s,e){const i=new QT(s,e);return i.subscribe.bind(i)}class QT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");YT(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ff),o.error===void 0&&(o.error=Ff),o.complete===void 0&&(o.complete=Ff);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YT(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ff(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(s){return s&&s._delegate?s._delegate:s}class ps{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new OT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($T(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(s){return s===hs?void 0:s}function $T(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Rt||(Rt={}));const JT={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},WT=Rt.INFO,tA={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},eA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=tA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=WT,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const nA=(s,e)=>e.some(i=>s instanceof i);let by,Ry;function iA(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rA(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,ed=new WeakMap,Y_=new WeakMap,Qf=new WeakMap,Sd=new WeakMap;function sA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Q_.set(i,s)}).catch(()=>{}),Sd.set(e,s),e}function aA(s){if(ed.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});ed.set(s,e)}let nd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ed.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Y_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function lA(s){nd=s(nd)}function oA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Yf(this),e,...i);return Y_.set(a,e.sort?e.sort():[e]),_r(a)}:rA().includes(s)?function(...e){return s.apply(Yf(this),e),_r(Q_.get(this))}:function(...e){return _r(s.apply(Yf(this),e))}}function uA(s){return typeof s=="function"?oA(s):(s instanceof IDBTransaction&&aA(s),nA(s,iA())?new Proxy(s,nd):s)}function _r(s){if(s instanceof IDBRequest)return sA(s);if(Qf.has(s))return Qf.get(s);const e=uA(s);return e!==s&&(Qf.set(s,e),Sd.set(e,s)),e}const Yf=s=>Sd.get(s);function cA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),p=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const hA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],Kf=new Map;function wy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=fA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||hA.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return Kf.set(e,h),h}lA(s=>({...s,get:(e,i,a)=>wy(e,i)||s.get(e,i,a),has:(e,i)=>!!wy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(mA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function mA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const id="@firebase/app",Iy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Ad("@firebase/app"),gA="@firebase/app-compat",pA="@firebase/analytics-compat",yA="@firebase/analytics",_A="@firebase/app-check-compat",vA="@firebase/app-check",EA="@firebase/auth",TA="@firebase/auth-compat",AA="@firebase/database",SA="@firebase/data-connect",bA="@firebase/database-compat",RA="@firebase/functions",wA="@firebase/functions-compat",IA="@firebase/installations",CA="@firebase/installations-compat",DA="@firebase/messaging",OA="@firebase/messaging-compat",NA="@firebase/performance",MA="@firebase/performance-compat",VA="@firebase/remote-config",UA="@firebase/remote-config-compat",PA="@firebase/storage",LA="@firebase/storage-compat",kA="@firebase/firestore",xA="@firebase/vertexai",zA="@firebase/firestore-compat",BA="firebase",HA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",jA={[id]:"fire-core",[gA]:"fire-core-compat",[yA]:"fire-analytics",[pA]:"fire-analytics-compat",[vA]:"fire-app-check",[_A]:"fire-app-check-compat",[EA]:"fire-auth",[TA]:"fire-auth-compat",[AA]:"fire-rtdb",[SA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[RA]:"fire-fn",[wA]:"fire-fn-compat",[IA]:"fire-iid",[CA]:"fire-iid-compat",[DA]:"fire-fcm",[OA]:"fire-fcm-compat",[NA]:"fire-perf",[MA]:"fire-perf-compat",[VA]:"fire-rc",[UA]:"fire-rc-compat",[PA]:"fire-gcs",[LA]:"fire-gcs-compat",[kA]:"fire-fst",[zA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[BA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,qA=new Map,sd=new Map;function Cy(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ba(s){const e=s.name;if(sd.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;sd.set(e,s);for(const i of sc.values())Cy(i,s);for(const i of qA.values())Cy(i,s);return!0}function bd(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Nn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new uo("app","Firebase",GA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=HA;function Rd(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:rd,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=G_()),!i)throw vr.create("no-options");const h=sc.get(o);if(h){if(gs(i,h.options)&&gs(a,h.config))return h;throw vr.create("duplicate-app",{appName:o})}const d=new ZT(o);for(const _ of sd.values())d.addComponent(_);const p=new FA(i,a,d);return sc.set(o,p),p}function K_(s=rd){const e=sc.get(s);if(!e&&s===rd&&G_())return Rd();if(!e)throw vr.create("no-app",{appName:s});return e}function Er(s,e,i){var a;let o=(a=jA[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${o}" with version "${e}":`];h&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(p.join(" "));return}ba(new ps(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebase-heartbeat-database",YA=1,eo="firebase-heartbeat-store";let Xf=null;function X_(){return Xf||(Xf=cA(QA,YA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Xf}async function KA(s){try{const i=(await X_()).transaction(eo),a=await i.objectStore(eo).get($_(s));return await i.done,a}catch(e){if(e instanceof ki)Pi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function Dy(s,e){try{const a=(await X_()).transaction(eo,"readwrite");await a.objectStore(eo).put(e,$_(s)),await a.done}catch(i){if(i instanceof ki)Pi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(a.message)}}}function $_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=1024,$A=30;class ZA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new WA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>$A){const d=tS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Oy(),{heartbeatsToSend:a,unsentEntries:o}=JA(this._heartbeatsCache.heartbeats),h=rc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Pi.warn(i),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function JA(s,e=XA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ny(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ny(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class WA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?BT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ny(s){return rc(JSON.stringify({version:2,heartbeats:s})).length}function tS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(s){ba(new ps("platform-logger",e=>new dA(e),"PRIVATE")),ba(new ps("heartbeat",e=>new ZA(e),"PRIVATE")),Er(id,Iy,s),Er(id,Iy,"esm2017"),Er("fire-js","")}eS("");function wd(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function Z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nS=Z_,J_=new uo("auth","Firebase",Z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Ad("@firebase/auth");function iS(s,...e){ac.logLevel<=Rt.WARN&&ac.warn(`Auth (${Na}): ${s}`,...e)}function $u(s,...e){ac.logLevel<=Rt.ERROR&&ac.error(`Auth (${Na}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(s,...e){throw Id(s,...e)}function ei(s,...e){return Id(s,...e)}function W_(s,e,i){const a=Object.assign(Object.assign({},nS()),{[e]:i});return new uo("auth","Firebase",a).create(e,{appName:s.name})}function Tr(s){return W_(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Id(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return J_.create(s,...e)}function ct(s,e,...i){if(!s)throw Id(e,...i)}function Ni(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $u(e),new Error(e)}function Li(s,e){s||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function rS(){return My()==="http:"||My()==="https:"}function My(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rS()||PT()||"connection"in navigator)?navigator.onLine:!0}function aS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i){this.shortDelay=e,this.longDelay=i,Li(i>e,"Short delay should be less than long delay!"),this.isMobile=MT()||LT()}get(){return sS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(s,e){Li(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uS=new ho(3e4,6e4);function As(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ir(s,e,i,a,o={}){return ev(s,o,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const p=co(Object.assign({key:s.config.apiKey},d)).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:e,headers:_},h);return UT()||(v.referrerPolicy="no-referrer"),tv.fetch()(await nv(s,s.config.apiHost,i,p),v)})}async function ev(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},lS),e);try{const o=new hS(s),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Gu(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Gu(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Gu(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw W_(s,S,v);Ln(s,S)}}catch(o){if(o instanceof ki)throw o;Ln(s,"network-request-failed",{message:String(o)})}}async function Rc(s,e,i,a,o={}){const h=await Ir(s,e,i,a,o);return"mfaPendingCredential"in h&&Ln(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function nv(s,e,i,a){const o=`${e}${i}?${a}`,h=s,d=h.config.emulator?Cd(s.config,o):`${s.config.apiScheme}://${o}`;return oS.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function cS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ei(this.auth,"network-request-failed")),uS.get())})}}function Gu(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ei(s,e,a);return o.customData._tokenResponse=i,o}function Vy(s){return s!==void 0&&s.enterprise!==void 0}class fS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return cS(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dS(s,e){return Ir(s,"GET","/v2/recaptchaConfig",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(s,e){return Ir(s,"POST","/v1/accounts:delete",e)}async function lc(s,e){return Ir(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gS(s,e=!1){const i=Sn(s),a=await i.getIdToken(e),o=Dd(a);ct(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:o,token:a,authTime:$l($f(o.auth_time)),issuedAtTime:$l($f(o.iat)),expirationTime:$l($f(o.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function $f(s){return Number(s)*1e3}function Dd(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{const o=j_(i);return o?JSON.parse(o):($u("Failed to decode base64 JWT payload"),null)}catch(o){return $u("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uy(s){const e=Dd(s);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ki&&pS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function pS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(s){var e;const i=s.auth,a=await s.getIdToken(),o=await no(s,lc(i,{idToken:a}));ct(o==null?void 0:o.users.length,i,"internal-error");const h=o.users[0];s._notifyReloadListener(h);const d=!((e=h.providerUserInfo)===null||e===void 0)&&e.length?iv(h.providerUserInfo):[],p=vS(s.providerData,d),_=s.isAnonymous,v=!(s.email&&h.passwordHash)&&!(p!=null&&p.length),S=_?v:!1,V={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:p,metadata:new ld(h.createdAt,h.lastLoginAt),isAnonymous:S};Object.assign(s,V)}async function _S(s){const e=Sn(s);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function iv(s){return s.map(e=>{var{providerId:i}=e,a=wd(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(s,e){const i=await ev(s,{},async()=>{const a=co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=s.config,d=await nv(s,o,"/v1/token",`key=${h}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",tv.fetch()(d,{method:"POST",headers:p,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TS(s,e){return Ir(s,"POST","/v2/accounts:revokeToken",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const i=Uy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await ES(e,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new Ea;return a&&(ct(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ct(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(ct(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(s,e){ct(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,h=wd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new ld(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(e){const i=await no(this,this.stsTokenManager.getToken(this.auth,e));return ct(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return gS(this,e)}reload(){return _S(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await oc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await no(this,mS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,h,d,p,_,v,S;const V=(a=i.displayName)!==null&&a!==void 0?a:void 0,H=(o=i.email)!==null&&o!==void 0?o:void 0,Z=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,J=(d=i.photoURL)!==null&&d!==void 0?d:void 0,at=(p=i.tenantId)!==null&&p!==void 0?p:void 0,et=(_=i._redirectEventId)!==null&&_!==void 0?_:void 0,Nt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,bt=(S=i.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:mt,emailVerified:Pt,isAnonymous:gt,providerData:Vt,stsTokenManager:O}=i;ct(mt&&O,e,"internal-error");const A=Ea.fromJSON(this.name,O);ct(typeof mt=="string",e,"internal-error"),dr(V,e.name),dr(H,e.name),ct(typeof Pt=="boolean",e,"internal-error"),ct(typeof gt=="boolean",e,"internal-error"),dr(Z,e.name),dr(J,e.name),dr(at,e.name),dr(et,e.name),dr(Nt,e.name),dr(bt,e.name);const R=new Un({uid:mt,auth:e,email:H,emailVerified:Pt,displayName:V,isAnonymous:gt,photoURL:J,phoneNumber:Z,tenantId:at,stsTokenManager:A,createdAt:Nt,lastLoginAt:bt});return Vt&&Array.isArray(Vt)&&(R.providerData=Vt.map(D=>Object.assign({},D))),et&&(R._redirectEventId=et),R}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ea;o.updateFromServerResponse(i);const h=new Un({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await oc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ct(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?iv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(h!=null&&h.length),p=new Ea;p.updateFromIdToken(a);const _=new Un({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ld(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(h!=null&&h.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Map;function Mi(s){Li(s instanceof Function,"Expected a class definition");let e=Py.get(s);return e?(Li(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Py.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}rv.type="NONE";const Ly=rv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(s,e,i){return`firebase:${s}:${e}:${i}`}class Ta{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=Zu(this.userKey,o.apiKey,h),this.fullPersistenceKey=Zu("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await lc(this.auth,{idToken:e}).catch(()=>{});return i?Un._fromGetAccountInfoResponse(this.auth,i,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ta(Mi(Ly),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||Mi(Ly);const d=Zu(a,e.config.apiKey,e.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let V;if(typeof S=="string"){const H=await lc(e,{idToken:S}).catch(()=>{});if(!H)break;V=await Un._fromGetAccountInfoResponse(e,H,S)}else V=Un._fromJSON(e,S);v!==h&&(p=V),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ta(h,e,a):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ta(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ov(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cv(e))return"Blackberry";if(hv(e))return"Webos";if(av(e))return"Safari";if((e.includes("chrome/")||lv(e))&&!e.includes("edge/"))return"Chrome";if(uv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function sv(s=Ge()){return/firefox\//i.test(s)}function av(s=Ge()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lv(s=Ge()){return/crios\//i.test(s)}function ov(s=Ge()){return/iemobile/i.test(s)}function uv(s=Ge()){return/android/i.test(s)}function cv(s=Ge()){return/blackberry/i.test(s)}function hv(s=Ge()){return/webos/i.test(s)}function Od(s=Ge()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function AS(s=Ge()){var e;return Od(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SS(){return kT()&&document.documentMode===10}function fv(s=Ge()){return Od(s)||uv(s)||hv(s)||cv(s)||/windows phone/i.test(s)||ov(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(s,e=[]){let i;switch(s){case"Browser":i=ky(Ge());break;case"Worker":i=`${ky(Ge())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Na}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,p)=>{try{const _=e(h);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(s,e={}){return Ir(s,"GET","/v2/passwordPolicy",As(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=6;class IS{constructor(e){var i,a,o,h;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:wS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(h=e.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,h,d,p;const _={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,_),this.validatePasswordCharacterOptions(e,_),_.isValid&&(_.isValid=(i=_.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),_.isValid&&(_.isValid=(a=_.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),_.isValid&&(_.isValid=(o=_.containsLowercaseLetter)!==null&&o!==void 0?o:!0),_.isValid&&(_.isValid=(h=_.containsUppercaseLetter)!==null&&h!==void 0?h:!0),_.isValid&&(_.isValid=(d=_.containsNumericCharacter)!==null&&d!==void 0?d:!0),_.isValid&&(_.isValid=(p=_.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),_}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new bS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Mi(i)),this._initializationPromise=this.queue(async()=>{var a,o,h;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await lc(this,{idToken:e}),a=await Un._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Nn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,h=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=o==null?void 0:o._redirectEventId,_=await this.tryRedirectSignIn(e);(!d||d===p)&&(_!=null&&_.user)&&(o=_.user,h=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Tr(this));const i=e?Sn(e):null;return i&&ct(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RS(this),i=new IS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await TS(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Mi(e)||this._popupRedirectResolver;ct(i,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Mi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&iS(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Ma(s){return Sn(s)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=FT(i=>this.observer=i)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DS(s){wc=s}function mv(s){return wc.loadJS(s)}function OS(){return wc.recaptchaEnterpriseScript}function NS(){return wc.gapiScript}function MS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class VS{constructor(){this.enterprise=new US}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class US{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const PS="recaptcha-enterprise",gv="NO_RECAPTCHA";class LS{constructor(e){this.type=PS,this.auth=Ma(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,p)=>{dS(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new fS(_);return h.tenantId==null?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(h,d,p){const _=window.grecaptcha;Vy(_)?_.enterprise.ready(()=>{_.enterprise.execute(h,{action:e}).then(v=>{d(v)}).catch(()=>{d(gv)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VS().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{a(this.auth).then(p=>{if(!i&&Vy(window.grecaptcha))o(p,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=OS();_.length!==0&&(_+=p),mv(_).then(()=>{o(p,h,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function zy(s,e,i,a=!1,o=!1){const h=new LS(s);let d;if(o)d=gv;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const p=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function By(s,e,i,a,o){var h;if(!((h=s._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await zy(s,e,i,i==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await zy(s,e,i,i==="getOobCode");return a(s,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(s,e){const i=bd(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(gs(h,e??{}))return o;Ln(o,"already-initialized")}return i.initialize({options:e})}function xS(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Mi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function zS(s,e,i){const a=Ma(s);ct(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,h=pv(e),{host:d,port:p}=BS(e),_=p===null?"":`:${p}`,v={url:`${h}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ct(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ct(gs(v,a.config.emulator)&&gs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,HS()}function pv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function BS(s){const e=pv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:Hy(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:Hy(d)}}}function Hy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function HS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,i){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function jS(s,e){return Ir(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(s,e){return Rc(s,"POST","/v1/accounts:signInWithPassword",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(s,e){return Rc(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}async function FS(s,e){return Rc(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Nd{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new io(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new io(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,i,"signInWithPassword",qS);case"emailLink":return GS(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,a,"signUpPassword",jS);case"emailLink":return FS(e,{idToken:i,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(s,e){return Rc(s,"POST","/v1/accounts:signInWithIdp",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="http://localhost";class ys extends Nd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,h=wd(i,["providerId","signInMethod"]);if(!a||!o)return null;const d=new ys(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Aa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Aa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Aa(e,i)}buildRequest(){const e={requestUri:QS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=co(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KS(s){const e=Yl(Kl(s)).link,i=e?Yl(Kl(e)).deep_link_id:null,a=Yl(Kl(s)).deep_link_id;return(a?Yl(Kl(a)).link:null)||a||i||e||s}class Md{constructor(e){var i,a,o,h,d,p;const _=Yl(Kl(e)),v=(i=_.apiKey)!==null&&i!==void 0?i:null,S=(a=_.oobCode)!==null&&a!==void 0?a:null,V=YS((o=_.mode)!==null&&o!==void 0?o:null);ct(v&&S&&V,"argument-error"),this.apiKey=v,this.operation=V,this.code=S,this.continueUrl=(h=_.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(d=_.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=_.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const i=KS(e);try{return new Md(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,i){return io._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Md.parseLink(i);return ct(a,"argument-error"),io._fromEmailAndCode(e,a.code,a.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends fo{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ys._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends fo{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends fo{constructor(){super("twitter.com")}static credential(e,i){return ys._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const h=await Un._fromIdTokenResponse(e,a,o),d=jy(a);return new Ra({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=jy(a);return new Ra({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function jy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends ki{constructor(e,i,a,o){var h;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(h=e.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new uc(e,i,a,o)}}function _v(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(s,h,e,a):h})}async function XS(s,e,i=!1){const a=await no(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ra._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(s,e,i=!1){const{auth:a}=s;if(Nn(a.app))return Promise.reject(Tr(a));const o="reauthenticate";try{const h=await no(s,_v(a,o,e,s),i);ct(h.idToken,a,"internal-error");const d=Dd(h.idToken);ct(d,a,"internal-error");const{sub:p}=d;return ct(s.uid===p,a,"user-mismatch"),Ra._forOperation(s,o,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Ln(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(s,e,i=!1){if(Nn(s.app))return Promise.reject(Tr(s));const a="signIn",o=await _v(s,a,e),h=await Ra._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(h.user),h}async function ZS(s,e){return vv(Ma(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(s){const e=Ma(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function WS(s,e,i){return Nn(s.app)?Promise.reject(Tr(s)):ZS(Sn(s),Va.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&JS(s),a})}function tb(s,e,i,a){return Sn(s).onIdTokenChanged(e,i,a)}function eb(s,e,i){return Sn(s).beforeAuthStateChanged(e,i)}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=1e3,ib=10;class Tv extends Ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);SS()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ib):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},nb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tv.type="LOCAL";const rb=Tv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Av.type="SESSION";const Sv=Av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Ic(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,h)),_=await sb(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((p,_)=>{const v=Vd("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(V){const H=V;if(H.data.eventId===v)switch(H.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(H.data.response);break;default:clearTimeout(S),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function lb(s){ni().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function ob(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ub(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function cb(){return bv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="firebaseLocalStorageDb",hb=1,hc="firebaseLocalStorage",wv="fbase_key";class mo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Cc(s,e){return s.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function fb(){const s=indexedDB.deleteDatabase(Rv);return new mo(s).toPromise()}function od(){const s=indexedDB.open(Rv,hb);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(hc,{keyPath:wv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(hc)?e(a):(a.close(),await fb(),e(await od()))})})}async function qy(s,e,i){const a=Cc(s,!0).put({[wv]:e,value:i});return new mo(a).toPromise()}async function db(s,e){const i=Cc(s,!1).get(e),a=await new mo(i).toPromise();return a===void 0?null:a.value}function Gy(s,e){const i=Cc(s,!0).delete(e);return new mo(i).toPromise()}const mb=800,gb=3;class Iv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await od(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>gb)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ic._getInstance(cb()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await ob(),!this.activeServiceWorker)return;this.sender=new ab(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ub()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await od();return await qy(e,cc,"1"),await Gy(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>qy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>db(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const h=Cc(o,!1).getAll();return new mo(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:h}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iv.type="LOCAL";const pb=Iv;new ho(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s,e){return e?Mi(e):(ct(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Aa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function _b(s){return vv(s.auth,new Ud(s),s.bypassAuthState)}function vb(s){const{auth:e,user:i}=s;return ct(i,e,"internal-error"),$S(i,new Ud(s),s.bypassAuthState)}async function Eb(s){const{auth:e,user:i}=s;return ct(i,e,"internal-error"),XS(i,new Ud(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,i,a,o,h=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _b;case"linkViaPopup":case"linkViaRedirect":return Eb;case"reauthViaPopup":case"reauthViaRedirect":return vb;default:Ln(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new ho(2e3,1e4);class va extends Cv{constructor(e,i,a,o,h){super(e,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Vd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tb.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="pendingRedirect",Ju=new Map;class Sb extends Cv{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Ju.get(this.auth._key());if(!e){try{const a=await bb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Ju.set(this.auth._key(),e)}return this.bypassAuthState||Ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bb(s,e){const i=Ib(e),a=wb(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Rb(s,e){Ju.set(s._key(),e)}function wb(s){return Mi(s._redirectPersistence)}function Ib(s){return Zu(Ab,s.config.apiKey,s.name)}async function Cb(s,e,i=!1){if(Nn(s.app))return Promise.reject(Tr(s));const a=Ma(s),o=yb(a,e),d=await new Sb(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=10*60*1e3;class Ob{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nb(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!Dv(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(ei(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Db&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fy(e))}saveEventToCache(e){this.cachedEventUids.add(Fy(e)),this.lastProcessedEventTime=Date.now()}}function Fy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Dv({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nb(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(s,e={}){return Ir(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ub=/^https?/;async function Pb(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Mb(s);for(const i of e)try{if(Lb(i))return}catch{}Ln(s,"unauthorized-domain")}function Lb(s){const e=ad(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ub.test(i))return!1;if(Vb.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new ho(3e4,6e4);function Qy(){const s=ni().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function xb(s){return new Promise((e,i)=>{var a,o,h;function d(){Qy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qy(),i(ei(s,"network-request-failed"))},timeout:kb.get()})}if(!((o=(a=ni().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((h=ni().gapi)===null||h===void 0)&&h.load)d();else{const p=MS("iframefcb");return ni()[p]=()=>{gapi.load?d():i(ei(s,"network-request-failed"))},mv(`${NS()}?onload=${p}`).catch(_=>i(_))}}).catch(e=>{throw Wu=null,e})}let Wu=null;function zb(s){return Wu=Wu||xb(s),Wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new ho(5e3,15e3),Hb="__/auth/iframe",jb="emulator/auth/iframe",qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fb(s){const e=s.config;ct(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Cd(e,jb):`https://${s.config.authDomain}/${Hb}`,a={apiKey:e.apiKey,appName:s.name,v:Na},o=Gb.get(s.config.apiHost);o&&(a.eid=o);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${co(a).slice(1)}`}async function Qb(s){const e=await zb(s),i=ni().gapi;return ct(i,s,"internal-error"),e.open({where:document.body,url:Fb(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qb,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=ei(s,"network-request-failed"),p=ni().setTimeout(()=>{h(d)},Bb.get());function _(){ni().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kb=500,Xb=600,$b="_blank",Zb="http://localhost";class Yy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jb(s,e,i,a=Kb,o=Xb){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _=Object.assign(Object.assign({},Yb),{width:a.toString(),height:o.toString(),top:h,left:d}),v=Ge().toLowerCase();i&&(p=lv(v)?$b:i),sv(v)&&(e=e||Zb,_.scrollbars="yes");const S=Object.entries(_).reduce((H,[Z,J])=>`${H}${Z}=${J},`,"");if(AS(v)&&p!=="_self")return Wb(e||"",p),new Yy(null);const V=window.open(e||"",p,S);ct(V,s,"popup-blocked");try{V.focus()}catch{}return new Yy(V)}function Wb(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="__/auth/handler",eR="emulator/auth/handler",nR=encodeURIComponent("fac");async function Ky(s,e,i,a,o,h){ct(s.config.authDomain,s,"auth-domain-config-required"),ct(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Na,eventId:o};if(e instanceof yv){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",GT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,V]of Object.entries({}))d[S]=V}if(e instanceof fo){const S=e.getScopes().filter(V=>V!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),v=_?`#${nR}=${encodeURIComponent(_)}`:"";return`${iR(s)}?${co(p).slice(1)}${v}`}function iR({config:s}){return s.emulator?Cd(s,eR):`https://${s.authDomain}/${tR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sv,this._completeRedirectFn=Cb,this._overrideRedirectResult=Rb}async _openPopup(e,i,a,o){var h;Li((h=this.eventManagers[e._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await Ky(e,i,a,ad(),o);return Jb(e,d,Vd())}async _openRedirect(e,i,a,o){await this._originValidation(e);const h=await Ky(e,i,a,ad(),o);return lb(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(Li(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Qb(e),a=new Ob(e);return i.register("authEvent",o=>(ct(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zf,{type:Zf},o=>{var h;const d=(h=o==null?void 0:o[0])===null||h===void 0?void 0:h[Zf];d!==void 0&&i(!!d),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pb(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return fv()||av()||Od()}}const sR=rR;var Xy="@firebase/auth",$y="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oR(s){ba(new ps("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ct(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dv(s)},v=new CS(a,o,h,_);return xS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ba(new ps("auth-internal",e=>{const i=Ma(e.getProvider("auth").getImmediate());return(a=>new aR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(Xy,$y,lR(s)),Er(Xy,$y,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=5*60,cR=F_("authIdTokenMaxAge")||uR;let Zy=null;const hR=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>cR)return;const o=i==null?void 0:i.token;Zy!==o&&(Zy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fR(s=K_()){const e=bd(s,"auth");if(e.isInitialized())return e.getImmediate();const i=kS(s,{popupRedirectResolver:sR,persistence:[pb,rb,Sv]}),a=F_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=hR(h.toString());eb(i,d,()=>d(i.currentUser)),tb(i,p=>d(p))}}const o=q_("auth");return o&&zS(i,`http://${o}`),i}function dR(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}DS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const h=ei("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",dR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oR("Browser");var mR="firebase",gR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(mR,gR,"app");const Ov={apiKey:"AIzaSyAhctn1C7bOKNvgunFdNbMoh6R7X2B1hUk",authDomain:"pilvi-vite-e439d.firebaseapp.com",projectId:"pilvi-vite-e439d",storageBucket:"pilvi-vite-e439d.firebasestorage.app",messagingSenderId:"790189598055",appId:"1:790189598055:web:0ce8a16f3a9eb930803bc2"};function pR(){const s=Rd(Ov),e=fR(s),[i,a]=Vn.useState(""),[o,h]=Vn.useState(""),[d,p]=Vn.useState(!1),_=async v=>{v.preventDefault(),await WS(e,i,o).then(S=>{const V=S.user;console.log("User signed in:",V.email)}).catch(S=>{const V=S.code,H=S.message;console.error("Error signing in:",V,H)})};return wt.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[wt.jsx("h2",{children:"Kirjaudu sisään"}),wt.jsxs("form",{onSubmit:_,children:[wt.jsxs("div",{style:{margin:"8px"},children:[wt.jsx("label",{htmlFor:"email",children:"Sähköposti:"}),wt.jsx("input",{type:"email",id:"email",value:i,onChange:v=>a(v.target.value),required:!0})]}),wt.jsx("div",{children:wt.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"8px"},children:[wt.jsx("label",{htmlFor:"password",children:"Salasana:"}),wt.jsx("input",{type:d?"text":"password",id:"password",value:o,onChange:v=>h(v.target.value),required:!0}),wt.jsx("button",{type:"button",onClick:()=>p(v=>!v),style:{marginLeft:"8px"},children:d?"Hide":"Show"})]})}),wt.jsx("button",{type:"submit",children:"Kirjaudu sisään"})]})]})}var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pd;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(D,N,U){for(var w=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)w[Ce-2]=arguments[Ce];return A.prototype[N].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,R){R||(R=0);var D=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)D[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;16>N;++N)D[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],N=O.g[2];var U=O.g[3],w=A+(U^R&(N^U))+D[0]+3614090360&4294967295;A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+D[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+D[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+D[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(U^R&(N^U))+D[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+D[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+D[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+D[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(U^R&(N^U))+D[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+D[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+D[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+D[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(U^R&(N^U))+D[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+D[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+D[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+D[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(N^U&(R^N))+D[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+D[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+D[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+D[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(R^N))+D[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+D[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+D[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+D[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(R^N))+D[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+D[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+D[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+D[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(R^N))+D[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+D[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+D[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+D[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(R^N^U)+D[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+D[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+D[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+D[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^U)+D[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+D[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+D[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+D[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^U)+D[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+D[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+D[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+D[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^U)+D[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+D[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+D[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+D[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(N^(R|~U))+D[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+D[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+D[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+D[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~U))+D[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+D[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+D[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+D[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~U))+D[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+D[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+D[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+D[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~U))+D[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+D[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+D[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,D=this.B,N=this.h,U=0;U<A;){if(N==0)for(;U<=R;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<A;)if(D[N++]=O.charCodeAt(U++),N==this.blockSize){o(this,D),N=0;break}}else for(;U<A;)if(D[N++]=O[U++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=A},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var D=0;32>D;D+=8)O[R++]=this.g[A]>>>D&255;return O};function h(O,A){var R=p;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function d(O,A){this.h=A;for(var R=[],D=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;D&&U==A||(R[N]=U,D=!1)}this.g=R}var p={};function _(O){return-128<=O&&128>O?h(O,function(A){return new d([A|0],0>A?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return et(v(-O));for(var A=[],R=1,D=0;O>=R;D++)A[D]=O/R|0,R*=4294967296;return new d(A,0)}function S(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return et(S(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(A,8)),D=V,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),w=parseInt(O.substring(N,N+U),A);8>U?(U=v(Math.pow(A,U)),D=D.j(U).add(v(w))):(D=D.j(R),D=D.add(v(w)))}return D}var V=_(0),H=_(1),Z=_(16777216);s=d.prototype,s.m=function(){if(at(this))return-et(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var D=this.i(R);O+=(0<=D?D:4294967296+D)*A,A*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(J(this))return"0";if(at(this))return"-"+et(this).toString(O);for(var A=v(Math.pow(O,6)),R=this,D="";;){var N=Pt(R,A).g;R=Nt(R,N.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=N,J(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function J(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function at(O){return O.h==-1}s.l=function(O){return O=Nt(this,O),at(O)?-1:J(O)?0:1};function et(O){for(var A=O.g.length,R=[],D=0;D<A;D++)R[D]=~O.g[D];return new d(R,~O.h).add(H)}s.abs=function(){return at(this)?et(this):this},s.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0,N=0;N<=A;N++){var U=D+(this.i(N)&65535)+(O.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);D=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Nt(O,A){return O.add(et(A))}s.j=function(O){if(J(this)||J(O))return V;if(at(this))return at(O)?et(this).j(et(O)):et(et(this).j(O));if(at(O))return et(this.j(et(O)));if(0>this.l(Z)&&0>O.l(Z))return v(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],D=0;D<2*A;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<O.g.length;N++){var U=this.i(D)>>>16,w=this.i(D)&65535,Ce=O.i(N)>>>16,te=O.i(N)&65535;R[2*D+2*N]+=w*te,bt(R,2*D+2*N),R[2*D+2*N+1]+=U*te,bt(R,2*D+2*N+1),R[2*D+2*N+1]+=w*Ce,bt(R,2*D+2*N+1),R[2*D+2*N+2]+=U*Ce,bt(R,2*D+2*N+2)}for(D=0;D<A;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=A;D<2*A;D++)R[D]=0;return new d(R,0)};function bt(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function mt(O,A){this.g=O,this.h=A}function Pt(O,A){if(J(A))throw Error("division by zero");if(J(O))return new mt(V,V);if(at(O))return A=Pt(et(O),A),new mt(et(A.g),et(A.h));if(at(A))return A=Pt(O,et(A)),new mt(et(A.g),A.h);if(30<O.g.length){if(at(O)||at(A))throw Error("slowDivide_ only works with positive integers.");for(var R=H,D=A;0>=D.l(O);)R=gt(R),D=gt(D);var N=Vt(R,1),U=Vt(D,1);for(D=Vt(D,2),R=Vt(R,2);!J(D);){var w=U.add(D);0>=w.l(O)&&(N=N.add(R),U=w),D=Vt(D,1),R=Vt(R,1)}return A=Nt(O,N.j(A)),new mt(N,A)}for(N=V;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=v(R),w=U.j(A);at(w)||0<w.l(O);)R-=D,U=v(R),w=U.j(A);J(U)&&(U=H),N=N.add(U),O=Nt(O,w)}return new mt(N,O)}s.A=function(O){return Pt(this,O).h},s.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)&O.i(D);return new d(R,this.h&O.h)},s.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)|O.i(D);return new d(R,this.h|O.h)},s.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)^O.i(D);return new d(R,this.h^O.h)};function gt(O){for(var A=O.g.length+1,R=[],D=0;D<A;D++)R[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(R,O.h)}function Vt(O,A){var R=A>>5;A%=32;for(var D=O.g.length-R,N=[],U=0;U<D;U++)N[U]=0<A?O.i(U+R)>>>A|O.i(U+R+1)<<32-A:O.i(U+R);return new d(N,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Pd=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nv,Xl,Mv,tc,ud,Vv,Uv,Pv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in g))break t;g=g[P]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var g=0,T=!1,P={next:function(){if(!T&&g<u.length){var B=g++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,g){return u.call.apply(u.bind,arguments)}function V(u,m,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function H(u,m,g){return H=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,H.apply(null,arguments)}function Z(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,P,B){for(var $=Array(arguments.length-2),It=2;It<arguments.length;It++)$[It-2]=arguments[It];return m.prototype[P].apply(T,$)}}function at(u){const m=u.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function et(u,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const P=u.length||0,B=T.length||0;u.length=P+B;for(let $=0;$<B;$++)u[P+$]=T[$]}else u.push(T)}}class Nt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function bt(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var gt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function Vt(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function O(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function A(u){const m={};for(const g in u)m[g]=u[g];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let g,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(g in T)u[g]=T[g];for(let B=0;B<R.length;B++)g=R[B],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function U(u){p.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,g){const T=te.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var te=new Nt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let W,st=!1,Lt=new Ce,I=()=>{const u=p.Promise.resolve(void 0);W=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(g){U(g)}var m=te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}st=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return u}();function vt(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{Pt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:dt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&vt.aa.h.call(this)}}J(vt,X);var dt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function kn(u,m,g,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=P,this.key=++Yt,this.da=this.fa=!1}function xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,g,T,P){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var $=Dr(u,m,T,P);return-1<$?(m=u[$],g||(m.fa=!1)):(m=new kn(m,this.src,B,!!T,P),m.fa=g,u.push(m)),m};function Cr(u,m){var g=m.type;if(g in u.g){var T=u.g[g],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=P)&&Array.prototype.splice.call(T,P,1),B&&(xi(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Dr(u,m,g,T){for(var P=0;P<u.length;++P){var B=u[P];if(!B.da&&B.listener==m&&B.capture==!!g&&B.ha==T)return P}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),La={};function Eo(u,m,g,T,P){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Eo(u,m[B],g,T,P);return null}return g=To(g),u&&u[ve]?u.K(m,g,v(T)?!!T.capture:!1,P):cn(u,m,g,!1,T,P)}function cn(u,m,g,T,P,B){if(!m)throw Error("Invalid event type");var $=v(P)?!!P.capture:!!P,It=ws(u);if(It||(u[Or]=It=new si(u)),g=It.add(m,g,T,$,B),g.proxy)return g;if(T=xc(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)lt||(P=$),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function xc(){function u(g){return m.call(u.src,u.listener,g)}const m=zc;return u}function ka(u,m,g,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)ka(u,m[B],g,T,P);else T=v(T)?!!T.capture:!!T,g=To(g),u&&u[ve]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],g=Dr(B,g,T,P),-1<g&&(xi(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,g,T,P)),(g=-1<u?m[u]:null)&&Rs(g))}function Rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])Cr(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(Nr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ws(m))?(Cr(g,u),g.h==0&&(g.src=null,m[Or]=null)):xi(u)}}}function Nr(u){return u in La?La[u]:La[u]="on"+u}function zc(u,m){if(u.da)u=!0;else{m=new vt(m,this);var g=u.listener,T=u.ha||u.src;u.fa&&Rs(u),u=g.call(T,m)}return u}function ws(u){return u=u[Or],u instanceof si?u:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[xa]||(u[xa]=function(m){return u.handleEvent(m)}),u[xa])}function ee(){tt.call(this),this.i=new si(this),this.M=this,this.F=null}J(ee,tt),ee.prototype[ve]=!0,ee.prototype.removeEventListener=function(u,m,g,T){ka(this,u,m,g,T)};function zt(u,m){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var P=m;m=new X(T,u),D(m,P)}if(P=!0,g)for(var B=g.length-1;0<=B;B--){var $=m.g=g[B];P=tn($,T,!0,m)&&P}if($=m.g=u,P=tn($,T,!0,m)&&P,P=tn($,T,!1,m)&&P,g)for(B=0;B<g.length;B++)$=m.g=g[B],P=tn($,T,!1,m)&&P}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],T=0;T<g.length;T++)xi(g[T]);delete u.g[m],u.h--}}this.F=null},ee.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},ee.prototype.L=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function tn(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,B=0;B<m.length;++B){var $=m[B];if($&&!$.da&&$.capture==g){var It=$.listener,ge=$.ha||$.src;$.fa&&Cr(u.i,$),P=It.call(ge,T)!==!1&&P}}return P&&!T.defaultPrevented}function xe(u,m,g){if(typeof u=="function")g&&(u=H(u,g));else if(u&&typeof u.handleEvent=="function")u=H(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Ao(u){u.g=xe(()=>{u.g=null,u.i&&(u.i=!1,Ao(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bc extends tt{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){tt.call(this),this.h=u,this.g={}}J(Mr,tt);var Vr=[];function Ur(u){Vt(u.g,function(m,g){this.g.hasOwnProperty(g)&&Rs(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=p.JSON.stringify,Is=p.JSON.parse,Pr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function za(){}za.prototype.h=null;function Ba(u){return u.h||(u.h=u.i())}function Ha(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){X.call(this,"d")}J(li,X);function ja(){X.call(this,"c")}J(ja,X);var xn={},qa=null;function zi(){return qa=qa||new ee}xn.La="serverreachability";function Cs(u){X.call(this,xn.La,u)}J(Cs,X);function Bi(u){const m=zi();zt(m,new Cs(m))}xn.STAT_EVENT="statevent";function So(u,m){X.call(this,xn.STAT_EVENT,u),this.stat=m}J(So,X);function $t(u){const m=zi();zt(m,new So(m,u))}xn.Ma="timingevent";function me(u,m){X.call(this,xn.Ma,u),this.size=m}J(me,X);function ue(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Ga(u,m,g,T,P,B){u.info(function(){if(u.g)if(B)for(var $="",It=B.split("&"),ge=0;ge<It.length;ge++){var Ct=It[ge].split("=");if(1<Ct.length){var Te=Ct[0];Ct=Ct[1];var pe=Te.split("_");$=2<=pe.length&&pe[1]=="type"?$+(Te+"="+Ct+"&"):$+(Te+"=redacted&")}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+g+`
`+$})}function Hc(u,m,g,T,P,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+g+`
`+B+" "+$})}function Hi(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(u,g)+(T?" "+T:"")})}function bo(u,m){u.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Lr(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var B=P[0];if(B!="noop"&&B!="stop"&&B!="close")for(var $=1;$<P.length;$++)P[$]=""}}}}return bn(g)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Bn(){}J(Bn,za),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},zn=new Bn;function Fe(u,m,g,T){this.j=u,this.i=m,this.l=g,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}var Fa={},Ds={};function Rn(u,m,g){u.L=1,u.v=Hr(en(m)),u.m=g,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),kr(u),u.A=en(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Za(g.i,"t",T),u.C=0,g=u.j.J,u.h=new ae,u.g=Bo(u.j,g?m:null,!u.m),0<u.O&&(u.M=new Bc(H(u.Y,u,u.g),u.O)),m=u.U,g=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Vr[0]=P.toString()),P=Vr);for(var B=0;B<P.length;B++){var $=Eo(g,P[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),Ga(u.i,u.u,u.A,u.l,u.R,u.m)}Fe.prototype.ca=function(u){u=u.target;const m=this.M;m&&gn(u)==3?m.j():this.Y(u)},Fe.prototype.Y=function(u){try{if(u==this.g)t:{const pe=gn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>pe)&&(pe!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||pe!=4||m==7||(m==8||0>=yi?Bi(3):Bi(2)),qi(this);var g=this.g.Z();this.X=g;e:if(Ro(this)){var T=Mo(this.g);u="";var P=T.length,B=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){De(this),Hn(this);var $="";break e}this.h.i=new p.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,Hc(this.i,this.u,this.A,this.l,this.R,pe,g),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ge=this.g;if((It=ge.g?ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(It)){var Ct=It;break e}}Ct=null}if(g=Ct)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,g);else{this.o=!1,this.s=3,$t(12),De(this),Hn(this);break t}}if(this.P){g=!0;let Oe;for(;!this.J&&this.C<$.length;)if(Oe=wo(this,$),Oe==Ds){pe==4&&(this.s=4,$t(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==Fa){this.s=4,$t(15),Hi(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Oe,null),xr(this,Oe);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||$.length!=0||this.h.h||(this.s=1,$t(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,$,"[Invalid Chunked Response]"),De(this),Hn(this);else if(0<$.length&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.ba&&!Te.M&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Xr(Te),Te.M=!0,$t(11))}}else Hi(this.i,this.l,$,null),xr(this,$);pe==4&&De(this),this.o&&!this.J&&(pe==4?ko(this.j,this):(this.o=!1,kr(this)))}else Qc(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),De(this),Hn(this)}}}catch{}finally{}};function Ro(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wo(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?Ds:(g=Number(m.substring(g,T)),isNaN(g)?Fa:(T+=1,T+g>m.length?Ds:(m=m.slice(T,T+g),u.C=T+g,m)))}Fe.prototype.cancel=function(){this.J=!0,De(this)};function kr(u){u.S=Date.now()+u.I,Io(u,u.I)}function Io(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ue(H(u.ba,u),m)}function qi(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Fe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bo(this.i,this.A),this.L!=2&&(Bi(),$t(17)),De(this),this.s=2,Hn(this)):Io(this,this.S-u)};function Hn(u){u.j.G==0||u.J||ko(u.j,u)}function De(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function xr(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||Qa(g.h,u))){if(!u.K&&Qa(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Hs(g),zs(g);else break t;nl(g),$t(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=ue(H(g.Za,g),6e3));if(1>=Ns(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else pi(g,11)}else if((u.K||g.g==u)&&Hs(g),!bt(m))for(P=g.Da.g.parse(m),m=0;m<P.length;m++){let Ct=P[m];if(g.T=Ct[0],Ct=Ct[1],g.G==2)if(Ct[0]=="c"){g.K=Ct[1],g.ia=Ct[2];const Te=Ct[3];Te!=null&&(g.la=Te,g.j.info("VER="+g.la));const pe=Ct[4];pe!=null&&(g.Aa=pe,g.j.info("SVER="+g.Aa));const yi=Ct[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Oe=u.g;if(Oe){const Kn=Oe.g?Oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var B=T.h;B.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ms(B,B.h),B.h=null))}if(T.D){const rl=Oe.g?Oe.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(T.ya=rl,jt(T.I,T.D,rl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var $=u;if(T.qa=zo(T,T.J?T.ia:null,T.W),$.K){Qe(T.h,$);var It=$,ge=T.L;ge&&(It.I=ge),It.B&&(qi(It),kr(It)),T.g=$}else Po(T);0<g.i.length&&Bs(g)}else Ct[0]!="stop"&&Ct[0]!="close"||pi(g,7);else g.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?pi(g,7):tl(g):Ct[0]!="noop"&&g.l&&g.l.ta(Ct),g.v=0)}}Bi(4)}catch{}}var Co=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ns(u){return u.h?1:u.g?u.g.size:0}function Qa(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ms(u,m){u.g?u.g.add(m):u.h=m}function Qe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=Ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ya(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return at(u.i)}function jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],g=u.length,T=0;T<g;T++)m.push(u[T]);return m}m=[],g=0;for(T in u)m[g++]=u[T];return m}function Vs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const T in u)m[g++]=T;return m}}}function Ka(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=Vs(u),T=jc(u),P=T.length,B=0;B<P;B++)m.call(void 0,T[B],g&&g[B],u)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),P=null;if(0<=T){var B=u[g].substring(0,T);P=u[g].substring(T+1)}else B=u[g];m(B,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ce(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ce){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,g=new fi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),hi(this,g),this.m=u.m}else u&&(m=String(u).match(zr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=fn(m[2]||""),this.g=fn(m[3]||"",!0),Gi(this,m[4]),this.l=fn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=fn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}ce.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,Xa,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Xa,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(jr(g,g.charAt(0)=="/"?Gc:$a,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",jr(g,Us)),u.join("")};function en(u){return new ce(u)}function Br(u,m,g){u.j=g?fn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,g){m instanceof fi?(u.i=m,Oo(u.i,u.h)):(g||(m=jr(m,Fc)),u.i=new fi(m,u.h))}function jt(u,m,g){u.i.set(m,g)}function Hr(u){return jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,Do),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Do(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xa=/[#\/\?@]/g,$a=/[#\?:]/g,Gc=/[#\?]/g,Fc=/[#\?@]/g,Us=/#/g;function fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&qc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=fi.prototype,s.add=function(u,m){dn(this),this.i=null,u=jn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function di(u,m){dn(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return dn(u),m=jn(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(P){u.call(m,P,T,this)},this)},this)},s.na=function(){dn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const P=u[T];for(let B=0;B<P.length;B++)g.push(m[T])}return g},s.V=function(u){dn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(jn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},s.set=function(u,m){return dn(this),this.i=null,u=jn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Za(u,m,g){di(u,m),0<g.length&&(u.i=null,u.g.set(jn(u,m),at(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const B=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var P=B;$[T]!==""&&(P+="="+encodeURIComponent(String($[T]))),u.push(P)}}return this.i=u.join("&")};function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Oo(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(g,T){var P=T.toLowerCase();T!=P&&(di(this,T),Za(this,P,g))},u)),u.j=m}function qr(u,m){const g=new hn;if(p.Image){const T=new Image;T.onload=Z(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Z(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=Z(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Z(mn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wn(u,m){const g=new hn,T=new AbortController,P=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),mn(g,"TestPingServer: error",!1,m)})}function mn(u,m,g,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(g)}catch{}}function Gr(){this.g=new Pr}function qn(u,m,g){const T=g||"";try{Ka(u,function(P,B){let $=P;v(P)&&($=bn(P)),m.push(T+B+"="+encodeURIComponent($))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Fi,za),Fi.prototype.g=function(){return new gi(this.l,this.j)},Fi.prototype.i=function(u){return function(){return u}}({});function gi(u,m){ee.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(gi,ee),s=gi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ja(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ja(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Ja(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},s.Qa=function(u){this.g&&(this.response=u,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wa(u){let m="";return Vt(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Ee(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Wa(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):jt(u,m,g))}function xt(u){ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(xt,ee);var Ps=/^https?$/i,Fr=["POST","PUT"];s=xt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ba(this.o):Ba(zn),this.g.onreadystatechange=H(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){No(this,B);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)g.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())g.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),P=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of g)this.g.setRequestHeader(B,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){No(this,B)}};function No(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ls(u),Qn(u)}function Ls(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,zt(this,"complete"),zt(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),xt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ks(this):this.bb())},s.bb=function(){ks(this)};function ks(u){if(u.h&&typeof d<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)xe(u.Ea,0,u);else if(zt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const $=u.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=$===0){var P=String(u.D).match(zr)[1]||null;!P&&p.self&&p.self.location&&(P=p.self.location.protocol.slice(0,-1)),T=!Ps.test(P?P.toLowerCase():"")}g=T}if(g)zt(u,"complete"),zt(u,"success");else{u.m=6;try{var B=2<gn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ls(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Qr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||zt(u,"ready");try{g.onreadystatechange=T}catch{}}}function Qr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Is(m)}};function Mo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qc(u){const m={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(bt(u[T]))continue;var g=N(u[T]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=m[P]||[];m[P]=B,B.push(g)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function xs(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=xs.prototype,s.la=8,s.G=1,s.connect=function(u,m,g,T){$t(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=zo(this,null,this.W),Bs(this)};function tl(u){if(Vo(u),u.G==3){var m=u.U++,g=en(u.I);if(jt(g,"SID",u.K),jt(g,"RID",m),jt(g,"TYPE","terminate"),Kr(u,g),m=new Fe(u,u.j,m),m.L=2,m.v=Hr(en(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Bo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),kr(m)}xo(u)}function zs(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function Vo(u){zs(u),u.u&&(p.clearTimeout(u.u),u.u=null),Hs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Bs(u){if(!Os(u.h)&&!u.s){u.s=!0;var m=u.Ga;W||I(),st||(W(),st=!0),Lt.add(m,u),u.B=0}}function Yc(u,m){return Ns(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ue(H(u.Ga,u,m),il(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Fe(this,this.j,u);let B=this.o;if(this.S&&(B?(B=A(B),D(B,this.S)):B=this.S),this.m!==null||this.O||(P.H=B,B=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Uo(this,P,m),g=en(this.I),jt(g,"RID",u),jt(g,"CVER",22),this.D&&jt(g,"X-HTTP-Session-Id",this.D),Kr(this,g),B&&(this.O?m="headers="+encodeURIComponent(String(Wa(B)))+"&"+m:this.m&&Ee(g,this.m,B)),Ms(this.h,P),this.Ua&&jt(g,"TYPE","init"),this.P?(jt(g,"$req",m),jt(g,"SID","null"),P.T=!0,Rn(P,g,null)):Rn(P,g,m),this.G=2}}else this.G==3&&(u?el(this,u):this.i.length==0||Os(this.h)||el(this))};function el(u,m){var g;m?g=m.l:g=u.U++;const T=en(u.I);jt(T,"SID",u.K),jt(T,"RID",g),jt(T,"AID",u.T),Kr(u,T),u.m&&u.o&&Ee(T,u.m,u.o),g=new Fe(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Uo(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ms(u.h,g),Rn(g,T,m)}function Kr(u,m){u.H&&Vt(u.H,function(g,T){jt(m,T,g)}),u.l&&Ka({},function(g,T){jt(m,T,g)})}function Uo(u,m,g){g=Math.min(u.i.length,g);var T=u.l?H(u.l.Na,u.l,u):null;t:{var P=u.i;let B=-1;for(;;){const $=["count="+g];B==-1?0<g?(B=P[0].g,$.push("ofs="+B)):B=0:$.push("ofs="+B);let It=!0;for(let ge=0;ge<g;ge++){let Ct=P[ge].g;const Te=P[ge].map;if(Ct-=B,0>Ct)B=Math.max(0,P[ge].g-100),It=!1;else try{qn(Te,$,"req"+Ct+"_")}catch{T&&T(Te)}}if(It){T=$.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,T}function Po(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;W||I(),st||(W(),st=!0),Lt.add(m,u),u.v=0}}function nl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ue(H(u.Fa,u),il(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Lo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ue(H(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),zs(this),Lo(this))};function Xr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Lo(u){u.g=new Fe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=en(u.qa);jt(m,"RID","rpc"),jt(m,"SID",u.K),jt(m,"AID",u.T),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&jt(m,"TO",u.ja),jt(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Ee(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Hr(en(m)),g.m=null,g.P=!0,ui(g,u)}s.Za=function(){this.C!=null&&(this.C=null,zs(this),nl(this),$t(19))};function Hs(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function ko(u,m){var g=null;if(u.g==m){Hs(u),Xr(u),u.g=null;var T=2}else if(Qa(u.h,m))g=m.D,Qe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=zi(),zt(T,new me(T,g)),Bs(u)}else Po(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Yc(u,m)||T==2&&nl(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),P){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function il(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var g=H(u.fb,u),T=u.Xa;const P=!T;T=new ce(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Br(T,"https"),Hr(T),P?qr(T.toString(),g):wn(T.toString(),g)}else $t(2);u.G=0,u.l&&u.l.sa(m),xo(u),Vo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=Ya(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ka,m),et(u.ka,u.i),u.h.i.length=0,at(u.i),u.i.length=0),u.l.ra()}}function zo(u,m,g){var T=g instanceof ce?en(g):new ce(g);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var P=p.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var B=new ce(null);T&&Br(B,T),m&&(B.g=m),P&&Gi(B,P),g&&(B.l=g),T=B}return g=u.D,m=u.ya,g&&m&&jt(T,g,m),jt(T,"VER",u.la),Kr(u,T),T}function Bo(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new xt(new Fi({eb:g})):new xt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}s=Ho.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function js(){}js.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){ee.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!bt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!bt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}J(Ye,ee),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){tl(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=bn(u),u=g);m.i.push(new Co(m.Ya++,u)),m.G==3&&Bs(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Ye.aa.N.call(this)};function jo(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(jo,li);function qo(){ja.call(this),this.status=1}J(qo,ja);function Yn(u){this.g=u}J(Yn,Ho),Yn.prototype.ua=function(){zt(this.g,"a")},Yn.prototype.ta=function(u){zt(this.g,new jo(u))},Yn.prototype.sa=function(u){zt(this.g,new qo)},Yn.prototype.ra=function(){zt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Pv=function(){return new js},Uv=function(){return zi()},Vv=xn,ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,tc=ji,oi.COMPLETE="complete",Mv=oi,Ha.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Xl=Ha,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,Nv=xt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Wy="@firebase/firestore",t_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Ad("@firebase/firestore");function ya(){return _s.logLevel}function it(s,...e){if(_s.logLevel<=Rt.DEBUG){const i=e.map(Ld);_s.debug(`Firestore (${Ua}): ${s}`,...i)}}function vs(s,...e){if(_s.logLevel<=Rt.ERROR){const i=e.map(Ld);_s.error(`Firestore (${Ua}): ${s}`,...i)}}function Dc(s,...e){if(_s.logLevel<=Rt.WARN){const i=e.map(Ld);_s.warn(`Firestore (${Ua}): ${s}`,...i)}}function Ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(s="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+s;throw vs(e),new Error(e)}function se(s,e){s||St()}function Xt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ki{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){se(this.o===void 0);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ds,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ds)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(se(typeof a.accessToken=="string"),new Lv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new je(e)}}class ER{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TR{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new ER(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AR{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){se(this.o===void 0);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new e_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(se(typeof i.token=="string"),this.R=i.token,new e_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=SR(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Mt(s,e){return s<e?-1:s>e?1:0}function cd(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Mt(a,o);{const h=bR(),d=RR(h.encode(n_(s,i)),h.encode(n_(e,i)));return d!==0?d:Mt(a,o)}}i+=a>65535?2:1}return Mt(s.length,e.length)}function n_(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function RR(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Mt(s[i],e[i]);return Mt(s.length,e.length)}function wa(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,r_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*r_);return new Ie(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<i_)throw new ft(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Ie(0,0))}static max(){return new Jt(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&St(),a===void 0?a=e.length-i:a>e.length-i&&St(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),o=ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):cd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pd.fromString(e.substring(4,e.length-2))}}class re extends ti{construct(e,i,a){return new re(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ft(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new re(i)}static emptyPath(){return new re([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends ti{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new Le([s_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ft(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ft(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ft(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new ft(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(re.fromString(e))}static fromName(e){return new yt(re.fromString(e).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new re(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function IR(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Jt.fromTimestamp(a===1e9?new Ie(i+1,0):new Ie(i,a));return new Sr(o,yt.empty(),e)}function CR(s){return new Sr(s.readTime,s.key,ro)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(Jt.min(),yt.empty(),ro)}static max(){return new Sr(Jt.max(),yt.empty(),ro)}}function DR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==OR)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let o=0,h=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(o=>o?Q.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,o)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++p,p===h&&a(d)},S=>o(S))}})}static doWhile(e,i){return new Q((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function MR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-1;function Bd(s){return s==null}function fc(s){return s===0&&1/s==-1/0}function VR(s){return typeof s=="number"&&Number.isInteger(s)&&!fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="";function UR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=a_(e)),e=PR(s.get(i),e);return a_(e)}function PR(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case xv:i+="";break;default:i+=h}}return i}function a_(s){return s+xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Pa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function zv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,i){this.comparator=e,this.root=i||Ue.EMPTY}insert(e,i){return new We(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Ue.RED,this.left=o??Ue.EMPTY,this.right=h??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Ue(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ue.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,i,a,o,h){return this}insert(e,i,a){return new Ue(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new ke(this.comparator);return i.data=e,i}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new ke(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new LR("Invalid base64 string: "+h):h}}(e);return new ii(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new ii(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(s){if(se(!!s),typeof s=="string"){let e=0;const i=kR.exec(s);if(se(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pe(s.seconds),nanos:Pe(s.nanos)}}function Pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ia(s){return typeof s=="string"?ii.fromBase64String(s):ii.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="server_timestamp",Hv="__type__",jv="__previous_value__",qv="__local_write_time__";function Hd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hv])===null||i===void 0?void 0:i.stringValue)===Bv}function jd(s){const e=s.mapValue.fields[jv];return Hd(e)?jd(e):e}function dc(s){const e=Es(s.mapValue.fields[qv].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i,a,o,h,d,p,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v}}const mc="(default)";class gc{constructor(e,i){this.projectId=e,this.database=i||mc}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===mc}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__type__",zR="__max__",Yu={mapValue:{}},Fv="__vector__",hd="value";function Ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hd(s)?4:HR(s)?9007199254740991:BR(s)?10:11:St()}function ri(s,e){if(s===e)return!0;const i=Ts(s);if(i!==Ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dc(s).isEqual(dc(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Es(o.timestampValue),p=Es(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Ia(o.bytesValue).isEqual(Ia(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return Pe(o.geoPointValue.latitude)===Pe(h.geoPointValue.latitude)&&Pe(o.geoPointValue.longitude)===Pe(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Pe(o.integerValue)===Pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Pe(o.doubleValue),p=Pe(h.doubleValue);return d===p?fc(d)===fc(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return wa(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(l_(d)!==l_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ri(d[_],p[_])))return!1;return!0}(s,e);default:return St()}}function so(s,e){return(s.values||[]).find(i=>ri(i,e))!==void 0}function Ca(s,e){if(s===e)return 0;const i=Ts(s),a=Ts(e);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=Pe(h.integerValue||h.doubleValue),_=Pe(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return u_(s.timestampValue,e.timestampValue);case 4:return u_(dc(s),dc(e));case 5:return cd(s.stringValue,e.stringValue);case 6:return function(h,d){const p=Ia(h),_=Ia(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Mt(p[v],_[v]);if(S!==0)return S}return Mt(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Mt(Pe(h.latitude),Pe(d.latitude));return p!==0?p:Mt(Pe(h.longitude),Pe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return c_(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,S;const V=h.fields||{},H=d.fields||{},Z=(p=V[hd])===null||p===void 0?void 0:p.arrayValue,J=(_=H[hd])===null||_===void 0?void 0:_.arrayValue,at=Mt(((v=Z==null?void 0:Z.values)===null||v===void 0?void 0:v.length)||0,((S=J==null?void 0:J.values)===null||S===void 0?void 0:S.length)||0);return at!==0?at:c_(Z,J)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Yu.mapValue&&d===Yu.mapValue)return 0;if(h===Yu.mapValue)return 1;if(d===Yu.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let V=0;V<_.length&&V<S.length;++V){const H=cd(_[V],S[V]);if(H!==0)return H;const Z=Ca(p[_[V]],v[S[V]]);if(Z!==0)return Z}return Mt(_.length,S.length)}(s.mapValue,e.mapValue);default:throw St()}}function u_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=Es(s),a=Es(e),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function c_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ca(i[o],a[o]);if(h)return h}return Mt(i.length,a.length)}function Da(s){return fd(s)}function fd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Es(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ia(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return yt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=fd(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${fd(i.fields[d])}`;return o+"}"}(s.mapValue):St()}function ec(s){switch(Ts(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(s);return e?16+ec(e):16;case 5:return 2*s.stringValue.length;case 6:return Ia(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+ec(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Pa(a.fields,(h,d)=>{o+=h.length+ec(d)}),o}(s.mapValue);default:throw St()}}function dd(s){return!!s&&"integerValue"in s}function qd(s){return!!s&&"arrayValue"in s}function nc(s){return!!s&&"mapValue"in s}function BR(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gv])===null||i===void 0?void 0:i.stringValue)===Fv}function Zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Pa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Zl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function HR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=Le.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Zl(d):o.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Pa(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Mn(Zl(this.value))}}function Qv(s){const e=[];return Pa(s.fields,(i,a)=>{const o=new Le([i]);if(nc(a)){const h=Qv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,i,a,o,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new On(e,0,Jt.min(),Jt.min(),Jt.min(),Mn.empty(),0)}static newFoundDocument(e,i,a,o){return new On(e,1,i,Jt.min(),a,o,0)}static newNoDocument(e,i){return new On(e,2,i,Jt.min(),Jt.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new On(e,3,i,Jt.min(),Jt.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.position=e,this.inclusive=i}}function h_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=Ca(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function f_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i="asc"){this.field=e,this.dir=i}}function jR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{}class we extends Yv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new GR(e,i,a):i==="array-contains"?new YR(e,a):i==="in"?new KR(e,a):i==="not-in"?new XR(e,a):i==="array-contains-any"?new $R(e,a):new we(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new FR(e,a):new QR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ca(i,this.value)):i!==null&&Ts(this.value)===Ts(i)&&this.matchesComparison(Ca(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Yv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new br(e,i)}matches(e){return Kv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Kv(s){return s.op==="and"}function Xv(s){return qR(s)&&Kv(s)}function qR(s){for(const e of s.filters)if(e instanceof br)return!1;return!0}function md(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Da(s.value);if(Xv(s))return s.filters.map(e=>md(e)).join(",");{const e=s.filters.map(i=>md(i)).join(",");return`${s.op}(${e})`}}function $v(s,e){return s instanceof we?function(a,o){return o instanceof we&&a.op===o.op&&a.field.isEqual(o.field)&&ri(a.value,o.value)}(s,e):s instanceof br?function(a,o){return o instanceof br&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,p)=>h&&$v(d,o.filters[p]),!0):!1}(s,e):void St()}function Zv(s){return s instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${Da(i.value)}`}(s):s instanceof br?function(i){return i.op.toString()+" {"+i.getFilters().map(Zv).join(" ,")+"}"}(s):"Filter"}class GR extends we{constructor(e,i,a){super(e,i,a),this.key=yt.fromName(a.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class FR extends we{constructor(e,i){super(e,"in",i),this.keys=Jv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class QR extends we{constructor(e,i){super(e,"not-in",i),this.keys=Jv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Jv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>yt.fromName(a.referenceValue))}class YR extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qd(i)&&so(i.arrayValue,this.value)}}class KR extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class XR extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!so(this.value.arrayValue,i)}}class $R extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>so(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,i=null,a=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function d_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new ZR(s,e,i,a,o,h,d)}function Gd(s){const e=Xt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>md(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Bd(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Da(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Da(a)).join(",")),e.le=i}return e.le}function Fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!jR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!$v(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!f_(s.startAt,e.startAt)&&f_(s.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i=null,a=[],o=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function JR(s,e,i,a,o,h,d,p){return new Oc(s,e,i,a,o,h,d,p)}function WR(s){return new Oc(s)}function m_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tw(s){return s.collectionGroup!==null}function Jl(s){const e=Xt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new yc(h,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new yc(Le.keyField(),a))}return e.he}function ms(s){const e=Xt(s);return e.Pe||(e.Pe=ew(e,Jl(s))),e.Pe}function ew(s,e){if(s.limitType==="F")return d_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new yc(o.field,h)});const i=s.endAt?new pc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new pc(s.startAt.position,s.startAt.inclusive):null;return d_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function gd(s,e,i){return new Oc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Wv(s,e){return Fd(ms(s),ms(e))&&s.limitType===e.limitType}function tE(s){return`${Gd(ms(s))}|lt:${s.limitType}`}function Ql(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Zv(o)).join(", ")}]`),Bd(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Da(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Da(o)).join(",")),`Target(${a})`}(ms(s))}; limitType=${s.limitType})`}function Qd(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):yt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Jl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,p,_){const v=h_(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Jl(a),o)||a.endAt&&!function(d,p,_){const v=h_(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Jl(a),o))}(s,e)}function nw(s){return(e,i)=>{let a=!1;for(const o of Jl(s)){const h=iw(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function iw(s,e,i){const a=s.field.isKeyField()?yt.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Ca(_,v):St()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return zv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new We(yt.comparator);function _c(){return rw}const eE=new We(yt.comparator);function Ku(...s){let e=eE;for(const i of s)e=e.insert(i.key,i);return e}function nE(s){let e=eE;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function fs(){return Wl()}function iE(){return Wl()}function Wl(){return new Ss(s=>s.toString(),(s,e)=>s.isEqual(e))}const sw=new We(yt.comparator),aw=new ke(yt.comparator);function qe(...s){let e=aw;for(const i of s)e=e.add(i);return e}const lw=new ke(Mt);function ow(){return lw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function rE(s){return{integerValue:""+s}}function uw(s,e){return VR(e)?rE(e):Yd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function cw(s,e,i){return s instanceof vc?function(o,h){const d={fields:{[Hv]:{stringValue:Bv},[qv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Hd(h)&&(h=jd(h)),h&&(d.fields[jv]=h),{mapValue:d}}(i,e):s instanceof ao?aE(s,e):s instanceof lo?lE(s,e):function(o,h){const d=sE(o,h),p=g_(d)+g_(o.Ie);return dd(d)&&dd(o.Ie)?rE(p):Yd(o.serializer,p)}(s,e)}function hw(s,e,i){return s instanceof ao?aE(s,e):s instanceof lo?lE(s,e):i}function sE(s,e){return s instanceof Ec?function(a){return dd(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class vc extends Nc{}class ao extends Nc{constructor(e){super(),this.elements=e}}function aE(s,e){const i=oE(e);for(const a of s.elements)i.some(o=>ri(o,a))||i.push(a);return{arrayValue:{values:i}}}class lo extends Nc{constructor(e){super(),this.elements=e}}function lE(s,e){let i=oE(e);for(const a of s.elements)i=i.filter(o=>!ri(o,a));return{arrayValue:{values:i}}}class Ec extends Nc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function g_(s){return Pe(s.integerValue||s.doubleValue)}function oE(s){return qd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fw(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof ao&&o instanceof ao||a instanceof lo&&o instanceof lo?wa(a.elements,o.elements,ri):a instanceof Ec&&o instanceof Ec?ri(a.Ie,o.Ie):a instanceof vc&&o instanceof vc}(s.transform,e.transform)}class dw{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mc{}function uE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hE(s.key,Vi.none()):new po(s.key,s.data,Vi.none());{const i=s.data,a=Mn.empty();let o=new ke(Le.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new bs(s.key,a,new Pn(o.toArray()),Vi.none())}}function mw(s,e,i){s instanceof po?function(o,h,d){const p=o.value.clone(),_=y_(o.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof bs?function(o,h,d){if(!ic(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=y_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(cE(o)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function to(s,e,i,a){return s instanceof po?function(h,d,p,_){if(!ic(h.precondition,d))return p;const v=h.value.clone(),S=__(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof bs?function(h,d,p,_){if(!ic(h.precondition,d))return p;const v=__(h.fieldTransforms,_,d),S=d.data;return S.setAll(cE(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,p){return ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function gw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=sE(a.transform,o||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,h))}return i||null}function p_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wa(a,o,(h,d)=>fw(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class po extends Mc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends Mc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cE(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function y_(s,e,i){const a=new Map;se(s.length===i.length);for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,p=e.data.field(h.field);a.set(h.field,hw(d,p,i[o]))}return a}function __(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,cw(h,d,e))}return a}class hE extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&mw(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=to(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=to(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=iE();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const _=uE(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Jt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),qe())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(i,a)=>p_(i,a))&&wa(this.baseMutations,e.baseMutations,(i,a)=>p_(i,a))}}class Kd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){se(e.mutations.length===a.length);let o=function(){return sw}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Kd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Ot;function vw(s){switch(s){case K.OK:return St();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return St()}}function Ew(s){if(s===void 0)return vs("GRPC error has no .code"),K.UNKNOWN;switch(s){case de.OK:return K.OK;case de.CANCELLED:return K.CANCELLED;case de.UNKNOWN:return K.UNKNOWN;case de.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case de.INTERNAL:return K.INTERNAL;case de.UNAVAILABLE:return K.UNAVAILABLE;case de.UNAUTHENTICATED:return K.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case de.NOT_FOUND:return K.NOT_FOUND;case de.ALREADY_EXISTS:return K.ALREADY_EXISTS;case de.PERMISSION_DENIED:return K.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case de.ABORTED:return K.ABORTED;case de.OUT_OF_RANGE:return K.OUT_OF_RANGE;case de.UNIMPLEMENTED:return K.UNIMPLEMENTED;case de.DATA_LOSS:return K.DATA_LOSS;default:return St()}}(Ot=de||(de={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Pd([4294967295,4294967295],0);class Tw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Sw(s,e){return pd(s,e.toTimestamp())}function Sa(s){return se(!!s),Jt.fromTimestamp(function(i){const a=Es(i);return new Ie(a.seconds,a.nanos)}(s))}function fE(s,e){return yd(s,e).canonicalString()}function yd(s,e){const i=function(o){return new re(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function bw(s){const e=re.fromString(s);return se(Mw(e)),e}function _d(s,e){return fE(s.databaseId,e.path)}function Rw(s){const e=bw(s);return e.length===4?re.emptyPath():Iw(e)}function ww(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Iw(s){return se(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function v_(s,e,i){return{name:_d(s,e),fields:i.value.mapValue.fields}}function Cw(s,e){let i;if(e instanceof po)i={update:v_(s,e.key,e.value)};else if(e instanceof hE)i={delete:_d(s,e.key)};else if(e instanceof bs)i={update:v_(s,e.key,e.data),updateMask:Nw(e.fieldMask)};else{if(!(e instanceof pw))return St();i={verify:_d(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ec)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw St()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Sw(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:St()}(s,e.precondition)),i}function Dw(s,e){return s&&s.length>0?(se(e!==void 0),s.map(i=>function(o,h){let d=o.updateTime?Sa(o.updateTime):Sa(h);return d.isEqual(Jt.min())&&(d=Sa(h)),new dw(d,o.transformResults||[])}(i,e))):[]}function Ow(s){let e=Rw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){se(a===1);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(V){const H=dE(V);return H instanceof br&&Xv(H)?H.getFilters():[H]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(H=>function(J){return new yc(_a(J.field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(H))}(i.orderBy));let p=null;i.limit&&(p=function(V){let H;return H=typeof V=="object"?V.value:V,Bd(H)?null:H}(i.limit));let _=null;i.startAt&&(_=function(V){const H=!!V.before,Z=V.values||[];return new pc(Z,H)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const H=!V.before,Z=V.values||[];return new pc(Z,H)}(i.endAt)),JR(e,o,d,h,p,"F",_,v)}function dE(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=_a(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=_a(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_a(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_a(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(s):s.fieldFilter!==void 0?function(i){return we.create(_a(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return br.create(i.compositeFilter.filters.map(a=>dE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St()}}(i.compositeFilter.op))}(s):St()}function _a(s){return Le.fromServerFormat(s.fieldPath)}function Nw(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Mw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.Tt=e}}function Uw(s){const e=Ow({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.Tn=new Lw}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class Lw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new ke(re.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new ke(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class Je{static withCacheSize(e){return new Je(e,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.DEFAULT_COLLECTION_PERCENTILE=10,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Je.DEFAULT=new Je(mE,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Je.DISABLED=new Je(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Oa(0)}static Kn(){return new Oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",kw=1048576;function A_([s,e],[i,a]){const o=Mt(s,i);return o===0?Mt(e,a):o}class xw{constructor(e){this.Hn=e,this.buffer=new ke(A_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();A_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zw{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(T_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?it(T_,"Ignoring IndexedDB error during garbage collection: ",i):await kd(i)}await this.er(3e5)})}}class Bw{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(xd.ae);const a=new xw(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(E_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,h,d,p,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(a=V,p=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),ya()<=Rt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:V})))}}function Hw(s,e){return new Bw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.changes=new Ss(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&to(a.mutation,o,Pn.empty(),Ie.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,qe()).next(()=>a))}getLocalViewOfDocuments(e,i,a=qe()){const o=fs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Ku();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=fs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,qe()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,o){let h=_c();const d=Wl(),p=function(){return Wl()}();return i.forEach((_,v)=>{const S=a.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof bs)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),to(S.mutation,v,S.mutation.getFieldMask(),Ie.now())):d.set(v.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var V;return p.set(v,new qw(S,(V=d.get(v))!==null&&V!==void 0?V:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Wl();let o=new We((d,p)=>d-p),h=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||Pn.empty();S=p.applyToLocalView(v,S),a.set(_,S);const V=(o.get(p.batchId)||qe()).add(_);o=o.insert(p.batchId,V)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,V=iE();S.forEach(H=>{if(!h.has(H)){const Z=uE(i.get(H),a.get(H));Z!==null&&V.set(H,Z),h=h.add(H)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Q.resolve(fs());let p=ro,_=h;return d.next(v=>Q.forEach(v,(S,V)=>(p<V.largestBatchId&&(p=V.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(H=>{_=_.insert(S,H)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,qe())).next(S=>({batchId:p,changes:nE(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next(a=>{let o=Ku();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ku();return this.indexManager.getCollectionParents(e,h).next(p=>Q.forEach(p,_=>{const v=function(V,H){return new Oc(H,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(S=>{S.forEach((V,H)=>{d=d.insert(V,H)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,On.newInvalidDocument(S)))});let p=Ku();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&to(S.mutation,v,Pn.empty(),Ie.now()),Qd(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Sa(o.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Uw(o.bundledQuery),readTime:Sa(o.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.overlays=new We(yt.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fs();return Q.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const o=fs(),h=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new We((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=fs(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=fs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>p.set(v,S)),!(p.size()>=o)););return Q.resolve(p)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _w(i,a));let h=this.Rr.get(i);h===void 0&&(h=qe(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.Vr=new ke(Re.mr),this.gr=new ke(Re.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Re(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Re(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new yt(new re([])),a=new Re(i,e),o=new Re(i,e+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new yt(new re([])),a=new Re(i,e),o=new Re(i,e+1);let h=qe();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Re(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Re{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return yt.comparator(e.key,i.key)||Mt(e.Cr,i.Cr)}static pr(e,i){return Mt(e.Cr,i.Cr)||yt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Re.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yw(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Mr=this.Mr.add(new Re(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?zd:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Re(i,0),o=new Re(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const p=this.Or(d.Cr);h.push(p)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new ke(Mt);return i.forEach(o=>{const h=new Re(o,0),d=new Re(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{a=a.add(p.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;yt.isDocumentKey(h)||(h=h.child(""));const d=new Re(new yt(h),0);let p=new ke(Mt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Cr)),!0)},d),Q.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){se(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,o=>{const h=new Re(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Re(i,0),o=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.kr=e,this.docs=function(){return new We(yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():On.newInvalidDocument(i))}getEntries(e,i){let a=_c();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():On.newInvalidDocument(o))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=_c();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||DR(CR(S),a)<=0||(o.has(S.key)||Qd(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,o){St()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new $w(this)}getSize(e){return Q.resolve(this.size)}}class $w extends jw{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.persistence=e,this.Qr=new Ss(i=>Gd(i),Fd),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xd,this.targetCount=0,this.Kr=Oa.Un()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Oa(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Q.waitFor(h).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new xd(0),this.zr=!1,this.zr=!0,this.jr=new Yw,this.referenceDelegate=e(this),this.Hr=new Zw(this),this.indexManager=new Pw,this.remoteDocumentCache=function(o){return new Xw(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Vw(i),this.Yr=new Fw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Qw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new Kw(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const o=new Jw(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class Jw extends NR{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.ti=new Xd,this.ni=null}static ri(e){return new $d(e)}get ii(){if(this.ni)return this.ni;throw St()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const o=yt.fromPath(a);return this.si(e,o).next(h=>{h||i.removeEntry(o,Jt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Tc{constructor(e,i){this.persistence=e,this.oi=new Ss(a=>UR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Hw(this,i)}static ri(e,i){return new Tc(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(h=>h?Q.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(p=>{p||(a++,h.removeEntry(d,Jt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Q.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=qe(),o=qe();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Zd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return xT()?8:MR(Ge())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Ww;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,a,o){return a.documentReadCount<this.es?(ya()<=Rt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ql(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(ya()<=Rt.DEBUG&&it("QueryEngine","Query:",Ql(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(ya()<=Rt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ql(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(i))):Q.resolve())}rs(e,i){if(m_(i))return Q.resolve(null);let a=ms(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=gd(i,null,"F"),a=ms(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=qe(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,p);return this.ls(i,v,d,_.readTime)?this.rs(e,gd(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,o){return m_(i)||o.isEqual(Jt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?Q.resolve(null):(ya()<=Rt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ql(i)),this.hs(e,d,i,IR(o,ro)).next(p=>p))})}cs(e,i){let a=new ke(nw(e));return i.forEach((o,h)=>{Qd(e,h)&&(a=a.add(h))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,a){return ya()<=Rt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ql(i)),this.ns.getDocumentsMatchingQuery(e,i,Sr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="LocalStore";class n1{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new We(Mt),this.Is=new Ss(h=>Gd(h),Fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function i1(s,e,i,a){return new n1(s,e,i,a)}async function pE(s,e){const i=Xt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=qe();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:p}))})})}function r1(s,e){const i=Xt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,_,v,S){const V=v.batch,H=V.keys();let Z=Q.resolve();return H.forEach(J=>{Z=Z.next(()=>S.getEntry(_,J)).next(at=>{const et=v.docVersions.get(J);se(et!==null),at.version.compareTo(et)<0&&(V.applyToRemoteDocument(at,v),at.isValidDocument()&&(at.setReadTime(v.commitVersion),S.addEntry(at)))})}),Z.next(()=>p.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=qe();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function s1(s){const e=Xt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function a1(s,e){const i=Xt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=zd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class S_{constructor(){this.activeTargetIds=ow()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l1{constructor(){this.ho=new S_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new S_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class R_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(b_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function vd(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",u1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===mc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,h){const d=vd(),p=this.bo(e,i.toUriEncodedString());it(Jf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,p,_,a).then(v=>(it(Jf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw Dc(Jf,`RPC '${e}' ${d} failed with error: `,v,"url: ",p,"request:",a),v})}Co(e,i,a,o,h,d){return this.So(e,i,a,o,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const a=u1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class f1 extends c1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const h=vd();return new Promise((d,p)=>{const _=new Nv;_.setWithCredentials(!0),_.listenOnce(Mv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case tc.NO_ERROR:const S=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case tc.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),p(new ft(K.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const V=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H==null?void 0:H.error;if(Z&&Z.status&&Z.message){const J=function(et){const Nt=et.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Nt)>=0?Nt:K.UNKNOWN}(Z.status);p(new ft(J,Z.message))}else p(new ft(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ft(K.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);it(He,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const o=vd(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Pv(),p=Uv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=h.join("");it(He,`Creating RPC '${e}' stream ${o}: ${S}`,_);const V=d.createWebChannel(S,_);let H=!1,Z=!1;const J=new h1({Fo:et=>{Z?it(He,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(H||(it(He,`Opening RPC '${e}' stream ${o} transport.`),V.open(),H=!0),it(He,`RPC '${e}' stream ${o} sending:`,et),V.send(et))},Mo:()=>V.close()}),at=(et,Nt,bt)=>{et.listen(Nt,mt=>{try{bt(mt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return at(V,Xl.EventType.OPEN,()=>{Z||(it(He,`RPC '${e}' stream ${o} transport opened.`),J.Qo())}),at(V,Xl.EventType.CLOSE,()=>{Z||(Z=!0,it(He,`RPC '${e}' stream ${o} transport closed`),J.Uo())}),at(V,Xl.EventType.ERROR,et=>{Z||(Z=!0,Dc(He,`RPC '${e}' stream ${o} transport errored:`,et),J.Uo(new ft(K.UNAVAILABLE,"The operation could not be completed")))}),at(V,Xl.EventType.MESSAGE,et=>{var Nt;if(!Z){const bt=et.data[0];se(!!bt);const mt=bt,Pt=(mt==null?void 0:mt.error)||((Nt=mt[0])===null||Nt===void 0?void 0:Nt.error);if(Pt){it(He,`RPC '${e}' stream ${o} received error:`,Pt);const gt=Pt.status;let Vt=function(R){const D=de[R];if(D!==void 0)return Ew(D)}(gt),O=Pt.message;Vt===void 0&&(Vt=K.INTERNAL,O="Unknown error status: "+gt+" with message "+Pt.message),Z=!0,J.Uo(new ft(Vt,O)),V.close()}else it(He,`RPC '${e}' stream ${o} received:`,bt),J.Ko(bt)}}),at(p,Vv.STAT_EVENT,et=>{et.stat===ud.PROXY?it(He,`RPC '${e}' stream ${o} detected buffering proxy`):et.stat===ud.NOPROXY&&it(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.$o()},0),J}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(s){return new Tw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class d1{constructor(e,i,a,o,h,d,p,_){this.Ti=e,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yE(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new ft(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m1 extends d1{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return se(!!e.streamToken),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=Dw(e.writeResults,e.commitTime),a=Sa(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=ww(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>Cw(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{}class p1 extends g1{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ft(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,yd(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(K.UNKNOWN,h.toString())})}Co(e,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,yd(i,a),o,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class y1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vs(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class _1{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{vo(this)&&(it(yo,"Restarting streams for network reachability change."),await async function(_){const v=Xt(_);v.W_.add(4),await _o(v),v.j_.set("Unknown"),v.W_.delete(4),await Uc(v)}(this))})}),this.j_=new y1(a,o)}}async function Uc(s){if(vo(s))for(const e of s.G_)await e(!0)}async function _o(s){for(const e of s.G_)await e(!1)}function vo(s){return Xt(s).W_.size===0}async function _E(s,e,i){if(!go(e))throw e;s.W_.add(1),await _o(s),s.j_.set("Offline"),i||(i=()=>s1(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(yo,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await Uc(s)})}function vE(s,e){return e().catch(i=>_E(s,i,e))}async function Pc(s){const e=Xt(s),i=Rr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:zd;for(;v1(e);)try{const o=await a1(e.localStore,a);if(o===null){e.U_.length===0&&i.P_();break}a=o.batchId,E1(e,o)}catch(o){await _E(e,o)}EE(e)&&TE(e)}function v1(s){return vo(s)&&s.U_.length<10}function E1(s,e){s.U_.push(e);const i=Rr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function EE(s){return vo(s)&&!Rr(s).u_()&&s.U_.length>0}function TE(s){Rr(s).start()}async function T1(s){Rr(s).C_()}async function A1(s){const e=Rr(s);for(const i of s.U_)e.b_(i.mutations)}async function S1(s,e,i){const a=s.U_.shift(),o=Kd.from(a,e,i);await vE(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Pc(s)}async function b1(s,e){e&&Rr(s).S_&&await async function(a,o){if(function(d){return vw(d)&&d!==K.ABORTED}(o.code)){const h=a.U_.shift();Rr(a).h_(),await vE(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Pc(a)}}(s,e),EE(s)&&TE(s)}async function I_(s,e){const i=Xt(s);i.asyncQueue.verifyOperationInProgress(),it(yo,"RemoteStore received new credentials");const a=vo(i);i.W_.add(3),await _o(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Uc(i)}async function R1(s,e){const i=Xt(s);e?(i.W_.delete(2),await Uc(i)):e||(i.W_.add(2),await _o(i),i.j_.set("Unknown"))}function Rr(s){return s.Y_||(s.Y_=function(i,a,o){const h=Xt(i);return h.M_(),new m1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:T1.bind(null,s),Lo:b1.bind(null,s),D_:A1.bind(null,s),v_:S1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await Pc(s)):(await s.Y_.stop(),s.U_.length>0&&(it(yo,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,p=new Jd(e,i,d,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AE(s,e){if(vs("AsyncQueue",`${e}: ${s}`),go(s))return new ft(K.UNAVAILABLE,`${e}: ${s}`);throw s}class w1{constructor(){this.queries=C_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=Xt(i),h=o.queries;o.queries=C_(),h.forEach((d,p)=>{for(const _ of p.ta)_.onError(a)})})(this,new ft(K.ABORTED,"Firestore shutting down"))}}function C_(){return new Ss(s=>tE(s),Wv)}function I1(s){s.ia.forEach(e=>{e.next()})}var D_,O_;(O_=D_||(D_={}))._a="default",O_.Cache="cache";const C1="SyncEngine";class D1{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ss(p=>tE(p),Wv),this.qa=new Map,this.Qa=new Set,this.$a=new We(yt.comparator),this.Ua=new Map,this.Ka=new Xd,this.Wa={},this.Ga=new Map,this.za=Oa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function O1(s,e,i){const a=U1(s);try{const o=await function(d,p){const _=Xt(d),v=Ie.now(),S=p.reduce((Z,J)=>Z.add(J.key),qe());let V,H;return _.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let J=_c(),at=qe();return _.ds.getEntries(Z,S).next(et=>{J=et,J.forEach((Nt,bt)=>{bt.isValidDocument()||(at=at.add(Nt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Z,J)).next(et=>{V=et;const Nt=[];for(const bt of p){const mt=gw(bt,V.get(bt.key).overlayedDocument);mt!=null&&Nt.push(new bs(bt.key,mt,Qv(mt.value.mapValue),Vi.exists(!0)))}return _.mutationQueue.addMutationBatch(Z,v,Nt,p)}).next(et=>{H=et;const Nt=et.applyToLocalDocumentSet(V,at);return _.documentOverlayCache.saveOverlays(Z,et.batchId,Nt)})}).then(()=>({batchId:H.batchId,changes:nE(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new We(Mt)),v=v.insert(p,_),d.Wa[d.currentUser.toKey()]=v}(a,o.batchId,i),await Lc(a,o.changes),await Pc(a.remoteStore)}catch(o){const h=AE(o,"Failed to persist write");i.reject(h)}}function N_(s,e,i){const a=Xt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const _=Xt(d);_.onlineState=p;let v=!1;_.queries.forEach((S,V)=>{for(const H of V.ta)H.sa(p)&&(v=!0)}),v&&I1(_)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function N1(s,e){const i=Xt(s),a=e.batch.batchId;try{const o=await r1(i.localStore,e);bE(i,a,null),SE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Lc(i,o)}catch(o){await kd(o)}}async function M1(s,e,i){const a=Xt(s);try{const o=await function(d,p){const _=Xt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next(V=>(se(V!==null),S=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);bE(a,e,i),SE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Lc(a,o)}catch(o){await kd(o)}}function SE(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function bE(s,e,i){const a=Xt(s);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}async function Lc(s,e,i){const a=Xt(s),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((p,_)=>{d.push(a.Ha(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const V=v?!v.fromCache:(S=void 0)===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){o.push(v);const V=Zd.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),a.La.p_(o),await async function(_,v){const S=Xt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Q.forEach(v,H=>Q.forEach(H.Hi,Z=>S.persistence.referenceDelegate.addReference(V,H.targetId,Z)).next(()=>Q.forEach(H.Ji,Z=>S.persistence.referenceDelegate.removeReference(V,H.targetId,Z)))))}catch(V){if(!go(V))throw V;it(e1,"Failed to update sequence numbers: "+V)}for(const V of v){const H=V.targetId;if(!V.fromCache){const Z=S.Ts.get(H),J=Z.snapshotVersion,at=Z.withLastLimboFreeSnapshotVersion(J);S.Ts=S.Ts.insert(H,at)}}}(a.localStore,h))}async function V1(s,e){const i=Xt(s);if(!i.currentUser.isEqual(e)){it(C1,"User change. New user:",e.toKey());const a=await pE(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(_=>{_.reject(new ft(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Lc(i,a.Rs)}}function U1(s){const e=Xt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M1.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return i1(this.persistence,new t1,e.initialUser,this.serializer)}Xa(e){return new gE($d.ri,this.serializer)}Za(e){return new l1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class P1 extends Ac{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){se(this.persistence.referenceDelegate instanceof Tc);const a=this.persistence.referenceDelegate.garbageCollector;return new zw(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new gE(a=>Tc.ri(a,i),this.serializer)}}class Ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>N_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=V1.bind(null,this.syncEngine),await R1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w1}()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),a=function(h){return new f1(h)}(e.databaseInfo);return function(h,d,p,_){return new p1(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,p){return new _1(a,o,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>N_(this.syncEngine,i,0),function(){return R_.D()?new R_:new o1}())}createSyncEngine(e,i){return function(o,h,d,p,_,v,S){const V=new D1(o,h,d,p,_,v);return S&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Xt(o);it(yo,"RemoteStore shutting down."),h.W_.add(5),await _o(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ed.provider={build:()=>new Ed};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class L1{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=je.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=AE(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function td(s,e){s.asyncQueue.verifyOperationInProgress(),it(wr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await pE(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function M_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await k1(s);it(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>I_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>I_(e.remoteStore,o)),s._onlineComponents=e}async function k1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(wr,"Using user provided OfflineComponentProvider");try{await td(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Dc("Error using user provided cache. Falling back to memory cache: "+i),await td(s,new Ac)}}else it(wr,"Using default OfflineComponentProvider"),await td(s,new P1(void 0));return s._offlineComponents}async function x1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(wr,"Using user provided OnlineComponentProvider"),await M_(s,s._uninitializedComponentsProvider._online)):(it(wr,"Using default OnlineComponentProvider"),await M_(s,new Ed))),s._onlineComponents}function z1(s){return x1(s).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(s,e,i){if(!i)throw new ft(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function B1(s,e,i,a){if(e===!0&&a===!0)throw new ft(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function U_(s){if(!yt.isDocumentKey(s))throw new ft(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function P_(s){if(yt.isDocumentKey(s))throw new ft(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":St()}function IE(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ft(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wd(s);throw new ft(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firestore.googleapis.com",L_=!0;class k_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=L_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:L_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kw)throw new ft(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ft(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ft(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ft(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new yR;switch(a.type){case"firstParty":return new TR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=V_.get(i);a&&(it("ComponentProvider","Removing Datastore"),V_.delete(i),a.terminate())}(this),Promise.resolve()}}function H1(s,e,i,a={}){var o;const h=(s=IE(s,kc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==CE&&h.host!==p&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:a});if(!gs(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=je.MOCK_USER;else{v=NT(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new ft(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new je(V)}s._authCredentials=new _R(new Lv(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new tm(this.firestore,e,this._query)}}class Ui{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Ar extends tm{constructor(e,i,a){super(e,i,WR(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new yt(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function j1(s,e,...i){if(s=Sn(s),wE("collection","path",e),s instanceof kc){const a=re.fromString(e,...i);return P_(a),new Ar(s,null,a)}{if(!(s instanceof Ui||s instanceof Ar))throw new ft(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(e,...i));return P_(a),new Ar(s.firestore,null,a)}}function q1(s,e,...i){if(s=Sn(s),arguments.length===1&&(e=kv.newId()),wE("doc","path",e),s instanceof kc){const a=re.fromString(e,...i);return U_(a),new Ui(s,null,new yt(a))}{if(!(s instanceof Ui||s instanceof Ar))throw new ft(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(e,...i));return U_(a),new Ui(s.firestore,s instanceof Ar?s.converter:null,new yt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yE(this,"async_queue_retry"),this.Su=()=>{const a=Wf();a&&it(x_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ds;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!go(e))throw e;it(x_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(a);throw vs("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Jd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&St()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class DE extends kc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function G1(s,e){const i=typeof s=="object"?s:K_(),a=typeof s=="string"?s:mc,o=bd(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=DT("firestore");h&&H1(o,...h)}return o}function F1(s){if(s._terminated)throw new ft(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Q1(s),s._firestoreClient}function Q1(s){var e,i,a;const o=s._freezeSettings(),h=function(p,_,v,S){return new xR(p,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,RE(S.experimentalLongPollingOptions),S.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new L1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(ii.fromBase64String(e))}catch(i){throw new ft(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new oo(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^__.*__$/;class K1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,i,this.fieldTransforms):new po(e,this.data,i,this.fieldTransforms)}}function UE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class em{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(UE(this.Lu)&&Y1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class X1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vc(e)}ju(e,i,a,o=!1){return new em({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $1(s){const e=s._freezeSettings(),i=Vc(s._databaseId);return new X1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Z1(s,e,i,a,o,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,o);xE("Data must be an object, but it was:",d,a);const p=LE(a,d);let _,v;if(h.merge)_=new Pn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const V of h.mergeFields){const H=J1(e,V,i);if(!d.contains(H))throw new ft(K.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);eI(S,H)||S.push(H)}_=new Pn(S),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new K1(new Mn(p),_,v)}function PE(s,e){if(kE(s=Sn(s)))return xE("Unsupported field value:",e,s),LE(s,e);if(s instanceof NE)return function(a,o){if(!UE(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const p of a){let _=PE(p,o.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return uw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ie.fromDate(a);return{timestampValue:pd(o.serializer,h)}}if(a instanceof Ie){const h=new Ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:pd(o.serializer,h)}}if(a instanceof ME)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof oo)return{bytesValue:Aw(o.serializer,a._byteString)};if(a instanceof Ui){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:fE(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof VE)return function(d,p){return{mapValue:{fields:{[Gv]:{stringValue:Fv},[hd]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Wu("VectorValues must only contain numeric values.");return Yd(p.serializer,v)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Wd(a)}`)}(s,e)}function LE(s,e){const i={};return zv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(s,(a,o)=>{const h=PE(o,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function kE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ie||s instanceof ME||s instanceof oo||s instanceof Ui||s instanceof NE||s instanceof VE)}function xE(s,e,i){if(!kE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Wd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function J1(s,e,i){if((e=Sn(e))instanceof OE)return e._internalPath;if(typeof e=="string")return tI(s,e);throw Sc("Field path arguments must be of type string or ",s,!1,void 0,i)}const W1=new RegExp("[~\\*/\\[\\]]");function tI(s,e,i){if(e.search(W1)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new OE(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Sc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ft(K.INVALID_ARGUMENT,p+s+_)}function eI(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}function iI(s,e){const i=IE(s.firestore,DE),a=q1(s),o=nI(s.converter,e);return rI(i,[Z1($1(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then(()=>a)}function rI(s,e){return function(a,o){const h=new ds;return a.asyncQueue.enqueueAndForget(async()=>O1(await z1(a),o,h)),h.promise}(F1(s),e)}(function(e,i=!0){(function(o){Ua=o})(Na),ba(new ps("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new DE(new vR(a.getProvider("auth-internal")),new AR(d,a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ft(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(v.options.projectId,S)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),Er(Wy,t_,e),Er(Wy,t_,"esm2017")})();function sI(){const s=Rd(Ov),e=G1(s),[i,a]=Vn.useState([]),[o,h]=Vn.useState(""),[d,p]=Vn.useState(0);Vn.useEffect(()=>{},[]);const _=async()=>{const S={id:"1",name:o,price:d},V=await iI(j1(e,"product"),S);a([...i,{...S,id:V.id}])},v=S=>{h(S.target.value),p(parseFloat(S.target.value))};return wt.jsxs("div",{children:[wt.jsx("h1",{children:"Tuotelista"}),wt.jsxs("div",{children:[wt.jsx("input",{type:"text",value:o,onChange:v,placeholder:"Tuotteen nimi"}),wt.jsx("input",{type:"number",value:d,onChange:v,placeholder:"Hinta"}),wt.jsx("button",{onClick:_,children:"Lisää tuote"})]})]})}function aI(){const s=(h,d,p)=>{const _=new Date(Date.now()+p*864e5).toUTCString();document.cookie=h+"="+encodeURIComponent(d)+"; expires="+_+"; path=/"},e=h=>{var _;const p=`; ${document.cookie}`.split(`; ${h}=`);return p.length===2?parseInt(decodeURIComponent(((_=p.pop())==null?void 0:_.split(";").shift())||""),10):0},[i,a]=Vn.useState(e("Count")||0),o=Vn.useCallback(h=>{console.log("Toiminto(X, Y): ("+h.pageX+", "+h.pageY+")"),a(d=>d+1),s("Count",""+(i+1),1)},[s]);return Vn.useEffect(()=>{(window._mtm=window._mtm||[]).push({"mtm.startTime":new Date().getTime(),event:"mtm.Start"});const d=document,p=d.createElement("script"),_=d.getElementsByTagName("script")[0];p.async=!0,p.src="https://pilvipalvelut-matomo.2.rahtiapp.fi/js/container_XN0ubwh9.js",_&&_.parentNode&&_.parentNode.insertBefore(p,_)},[]),wt.jsxs(wt.Fragment,{children:[wt.jsxs("div",{children:[wt.jsx("a",{href:"https://vite.dev",target:"_blank",children:wt.jsx("img",{src:ET,className:"logo reverse",alt:"Vite logo"})}),wt.jsx("a",{href:"https://react.dev",target:"_blank",children:wt.jsx("img",{src:vT,className:"logo react",alt:"React logo"})})]}),wt.jsx("button",{className:"logo",onClick:o,children:"Wheee!"}),wt.jsxs("div",{className:"card",children:[wt.jsxs("button",{className:"logo reverse",onClick:o,children:["count is ",i]}),wt.jsx(pR,{}),wt.jsxs("p",{children:["Edit ",wt.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]}),wt.jsx(sI,{})]}),wt.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more. And click the other spinning stuff to increase the count."})]})}_T.createRoot(document.getElementById("root")).render(wt.jsx(Vn.StrictMode,{children:wt.jsx(aI,{})}));
